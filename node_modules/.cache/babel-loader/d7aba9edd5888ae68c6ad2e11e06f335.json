{"ast":null,"code":"import { mapGetters } from \"vuex\";\nimport service from \"@/service/MusteriIslemService\";\nimport MusteriListesi from \"@/components/musteriler/MusteriListesi\";\nimport TeklifMusterileri from \"@/components/musteriler/TeklifMusterileri\";\nimport FuarMusterileri from \"@/components/musteriler/FuarMusterileri\";\nimport BgpMusterileri from \"@/components/musteriler/BgpMusterileri\";\nimport socket from \"@/service/SocketService\";\nimport { FilterMatchMode } from \"primevue/api\";\nexport default {\n  components: {\n    MusteriListesi,\n    TeklifMusterileri,\n    FuarMusterileri,\n    BgpMusterileri\n  },\n  computed: {\n    ...mapGetters([\"musteri_listesi\", \"servis_adres\"])\n  },\n  created() {\n    const users = this.$store.getters.__getUsername;\n    this.musteri_tablo_yukle(users);\n    socket.siparis.on(\"musteri_kayitdegisim_emit\", () => {\n      //yapılacak işlemler\n      this.musteri_tablo_yukle(users);\n    });\n  },\n  data() {\n    return {\n      show_all_customers: false,\n      filters: {\n        id: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        musteriadi: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        unvan: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        marketing: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        ulkeadi: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        temsilci: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        satisci: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        }\n      },\n      is_musteri_form: false,\n      musteri_form_baslik: \"\",\n      select_musteri: null,\n      is_musteri_yeni: false,\n      is_detay_ac: true,\n      is_excel: false,\n      musteri_data: null\n    };\n  },\n  methods: {\n    is_change_all_customer(event) {\n      if (event) {\n        service.getMusteriListesi().then(data => {\n          this.$store.dispatch(\"musteri_listesi_yukle_act\", data);\n        });\n      } else {\n        const users = this.$store.getters.__getUsername;\n        this.musteri_tablo_yukle(users);\n      }\n    },\n    musteri_tablo_yukle(users) {\n      this.$store.dispatch(\"loadingBeginAct\");\n      service.getMusteriListesi().then(data => {\n        this.musteri_data = data;\n        if (users == \"Semih\" || users == \"Gizem\" || users == \"Fatih\") {\n          this.$store.dispatch(\"musteri_listesi_yukle_act\", data);\n        } else {\n          const result = data.filter(x => x.temsilci == users);\n          this.$store.dispatch(\"musteri_listesi_yukle_act\", result);\n        }\n        this.$store.dispatch(\"loadingEndAct\");\n      });\n    },\n    yeni_musteri_click() {\n      service.getYeniMusteriModel().then(data => {\n        this.$store.dispatch(\"yeni_musteri_model_yukle_act\", data);\n        this.is_musteri_yeni = true;\n        this.musteri_form_baslik = \"Yeni Müşteri Girişi\";\n        this.is_musteri_form = true;\n      });\n    },\n    detay_ac_click() {\n      service.getMusteriDetay(this.select_musteri.id).then(data => {\n        this.$store.dispatch(\"musteri_detay_yukle_act\", data);\n        this.is_musteri_yeni = false;\n        this.musteri_form_baslik = this.select_musteri.musteriadi;\n        this.is_musteri_form = true;\n      });\n    },\n    musteri_secim_event(event) {\n      this.select_musteri = {\n        ...event.data\n      };\n      this.is_detay_ac = false;\n      this.detay_ac_click();\n    },\n    excel_cikti_al_click() {\n      const data = this.musteri_data;\n      service.getMusteriExcelListesi(data).then(response => {\n        if (response.status) {\n          const link = document.createElement(\"a\");\n          link.href = this.servis_adres + \"musteriler/dosya_islemleri/excelMusterilerDetayListesi\";\n          link.setAttribute(\"download\", \"musteri_listesi.xlsx\");\n          document.body.appendChild(link);\n          link.click();\n          this.is_excel = false;\n        }\n      });\n    }\n  },\n  mounted() {\n    this.emitter.on(\"followingStatus\", data => {\n      this.is_musteri_form = data;\n    });\n  }\n};","map":{"version":3,"mappings":"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","names":["mapGetters","service","MusteriListesi","TeklifMusterileri","FuarMusterileri","BgpMusterileri","socket","FilterMatchMode","components","computed","created","users","$store","getters","__getUsername","musteri_tablo_yukle","siparis","on","data","show_all_customers","filters","id","value","matchMode","STARTS_WITH","musteriadi","unvan","marketing","ulkeadi","temsilci","satisci","is_musteri_form","musteri_form_baslik","select_musteri","is_musteri_yeni","is_detay_ac","is_excel","musteri_data","methods","is_change_all_customer","event","getMusteriListesi","then","dispatch","result","filter","x","yeni_musteri_click","getYeniMusteriModel","detay_ac_click","getMusteriDetay","musteri_secim_event","excel_cikti_al_click","getMusteriExcelListesi","response","status","link","document","createElement","href","servis_adres","setAttribute","body","appendChild","click","mounted","emitter"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\views\\Musteriler.vue"],"sourcesContent":["<template>\r\n  <TabView>\r\n    <TabPanel header=\"Satış Müşterileri\">\r\n      <MusteriListesi></MusteriListesi>\r\n    </TabPanel>\r\n    <TabPanel header=\"Teklif Müşterileri\">\r\n      <TeklifMusterileri></TeklifMusterileri>\r\n    </TabPanel>\r\n    <TabPanel header=\"Fuar ve Ziyaret Müşterileri\">\r\n      <FuarMusterileri></FuarMusterileri>\r\n    </TabPanel>\r\n    <TabPanel header=\"Bgp Müşterileri\"> \r\n      <BgpMusterileri></BgpMusterileri>\r\n    </TabPanel>\r\n  </TabView>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport service from \"@/service/MusteriIslemService\";\r\nimport MusteriListesi from \"@/components/musteriler/MusteriListesi\";\r\nimport TeklifMusterileri from \"@/components/musteriler/TeklifMusterileri\";\r\nimport FuarMusterileri from \"@/components/musteriler/FuarMusterileri\";\r\nimport BgpMusterileri from \"@/components/musteriler/BgpMusterileri\";\r\nimport socket from \"@/service/SocketService\";\r\nimport { FilterMatchMode } from \"primevue/api\";\r\nexport default {\r\n  components: {\r\n    MusteriListesi,\r\n    TeklifMusterileri,\r\n    FuarMusterileri,\r\n    BgpMusterileri\r\n\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"musteri_listesi\", \"servis_adres\"]),\r\n  },\r\n  created() {\r\n    const users = this.$store.getters.__getUsername;\r\n    this.musteri_tablo_yukle(users);\r\n    socket.siparis.on(\"musteri_kayitdegisim_emit\", () => {\r\n      //yapılacak işlemler\r\n      this.musteri_tablo_yukle(users);\r\n    });\r\n  },\r\n  data() {\r\n    return {\r\n      show_all_customers: false,\r\n      filters: {\r\n        id: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        musteriadi: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        unvan: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        marketing: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        ulkeadi: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        temsilci: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        satisci: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      is_musteri_form: false,\r\n      musteri_form_baslik: \"\",\r\n      select_musteri: null,\r\n      is_musteri_yeni: false,\r\n      is_detay_ac: true,\r\n      is_excel: false,\r\n      musteri_data: null,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    is_change_all_customer(event) {\r\n      if (event) {\r\n        service.getMusteriListesi().then((data) => {\r\n          this.$store.dispatch(\"musteri_listesi_yukle_act\", data);\r\n        });\r\n      } else {\r\n        const users = this.$store.getters.__getUsername;\r\n        this.musteri_tablo_yukle(users);\r\n      }\r\n    },\r\n    musteri_tablo_yukle(users) {\r\n      this.$store.dispatch(\"loadingBeginAct\");\r\n      service.getMusteriListesi().then((data) => {\r\n        this.musteri_data = data;\r\n        if (users == \"Semih\" || users == \"Gizem\" || users == \"Fatih\") {\r\n          this.$store.dispatch(\"musteri_listesi_yukle_act\", data);\r\n        } else {\r\n          const result = data.filter((x) => x.temsilci == users);\r\n          this.$store.dispatch(\"musteri_listesi_yukle_act\", result);\r\n        }\r\n\r\n        this.$store.dispatch(\"loadingEndAct\");\r\n      });\r\n    },\r\n    yeni_musteri_click() {\r\n      service.getYeniMusteriModel().then((data) => {\r\n        this.$store.dispatch(\"yeni_musteri_model_yukle_act\", data);\r\n        this.is_musteri_yeni = true;\r\n        this.musteri_form_baslik = \"Yeni Müşteri Girişi\";\r\n        this.is_musteri_form = true;\r\n      });\r\n    },\r\n    detay_ac_click() {\r\n      service.getMusteriDetay(this.select_musteri.id).then((data) => {\r\n        this.$store.dispatch(\"musteri_detay_yukle_act\", data);\r\n        this.is_musteri_yeni = false;\r\n        this.musteri_form_baslik = this.select_musteri.musteriadi;\r\n        this.is_musteri_form = true;\r\n      });\r\n    },\r\n    musteri_secim_event(event) {\r\n      this.select_musteri = { ...event.data };\r\n      this.is_detay_ac = false;\r\n      this.detay_ac_click();\r\n    },\r\n    excel_cikti_al_click() {\r\n      const data = this.musteri_data;\r\n      service.getMusteriExcelListesi(data).then((response) => {\r\n        if (response.status) {\r\n          const link = document.createElement(\"a\");\r\n          link.href =\r\n            this.servis_adres +\r\n            \"musteriler/dosya_islemleri/excelMusterilerDetayListesi\";\r\n\r\n          link.setAttribute(\"download\", \"musteri_listesi.xlsx\");\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          this.is_excel = false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.emitter.on(\"followingStatus\", (data) => {\r\n      this.is_musteri_form = data;\r\n    });\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.p-datatable {\r\n  font-size: 11px;\r\n}\r\n\r\n@media screen and (max-width: 576px) {\r\n  #isMobileButton {\r\n    clear: both;\r\n    margin-left: -200px;\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}