{"ast":null,"code":"import service from \"@/service/OperasyonService\";\nimport NakliyeFaturaDetay from \"@/components/nakliyefatura/NakliyeFaturaDetay\";\nimport { mapGetters } from \"vuex\";\nimport { FilterMatchMode } from \"primevue/api\";\nexport default {\n  computed: {\n    ...mapGetters([\"nakliye_data_list\"])\n  },\n  data() {\n    return {\n      evrak_sil_button: true,\n      isMobile: null,\n      takip_listesi: null,\n      filters: {\n        tarih: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        siparis_no: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        firma_adi: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        faturaNo: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        }\n      },\n      selectFatura: null,\n      is_form: false,\n      id: null,\n      evrak_id: null,\n      siparis_no: null\n    };\n  },\n  components: {\n    NakliyeFaturaDetay\n  },\n  created() {\n    this.$store.dispatch(\"datatableLoadingBeginAct\");\n    service.getNakliyeListesi().then(data => {\n      this.$store.dispatch(\"nakliye_data_list_yukle_act\", data);\n      this.$store.dispatch(\"datatableLoadingEndAct\");\n    });\n  },\n  methods: {\n    FaturaSec(event) {\n      this.is_form = true;\n      this.evrak_sil_button = false;\n      this.evrak_id = event.data.faturaNo;\n      this.siparis_no = event.data.siparis_no;\n      console.log(event);\n      service.getNakliyeFormIslem(event.data.Firma_id, event.data.faturaNo, event.data.siparis_no).then(data => {\n        this.$store.dispatch(\"nakliye_yukle_act\", data);\n        this.is_takipform = true;\n      });\n    },\n    formatPriceDolar(value) {\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    },\n    formatPriceTL(value) {\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\n      return \"₺\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    },\n    evrak_indir(dosya_link, dosya_adi) {\n      const link = document.createElement(\"a\");\n      link.href = dosya_link;\n      link.setAttribute(\"download\", `${dosya_adi}.pdf`);\n      document.body.appendChild(link);\n      link.click();\n    },\n    faturaDowload(link) {\n      this.evrak_indir(link, \"Nakliye Faturası\");\n    }\n  }\n};","map":{"version":3,"mappings":"AA4JA,OAAOA,OAAM,MAAO,4BAA4B;AAChD,OAAOC,kBAAiB,MAAO,+CAA+C;AAC9E,SAASC,UAAS,QAAS,MAAM;AACjC,SAASC,eAAc,QAAS,cAAa;AAC7C,eAAe;EACbC,QAAQ,EAAE;IACR,GAAGF,UAAU,CAAC,CAAC,mBAAmB,CAAC;EACrC,CAAC;EACDG,IAAI,GAAG;IACL,OAAO;MACLC,gBAAgB,EAAE,IAAI;MACtBC,QAAQ,EAAE,IAAI;MACdC,aAAa,EAAE,IAAI;MACnBC,OAAO,EAAE;QACPC,KAAK,EAAE;UAAEC,KAAK,EAAE,IAAI;UAAEC,SAAS,EAAET,eAAe,CAACU;QAAY,CAAC;QAC9DC,UAAU,EAAE;UAAEH,KAAK,EAAE,IAAI;UAAEC,SAAS,EAAET,eAAe,CAACU;QAAY,CAAC;QACnEE,SAAS,EAAE;UAAEJ,KAAK,EAAE,IAAI;UAAEC,SAAS,EAAET,eAAe,CAACU;QAAY,CAAC;QAClEG,QAAQ,EAAE;UAAEL,KAAK,EAAE,IAAI;UAAEC,SAAS,EAAET,eAAe,CAACU;QAAY;MAElE,CAAC;MACDI,YAAY,EAAE,IAAI;MAClBC,OAAO,EAAE,KAAK;MACdC,EAAE,EAAE,IAAI;MACRC,QAAQ,EAAE,IAAI;MACdN,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDO,UAAU,EAAE;IACVpB;EACF,CAAC;EACDqB,OAAO,GAAG;IACR,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,0BAA0B,CAAC;IAEhDxB,OAAO,CAACyB,iBAAiB,EAAE,CAACC,IAAI,CAAErB,IAAI,IAAK;MACzC,IAAI,CAACkB,MAAM,CAACC,QAAQ,CAAC,6BAA6B,EAAEnB,IAAI,CAAC;MACzD,IAAI,CAACkB,MAAM,CAACC,QAAQ,CAAC,wBAAwB,CAAC;IAChD,CAAC,CAAC;EACJ,CAAC;EACDG,OAAO,EAAE;IACPC,SAAS,CAACC,KAAK,EAAE;MACf,IAAI,CAACX,OAAM,GAAI,IAAI;MACnB,IAAI,CAACZ,gBAAe,GAAI,KAAK;MAC7B,IAAI,CAACc,QAAO,GAAIS,KAAK,CAACxB,IAAI,CAACW,QAAQ;MACnC,IAAI,CAACF,UAAS,GAAIe,KAAK,CAACxB,IAAI,CAACS,UAAU;MACvCgB,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB7B,OAAM,CACHgC,mBAAmB,CAClBH,KAAK,CAACxB,IAAI,CAAC4B,QAAQ,EACnBJ,KAAK,CAACxB,IAAI,CAACW,QAAQ,EACnBa,KAAK,CAACxB,IAAI,CAACS,UAAS,CACtB,CACCY,IAAI,CAAErB,IAAI,IAAK;QACd,IAAI,CAACkB,MAAM,CAACC,QAAQ,CAAC,mBAAmB,EAAEnB,IAAI,CAAC;QAE/C,IAAI,CAAC6B,YAAW,GAAI,IAAI;MAC1B,CAAC,CAAC;IACN,CAAC;IAEDC,gBAAgB,CAACxB,KAAK,EAAE;MACtB,IAAIyB,GAAE,GAAI,CAACzB,KAAI,GAAI,CAAC,EAAE0B,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;MAClD,OAAO,GAAE,GAAIF,GAAG,CAACG,QAAQ,EAAE,CAACD,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAC;IACnE,CAAC;IACDE,aAAa,CAAC7B,KAAK,EAAE;MACnB,IAAIyB,GAAE,GAAI,CAACzB,KAAI,GAAI,CAAC,EAAE0B,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;MAClD,OAAO,GAAE,GAAIF,GAAG,CAACG,QAAQ,EAAE,CAACD,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAC;IACnE,CAAC;IACDG,WAAW,CAACC,UAAU,EAAEC,SAAS,EAAE;MACjC,MAAMC,IAAG,GAAIC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACxCF,IAAI,CAACG,IAAG,GAAIL,UAAU;MAEtBE,IAAI,CAACI,YAAY,CAAC,UAAU,EAAG,GAAEL,SAAU,MAAK,CAAC;MACjDE,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,IAAI,CAAC;MAC/BA,IAAI,CAACO,KAAK,EAAE;IACd,CAAC;IAEDC,aAAa,CAACR,IAAI,EAAE;MAClB,IAAI,CAACH,WAAW,CAACG,IAAI,EAAE,kBAAkB,CAAC;IAC5C;EACF;AACF,CAAC","names":["service","NakliyeFaturaDetay","mapGetters","FilterMatchMode","computed","data","evrak_sil_button","isMobile","takip_listesi","filters","tarih","value","matchMode","STARTS_WITH","siparis_no","firma_adi","faturaNo","selectFatura","is_form","id","evrak_id","components","created","$store","dispatch","getNakliyeListesi","then","methods","FaturaSec","event","console","log","getNakliyeFormIslem","Firma_id","is_takipform","formatPriceDolar","val","toFixed","replace","toString","formatPriceTL","evrak_indir","dosya_link","dosya_adi","link","document","createElement","href","setAttribute","body","appendChild","click","faturaDowload"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\views\\NakliyeFaturaListesi.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"columns is-multiline\">\r\n      <div class=\"column is-12 seleksiyon-list\">\r\n        <DataTable\r\n          :value=\"nakliye_data_list\"\r\n          v-model:filters=\"filters\"\r\n          filterDisplay=\"menu\"\r\n          :paginator=\"true\"\r\n          :rows=\"15\"\r\n          selectionMode=\"single\"\r\n          :selection=\"selectFatura\"\r\n          @row-select=\"FaturaSec($event)\"\r\n          :loading=\"$store.getters.datatableLoading\"\r\n        >\r\n          <template #header>\r\n            <div class=\"columns is-multiline\">\r\n              <div class=\"column is-12\">\r\n                <span style=\"font-size: 14px\">Nakliye Fatura Listesi</span>\r\n              </div>\r\n            </div>\r\n          </template>\r\n\r\n          <Column\r\n            field=\"tarih\"\r\n            header=\"Tarih\"\r\n            bodyStyle=\"text-align:center\"\r\n            headerStyle=\"width:10px;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.tarih }}\r\n            </template>\r\n            <template #filter=\"{ filterModel, filterCallback }\">\r\n              <InputText\r\n                type=\"text\"\r\n                v-model=\"filterModel.value\"\r\n                @input=\"filterCallback()\"\r\n                class=\"p-column-filter\"\r\n                placeholder=\"Search by Customer\"\r\n              />\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"siparis_no\"\r\n            header=\"Order\"\r\n            bodyStyle=\"text-align:center\"\r\n            headerStyle=\"width:10px;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.siparis_no }}\r\n            </template>\r\n            <template #filter=\"{ filterModel, filterCallback }\">\r\n              <InputText\r\n                type=\"text\"\r\n                v-model=\"filterModel.value\"\r\n                @input=\"filterCallback()\"\r\n                class=\"p-column-filter\"\r\n                placeholder=\"Search by Customer\"\r\n              />\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"firma_adi\"\r\n            header=\"Firma Adı\"\r\n            bodyStyle=\"text-align:left\"\r\n            headerStyle=\"width:50px;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.firma_adi }}\r\n            </template>\r\n            <template #filter=\"{ filterModel, filterCallback }\">\r\n              <InputText\r\n                type=\"text\"\r\n                v-model=\"filterModel.value\"\r\n                @input=\"filterCallback()\"\r\n                class=\"p-column-filter\"\r\n                placeholder=\"Search by Customer\"\r\n              />\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"faturaNo\"\r\n            header=\"Fatura Numarası\"\r\n            bodyStyle=\"text-align:left\"\r\n            headerStyle=\"width:20px;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.faturaNo }}\r\n            </template>\r\n            <template #filter=\"{ filterModel, filterCallback }\">\r\n              <InputText\r\n                type=\"text\"\r\n                v-model=\"filterModel.value\"\r\n                @input=\"filterCallback()\"\r\n                class=\"p-column-filter\"\r\n                placeholder=\"Search by Customer\"\r\n              />\r\n            </template>\r\n          </Column>\r\n\r\n          <Column\r\n            field=\"Tutar_tl\"\r\n            header=\"Tutar (TRY)\"\r\n            bodyStyle=\"text-align:center\"\r\n            headerStyle=\"width:10px;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ formatPriceTL(slotProps.data.Tutar_tl) }}\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"kur\"\r\n            header=\"Kur\"\r\n            bodyStyle=\"text-align:center\"\r\n            headerStyle=\"width:10px;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.kur }}\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"Tutar_dolar\"\r\n            header=\"Tutar (Dolar)\"\r\n            bodyStyle=\"text-align:center\"\r\n            headerStyle=\"width:10px;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ formatPriceDolar(slotProps.data.Tutar_dolar) }}\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            header=\"İndir\"\r\n            headerStyle=\"width:10px\"\r\n            bodyStyle=\"text-align:center\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              <Button\r\n                type=\"button\"\r\n                :disabled=\"slotProps.data.link.length > 0 ? false : true\"\r\n                @click=\"faturaDowload(slotProps.data.link)\"\r\n                icon=\"fas fa-file-invoice\"\r\n                class=\"p-button-rounded\"\r\n                style=\"margin-right: 0.5em\"\r\n              ></Button>\r\n            </template>\r\n          </Column>\r\n        </DataTable>\r\n      </div>\r\n\r\n      <Dialog v-model:visible=\"is_form\" header=\"Nakliye Form\" :modal=\"true\" position=\"top\">\r\n        <NakliyeFaturaDetay></NakliyeFaturaDetay>\r\n      </Dialog>\r\n    </div>\r\n  </section>\r\n</template>\r\n<script>\r\nimport service from \"@/service/OperasyonService\";\r\nimport NakliyeFaturaDetay from \"@/components/nakliyefatura/NakliyeFaturaDetay\";\r\nimport { mapGetters } from \"vuex\";\r\nimport { FilterMatchMode } from \"primevue/api\"\r\nexport default {\r\n  computed: {\r\n    ...mapGetters([\"nakliye_data_list\"]),\r\n  },\r\n  data() {\r\n    return {\r\n      evrak_sil_button: true,\r\n      isMobile: null,\r\n      takip_listesi: null,\r\n      filters: {\r\n        tarih: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        siparis_no: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        firma_adi: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        faturaNo: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n\r\n      },\r\n      selectFatura: null,\r\n      is_form: false,\r\n      id: null,\r\n      evrak_id: null,\r\n      siparis_no: null,\r\n    };\r\n  },\r\n  components: {\r\n    NakliyeFaturaDetay,\r\n  },\r\n  created() {\r\n    this.$store.dispatch(\"datatableLoadingBeginAct\");\r\n\r\n    service.getNakliyeListesi().then((data) => {\r\n      this.$store.dispatch(\"nakliye_data_list_yukle_act\", data);\r\n      this.$store.dispatch(\"datatableLoadingEndAct\");\r\n    });\r\n  },\r\n  methods: {\r\n    FaturaSec(event) {\r\n      this.is_form = true;\r\n      this.evrak_sil_button = false;\r\n      this.evrak_id = event.data.faturaNo;\r\n      this.siparis_no = event.data.siparis_no;\r\n      console.log(event);\r\n      service\r\n        .getNakliyeFormIslem(\r\n          event.data.Firma_id,\r\n          event.data.faturaNo,\r\n          event.data.siparis_no\r\n        )\r\n        .then((data) => {\r\n          this.$store.dispatch(\"nakliye_yukle_act\", data);\r\n\r\n          this.is_takipform = true;\r\n        });\r\n    },\r\n\r\n    formatPriceDolar(value) {\r\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\r\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n    },\r\n    formatPriceTL(value) {\r\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\r\n      return \"₺\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n    },\r\n    evrak_indir(dosya_link, dosya_adi) {\r\n      const link = document.createElement(\"a\");\r\n      link.href = dosya_link;\r\n\r\n      link.setAttribute(\"download\", `${dosya_adi}.pdf`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n    },\r\n\r\n    faturaDowload(link) {\r\n      this.evrak_indir(link, \"Nakliye Faturası\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.p-datatable {\r\n  font-size: 12px;\r\n}\r\n\r\n.p-button-rounded {\r\n  background-color: green;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}