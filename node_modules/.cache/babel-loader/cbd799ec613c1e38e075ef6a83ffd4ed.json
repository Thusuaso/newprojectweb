{"ast":null,"code":"import service from \"@/service/OperasyonService\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  computed: {\n    ...mapGetters([\"yuklemeList\"])\n  },\n  data() {\n    return {\n      select_row: null\n    };\n  },\n  props: [\"siparisNo\"],\n  created() {\n    service.getEvrakFaturaList(this.siparisNo).then(data => {\n      this.$store.dispatch(\"siparis_evrak_list_load\", data.fatura_listesi);\n    });\n  },\n  methods: {\n    faturaDosyaSilme(event) {\n      if (confirm(\"Gerçekten silmek istiyor musunuz?\")) {\n        service.setDeleteFaturaEvrak(event, this.siparisNo).then(data => {\n          if (data) {\n            this.$store.dispatch(\"datatableLoadingBeginAct\");\n            service.getEvrakFaturaList(this.siparisNo).then(data => {\n              this.$toast.add({\n                severity: \"success\",\n                summary: \"Evrak Silme\",\n                detail: \"Evrak başarıyla silindi.\",\n                life: 3000\n              });\n              this.$store.dispatch(\"siparis_evrak_list_load\", data.fatura_listesi);\n              this.$store.dispatch(\"datatableLoadingEndAct\");\n            });\n          } else {\n            this.$toast.add({\n              severity: \"error\",\n              summary: \"Evrak Silme\",\n              detail: \"Evrak silme hata.\",\n              life: 3000\n            });\n          }\n        });\n      } else {\n        console.log(\"hayır\");\n      }\n    },\n    evrak_indir(dosya_link, dosya_adi) {\n      const link = document.createElement(\"a\");\n      link.href = dosya_link;\n      link.setAttribute(\"download\", `${dosya_adi}.pdf`);\n      document.body.appendChild(link);\n      link.click();\n    },\n    teklifDowload(id) {\n      this.evrak_indir(this.aylik_teklif__ayrinti[id].teklif_cloud_dosya, \"Teklif\");\n    },\n    faturaDowload(id) {\n      window.open(this.yuklemeList[id].Draft, \"_blank\");\n    }\n  }\n};","map":{"version":3,"mappings":"AAkEA,OAAOA,OAAM,MAAO,4BAA4B;AAChD,SAASC,UAAS,QAAS,MAAM;AACjC,eAAe;EACbC,QAAQ,EAAE;IACR,GAAGD,UAAU,CAAC,CAAC,aAAa,CAAC;EAC/B,CAAC;EACDE,IAAI,GAAG;IACL,OAAO;MACLC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EAEDC,KAAK,EAAE,CAAC,WAAW,CAAC;EACpBC,OAAO,GAAG;IACRN,OAAO,CAACO,kBAAkB,CAAC,IAAI,CAACC,SAAS,CAAC,CAACC,IAAI,CAAEN,IAAI,IAAK;MACxD,IAAI,CAACO,MAAM,CAACC,QAAQ,CAAC,yBAAyB,EAAER,IAAI,CAACS,cAAc,CAAC;IACtE,CAAC,CAAC;EACJ,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgB,CAACC,KAAK,EAAE;MACtB,IAAIC,OAAO,CAAC,mCAAmC,CAAC,EAAE;QAChDhB,OAAO,CAACiB,oBAAoB,CAACF,KAAK,EAAE,IAAI,CAACP,SAAS,CAAC,CAACC,IAAI,CAAEN,IAAI,IAAK;UACjE,IAAIA,IAAI,EAAE;YACR,IAAI,CAACO,MAAM,CAACC,QAAQ,CAAC,0BAA0B,CAAC;YAChDX,OAAO,CAACO,kBAAkB,CAAC,IAAI,CAACC,SAAS,CAAC,CAACC,IAAI,CAAEN,IAAI,IAAK;cACxD,IAAI,CAACe,MAAM,CAACC,GAAG,CAAC;gBACdC,QAAQ,EAAE,SAAS;gBACnBC,OAAO,EAAE,aAAa;gBACtBC,MAAM,EAAE,0BAA0B;gBAClCC,IAAI,EAAE;cACR,CAAC,CAAC;cACF,IAAI,CAACb,MAAM,CAACC,QAAQ,CAClB,yBAAyB,EACzBR,IAAI,CAACS,cAAa,CACnB;cAED,IAAI,CAACF,MAAM,CAACC,QAAQ,CAAC,wBAAwB,CAAC;YAChD,CAAC,CAAC;UACJ,OAAO;YACL,IAAI,CAACO,MAAM,CAACC,GAAG,CAAC;cACdC,QAAQ,EAAE,OAAO;cACjBC,OAAO,EAAE,aAAa;cACtBC,MAAM,EAAE,mBAAmB;cAC3BC,IAAI,EAAE;YACR,CAAC,CAAC;UACJ;QACF,CAAC,CAAC;MACJ,OAAO;QACLC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;MACtB;IACF,CAAC;IACDC,WAAW,CAACC,UAAU,EAAEC,SAAS,EAAE;MACjC,MAAMC,IAAG,GAAIC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACxCF,IAAI,CAACG,IAAG,GAAIL,UAAU;MACtBE,IAAI,CAACI,YAAY,CAAC,UAAU,EAAG,GAAEL,SAAU,MAAK,CAAC;MACjDE,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,IAAI,CAAC;MAC/BA,IAAI,CAACO,KAAK,EAAE;IACd,CAAC;IAEDC,aAAa,CAACC,EAAE,EAAE;MAChB,IAAI,CAACZ,WAAW,CACd,IAAI,CAACa,qBAAqB,CAACD,EAAE,CAAC,CAACE,kBAAkB,EACjD,QAAO,CACR;IACH,CAAC;IACDC,aAAa,CAACH,EAAE,EAAE;MAChBI,MAAM,CAACC,IAAI,CAAC,IAAI,CAACC,WAAW,CAACN,EAAE,CAAC,CAACO,KAAK,EAAE,QAAQ,CAAC;IACnD;EACF;AACF,CAAC","names":["service","mapGetters","computed","data","select_row","props","created","getEvrakFaturaList","siparisNo","then","$store","dispatch","fatura_listesi","methods","faturaDosyaSilme","event","confirm","setDeleteFaturaEvrak","$toast","add","severity","summary","detail","life","console","log","evrak_indir","dosya_link","dosya_adi","link","document","createElement","href","setAttribute","body","appendChild","click","teklifDowload","id","aylik_teklif__ayrinti","teklif_cloud_dosya","faturaDowload","window","open","yuklemeList","Draft"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\siparisler\\siparisGiris\\Evraklar.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"p-col-12 p-md-11\">\r\n      <div class=\"p-col-10 p-md-10\" style=\"margin-left: 50px\">\r\n        <DataTable\r\n          :value=\"yuklemeList\"\r\n          class=\"p-datatable-customers\"\r\n          :loading=\"$store.getters.datatableLoading\"\r\n        >\r\n          <Column\r\n            field=\"faturano\"\r\n            header=\"#\"\r\n            bodyStyle=\"text-align:center;\"\r\n            headerStyle=\"width:5%;\"\r\n          ></Column>\r\n          <Column\r\n            field=\"yuklemeTarihi\"\r\n            headerStyle=\"width:5%;\"\r\n            bodyStyle=\"text-align:center\"\r\n            header=\"Evrak Yukleme Tarihi\"\r\n          ></Column>\r\n          <Column\r\n            field=\"adi\"\r\n            header=\"Evrak Adı\"\r\n            headerStyle=\"width:10%;\"\r\n            bodyStyle=\"text-align:left\"\r\n          ></Column>\r\n\r\n          <Column\r\n            header=\"İndir\"\r\n            headerStyle=\"width:4%;\"\r\n            bodyStyle=\"text-align:center\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              <Button\r\n                type=\"button\"\r\n                @click=\"faturaDowload(slotProps.data.id)\"\r\n                icon=\"fas fa-download\"\r\n                class=\"p-button\"\r\n                style=\"margin-right: 0.5em; background-color: #3cb371\"\r\n              ></Button>\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"kullanici\"\r\n            headerStyle=\"width:5%\"\r\n            bodyStyle=\"text-align:center\"\r\n          >\r\n          </Column>\r\n          <Column headerStyle=\"width:10%;\" bodyStyle=\"text-align:left\">\r\n            <template #body=\"slotProps\">\r\n              <Button\r\n                :disabled=\"false\"\r\n                label=\"Sil\"\r\n                class=\"p-button-danger\"\r\n                @click=\"faturaDosyaSilme(slotProps.data.faturaId)\"\r\n              />\r\n            </template>\r\n          </Column>\r\n          <template #footer> </template>\r\n        </DataTable>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n<script>\r\nimport service from \"@/service/OperasyonService\";\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  computed: {\r\n    ...mapGetters([\"yuklemeList\"]),\r\n  },\r\n  data() {\r\n    return {\r\n      select_row: null,\r\n    };\r\n  },\r\n\r\n  props: [\"siparisNo\"],\r\n  created() {\r\n    service.getEvrakFaturaList(this.siparisNo).then((data) => {\r\n      this.$store.dispatch(\"siparis_evrak_list_load\", data.fatura_listesi);\r\n    });\r\n  },\r\n  methods: {\r\n    faturaDosyaSilme(event) {\r\n      if (confirm(\"Gerçekten silmek istiyor musunuz?\")) {\r\n        service.setDeleteFaturaEvrak(event, this.siparisNo).then((data) => {\r\n          if (data) {\r\n            this.$store.dispatch(\"datatableLoadingBeginAct\");\r\n            service.getEvrakFaturaList(this.siparisNo).then((data) => {\r\n              this.$toast.add({\r\n                severity: \"success\",\r\n                summary: \"Evrak Silme\",\r\n                detail: \"Evrak başarıyla silindi.\",\r\n                life: 3000,\r\n              });\r\n              this.$store.dispatch(\r\n                \"siparis_evrak_list_load\",\r\n                data.fatura_listesi\r\n              );\r\n\r\n              this.$store.dispatch(\"datatableLoadingEndAct\");\r\n            });\r\n          } else {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Evrak Silme\",\r\n              detail: \"Evrak silme hata.\",\r\n              life: 3000,\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        console.log(\"hayır\");\r\n      }\r\n    },\r\n    evrak_indir(dosya_link, dosya_adi) {\r\n      const link = document.createElement(\"a\");\r\n      link.href = dosya_link;\r\n      link.setAttribute(\"download\", `${dosya_adi}.pdf`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n    },\r\n\r\n    teklifDowload(id) {\r\n      this.evrak_indir(\r\n        this.aylik_teklif__ayrinti[id].teklif_cloud_dosya,\r\n        \"Teklif\"\r\n      );\r\n    },\r\n    faturaDowload(id) {\r\n      window.open(this.yuklemeList[id].Draft, \"_blank\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.p-datatable {\r\n  font-size: 11px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}