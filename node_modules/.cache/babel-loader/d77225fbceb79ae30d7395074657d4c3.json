{"ast":null,"code":"import SiparisService from \"@/service/SiparisService\";\nimport KullaniciService from \"@/service/KullaniciService\";\nimport service from \"@/service/MusteriIslemService\";\nimport fileUpload from \"@/components/shared/CustomInputFile\";\nimport { mapGetters } from \"vuex\";\nimport digitalOcean from \"@/service/DigitalOceanService\";\nexport default {\n  components: {\n    fileUpload\n  },\n  computed: {\n    ...mapGetters([\"fuarMusteri\"])\n  },\n  data() {\n    return {\n      filters: {},\n      fuarCustForm: false,\n      fuarList: [],\n      select_ulke: \"\",\n      newCustForm: false,\n      newFuarMusteri: {\n        customer: \"\",\n        company: \"\",\n        email: \"\",\n        phone: \"\",\n        country: 0,\n        user: 0,\n        adress: \"\",\n        orderer: \"\",\n        linkArka: \"\",\n        linkOn: \"\"\n      },\n      filter_ulke_list: [],\n      musteri_ulke_list: [],\n      fuarMusteriAyrinti: [],\n      userId: null,\n      button_disable: true\n    };\n  },\n  created() {\n    service.getFuarMusterilerList().then(data => {\n      this.$store.dispatch(\"fuar_musteri_load_act\", data);\n    });\n    this.serviceSip = new SiparisService();\n    this.kullaniciService = new KullaniciService();\n    this.serviceSip.getUlkeList().then(data => {\n      this.musteri_ulke_list = data;\n    });\n    this.kullaniciService.getKullaniciList().then(data => {\n      this.kullaniciList = data;\n    });\n    this.userId = this.$store.getters.__getUserId;\n  },\n  methods: {\n    fuarDosyaGonder(event) {\n      digitalOcean.fotoGonderFuar(event, this.newFuarMusteri.customer);\n      this.newFuarMusteri.linkOn = `https://mekmar-image.fra1.digitaloceanspaces.com/fuar/${this.newFuarMusteri.customer + \" \" + event.name}`;\n    },\n    fuarDosyaGonder2(event) {\n      digitalOcean.fotoGonderFuar(event, this.newFuarMusteri.customer);\n      this.newFuarMusteri.linkArka = `https://mekmar-image.fra1.digitaloceanspaces.com/fuar/${this.newFuarMusteri.customer + \" \" + event.name}`;\n      this.button_disable = false;\n    },\n    deleteMust(event) {\n      service.setNewFuarMusterileSil(event).then(data => {\n        if (data.status) {\n          this.$toast.add({\n            severity: \"success\",\n            summary: \"Sil\",\n            detail: \"Silme İşlemi Başarılı\",\n            life: 3000\n          });\n          this.$store.dispatch(\"fuar_musteri_load_act\", data.liste);\n          this.fuarCustForm = false;\n        } else {\n          this.$toast.add({\n            severity: \"error\",\n            summary: \"Sil\",\n            detail: \"Silme İşlemi Hatalı\",\n            life: 3000\n          });\n        }\n      });\n    },\n    newCust() {\n      this.newCustForm = true;\n      this.select_ulke = \"\";\n    },\n    fuar_musteri_secim_event(event) {\n      service.getFuarMusterilerListAyrinti(event.data.id).then(data => {\n        this.fuarMusteriAyrinti = data[0];\n        this.select_ulke = this.musteri_ulke_list.filter(x => x.id == this.fuarMusteriAyrinti.country)[0];\n        this.fuarCustForm = true;\n      });\n    },\n    ulke_complete_event(event) {\n      this.filter_ulke_list = this.musteri_ulke_list.filter(x => {\n        return x.ulkeAdi.toString().toLowerCase().indexOf(event.query.toString().toLowerCase()) >= 0;\n      });\n    },\n    save() {\n      this.newFuarMusteri.country = this.select_ulke.id;\n      this.newFuarMusteri.user = this.userId;\n      service.setNewFuarMusteriler(this.newFuarMusteri).then(data => {\n        if (data.status) {\n          this.$toast.add({\n            severity: \"success\",\n            summary: \"Kayıt\",\n            detail: \"Kayıt İşlemi Başarılı\",\n            life: 3000\n          });\n          this.$store.dispatch(\"fuar_musteri_load_act\", data.liste);\n        } else {\n          this.$toast.add({\n            severity: \"error\",\n            summary: \"Kayıt\",\n            detail: \"Kayıt İşlemi Hatalı\",\n            life: 3000\n          });\n        }\n      });\n    },\n    update() {\n      this.fuarMusteriAyrinti.country = this.select_ulke.id;\n      service.setNewFuarMusterilerGuncelle(this.fuarMusteriAyrinti).then(data => {\n        if (data.status) {\n          this.$toast.add({\n            severity: \"success\",\n            summary: \"Güncelleme\",\n            detail: \"Güncelleme İşlemi Başarılı\",\n            life: 3000\n          });\n          this.$store.dispatch(\"fuar_musteri_load_act\", data.liste);\n        } else {\n          this.$toast.add({\n            severity: \"error\",\n            summary: \"Güncelleme\",\n            detail: \"Güncelleme İşlemi Hatalı\",\n            life: 3000\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAsOA,OAAOA,cAAa,MAAO,0BAA0B;AACrD,OAAOC,gBAAe,MAAO,4BAA4B;AAEzD,OAAOC,OAAM,MAAO,+BAA+B;AACnD,OAAOC,UAAS,MAAO,qCAAqC;AAC5D,SAASC,UAAS,QAAS,MAAM;AACjC,OAAOC,YAAW,MAAO,+BAA+B;AAExD,eAAe;EACbC,UAAU,EAAE;IACVH;EACF,CAAC;EACDI,QAAQ,EAAE;IACR,GAAGH,UAAU,CAAC,CAAC,aAAa,CAAC;EAC/B,CAAC;EACDI,IAAI,GAAG;IACL,OAAO;MACLC,OAAO,EAAE,CAAC,CAAC;MACXC,YAAY,EAAE,KAAK;MACnBC,QAAQ,EAAE,EAAE;MACZC,WAAW,EAAE,EAAE;MACfC,WAAW,EAAE,KAAK;MAClBC,cAAc,EAAE;QACdC,QAAQ,EAAE,EAAE;QACZC,OAAO,EAAE,EAAE;QACXC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE,EAAE;QACTC,OAAO,EAAE,CAAC;QACVC,IAAI,EAAE,CAAC;QACPC,MAAM,EAAE,EAAE;QACVC,OAAO,EAAE,EAAE;QACXC,QAAQ,EAAE,EAAE;QACZC,MAAM,EAAE;MACV,CAAC;MACDC,gBAAgB,EAAE,EAAE;MACpBC,iBAAiB,EAAE,EAAE;MACrBC,kBAAkB,EAAE,EAAE;MACtBC,MAAM,EAAE,IAAI;MACZC,cAAc,EAAE;IAClB,CAAC;EACH,CAAC;EACDC,OAAO,GAAG;IACR5B,OAAO,CAAC6B,qBAAqB,EAAE,CAACC,IAAI,CAAExB,IAAI,IAAK;MAC7C,IAAI,CAACyB,MAAM,CAACC,QAAQ,CAAC,uBAAuB,EAAE1B,IAAI,CAAC;IACrD,CAAC,CAAC;IAEF,IAAI,CAAC2B,UAAS,GAAI,IAAInC,cAAc,EAAE;IACtC,IAAI,CAACoC,gBAAe,GAAI,IAAInC,gBAAgB,EAAE;IAC9C,IAAI,CAACkC,UAAU,CAACE,WAAW,EAAE,CAACL,IAAI,CAAExB,IAAI,IAAK;MAC3C,IAAI,CAACkB,iBAAgB,GAAIlB,IAAI;IAC/B,CAAC,CAAC;IACF,IAAI,CAAC4B,gBAAgB,CAACE,gBAAgB,EAAE,CAACN,IAAI,CAAExB,IAAI,IAAK;MACtD,IAAI,CAAC+B,aAAY,GAAI/B,IAAI;IAC3B,CAAC,CAAC;IACF,IAAI,CAACoB,MAAK,GAAI,IAAI,CAACK,MAAM,CAACO,OAAO,CAACC,WAAW;EAC/C,CAAC;EACDC,OAAO,EAAE;IACPC,eAAe,CAACC,KAAK,EAAE;MACrBvC,YAAY,CAACwC,cAAc,CAACD,KAAK,EAAE,IAAI,CAAC9B,cAAc,CAACC,QAAQ,CAAC;MAChE,IAAI,CAACD,cAAc,CAACU,MAAK,GAAK,yDAC5B,IAAI,CAACV,cAAc,CAACC,QAAO,GAAI,GAAE,GAAI6B,KAAK,CAACE,IAC5C,EAAC;IACJ,CAAC;IACDC,gBAAgB,CAACH,KAAK,EAAE;MACtBvC,YAAY,CAACwC,cAAc,CAACD,KAAK,EAAE,IAAI,CAAC9B,cAAc,CAACC,QAAQ,CAAC;MAChE,IAAI,CAACD,cAAc,CAACS,QAAO,GAAK,yDAC9B,IAAI,CAACT,cAAc,CAACC,QAAO,GAAI,GAAE,GAAI6B,KAAK,CAACE,IAC5C,EAAC;MACF,IAAI,CAACjB,cAAa,GAAI,KAAK;IAC7B,CAAC;IACDmB,UAAU,CAACJ,KAAK,EAAE;MAChB1C,OAAO,CAAC+C,sBAAsB,CAACL,KAAK,CAAC,CAACZ,IAAI,CAAExB,IAAI,IAAK;QACnD,IAAIA,IAAI,CAAC0C,MAAM,EAAE;UACf,IAAI,CAACC,MAAM,CAACC,GAAG,CAAC;YACdC,QAAQ,EAAE,SAAS;YACnBC,OAAO,EAAE,KAAK;YACdC,MAAM,EAAE,uBAAuB;YAC/BC,IAAI,EAAE;UACR,CAAC,CAAC;UACF,IAAI,CAACvB,MAAM,CAACC,QAAQ,CAAC,uBAAuB,EAAE1B,IAAI,CAACiD,KAAK,CAAC;UAEzD,IAAI,CAAC/C,YAAW,GAAI,KAAK;QAC3B,OAAO;UACL,IAAI,CAACyC,MAAM,CAACC,GAAG,CAAC;YACdC,QAAQ,EAAE,OAAO;YACjBC,OAAO,EAAE,KAAK;YACdC,MAAM,EAAE,qBAAqB;YAC7BC,IAAI,EAAE;UACR,CAAC,CAAC;QACJ;MACF,CAAC,CAAC;IACJ,CAAC;IACDE,OAAO,GAAG;MACR,IAAI,CAAC7C,WAAU,GAAI,IAAI;MACvB,IAAI,CAACD,WAAU,GAAI,EAAE;IACvB,CAAC;IACD+C,wBAAwB,CAACf,KAAK,EAAE;MAC9B1C,OAAO,CAAC0D,4BAA4B,CAAChB,KAAK,CAACpC,IAAI,CAACqD,EAAE,CAAC,CAAC7B,IAAI,CAAExB,IAAI,IAAK;QACjE,IAAI,CAACmB,kBAAiB,GAAInB,IAAI,CAAC,CAAC,CAAC;QACjC,IAAI,CAACI,WAAU,GAAI,IAAI,CAACc,iBAAiB,CAACoC,MAAM,CAC7CC,CAAC,IAAKA,CAAC,CAACF,EAAC,IAAK,IAAI,CAAClC,kBAAkB,CAACR,OAAM,CAC9C,CAAC,CAAC,CAAC;QAEJ,IAAI,CAACT,YAAW,GAAI,IAAI;MAC1B,CAAC,CAAC;IACJ,CAAC;IACDsD,mBAAmB,CAACpB,KAAK,EAAE;MACzB,IAAI,CAACnB,gBAAe,GAAI,IAAI,CAACC,iBAAiB,CAACoC,MAAM,CAAEC,CAAC,IAAK;QAC3D,OACEA,CAAC,CAACE,OAAM,CACLC,QAAQ,EAAC,CACTC,WAAW,EAAC,CACZC,OAAO,CAACxB,KAAK,CAACyB,KAAK,CAACH,QAAQ,EAAE,CAACC,WAAW,EAAE,KAAK;MAExD,CAAC,CAAC;IACJ,CAAC;IACDG,IAAI,GAAG;MACL,IAAI,CAACxD,cAAc,CAACK,OAAM,GAAI,IAAI,CAACP,WAAW,CAACiD,EAAE;MACjD,IAAI,CAAC/C,cAAc,CAACM,IAAG,GAAI,IAAI,CAACQ,MAAM;MACtC1B,OAAO,CAACqE,oBAAoB,CAAC,IAAI,CAACzD,cAAc,CAAC,CAACkB,IAAI,CAAExB,IAAI,IAAK;QAC/D,IAAIA,IAAI,CAAC0C,MAAM,EAAE;UACf,IAAI,CAACC,MAAM,CAACC,GAAG,CAAC;YACdC,QAAQ,EAAE,SAAS;YACnBC,OAAO,EAAE,OAAO;YAChBC,MAAM,EAAE,uBAAuB;YAC/BC,IAAI,EAAE;UACR,CAAC,CAAC;UACF,IAAI,CAACvB,MAAM,CAACC,QAAQ,CAAC,uBAAuB,EAAE1B,IAAI,CAACiD,KAAK,CAAC;QAC3D,OAAO;UACL,IAAI,CAACN,MAAM,CAACC,GAAG,CAAC;YACdC,QAAQ,EAAE,OAAO;YACjBC,OAAO,EAAE,OAAO;YAChBC,MAAM,EAAE,qBAAqB;YAC7BC,IAAI,EAAE;UACR,CAAC,CAAC;QACJ;MACF,CAAC,CAAC;IACJ,CAAC;IACDgB,MAAM,GAAG;MACP,IAAI,CAAC7C,kBAAkB,CAACR,OAAM,GAAI,IAAI,CAACP,WAAW,CAACiD,EAAE;MACrD3D,OAAM,CACHuE,4BAA4B,CAAC,IAAI,CAAC9C,kBAAkB,EACpDK,IAAI,CAAExB,IAAI,IAAK;QACd,IAAIA,IAAI,CAAC0C,MAAM,EAAE;UACf,IAAI,CAACC,MAAM,CAACC,GAAG,CAAC;YACdC,QAAQ,EAAE,SAAS;YACnBC,OAAO,EAAE,YAAY;YACrBC,MAAM,EAAE,4BAA4B;YACpCC,IAAI,EAAE;UACR,CAAC,CAAC;UACF,IAAI,CAACvB,MAAM,CAACC,QAAQ,CAAC,uBAAuB,EAAE1B,IAAI,CAACiD,KAAK,CAAC;QAC3D,OAAO;UACL,IAAI,CAACN,MAAM,CAACC,GAAG,CAAC;YACdC,QAAQ,EAAE,OAAO;YACjBC,OAAO,EAAE,YAAY;YACrBC,MAAM,EAAE,0BAA0B;YAClCC,IAAI,EAAE;UACR,CAAC,CAAC;QACJ;MACF,CAAC,CAAC;IACN;EACF;AACF,CAAC","names":["SiparisService","KullaniciService","service","fileUpload","mapGetters","digitalOcean","components","computed","data","filters","fuarCustForm","fuarList","select_ulke","newCustForm","newFuarMusteri","customer","company","email","phone","country","user","adress","orderer","linkArka","linkOn","filter_ulke_list","musteri_ulke_list","fuarMusteriAyrinti","userId","button_disable","created","getFuarMusterilerList","then","$store","dispatch","serviceSip","kullaniciService","getUlkeList","getKullaniciList","kullaniciList","getters","__getUserId","methods","fuarDosyaGonder","event","fotoGonderFuar","name","fuarDosyaGonder2","deleteMust","setNewFuarMusterileSil","status","$toast","add","severity","summary","detail","life","liste","newCust","fuar_musteri_secim_event","getFuarMusterilerListAyrinti","id","filter","x","ulke_complete_event","ulkeAdi","toString","toLowerCase","indexOf","query","save","setNewFuarMusteriler","update","setNewFuarMusterilerGuncelle"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\musteriler\\FuarMusterileri.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <Button class=\"p-button-primary\" @click=\"newCust\" label=\"Yeni\"></Button>\r\n    <DataTable\r\n      :value=\"fuarMusteri\"\r\n      v-if=\"fuarMusteri.length > 0\"\r\n      responsiveLayout=\"scroll\"\r\n      v-model:filters=\"filters\"\r\n      selectionMode=\"single\"\r\n      v-model:selection=\"select_fuar_musteri\"\r\n      @row-select=\"fuar_musteri_secim_event($event)\"\r\n    >\r\n      <Column field=\"customer\" header=\"Müşteri Adı\">\r\n        <template #filter>\r\n          <b-input v-model=\"filters['customer']\" />\r\n        </template>\r\n      </Column>\r\n      <Column field=\"company\" header=\"Şirket\"></Column>\r\n      <Column field=\"email\" header=\"Mail\"></Column>\r\n      <Column field=\"phone\" header=\"Telefon\"></Column>\r\n      <Column field=\"adress\" header=\"Adres\"></Column>\r\n      <Column field=\"satisci\" header=\"Satışçı\"></Column>\r\n    </DataTable>\r\n\r\n    <Dialog\r\n      v-model:visible=\"fuarCustForm\"\r\n      header=\"Fuar Müşteri Ayrıntı\"\r\n      :modal=\"true\"\r\n      :breakpoints=\"{ '960px': '75vw', '640px': '100vw' }\"\r\n      :style=\"{ width: '65vw' }\"\r\n    >\r\n      <br />\r\n      <div class=\"columns\">\r\n        <div class=\"column is-4\">\r\n          <span class=\"p-float-label\">\r\n            <InputText\r\n              id=\"musteri\"\r\n              type=\"text\"\r\n              v-model=\"fuarMusteriAyrinti.customer\"\r\n            />\r\n            <label for=\"musteri\">Müşteri Adı</label>\r\n          </span>\r\n        </div>\r\n        <div class=\"column is-4\">\r\n          <span class=\"p-float-label\">\r\n            <InputText\r\n              id=\"company\"\r\n              type=\"text\"\r\n              v-model=\"fuarMusteriAyrinti.company\"\r\n            />\r\n            <label for=\"company\">Şirket</label>\r\n          </span>\r\n        </div>\r\n        <div class=\"column is-4\">\r\n          <span class=\"p-float-label\">\r\n            <b-field label=\"ÜLKE\" label-position=\"on-border\">\r\n              <AutoComplete\r\n                v-model=\"select_ulke\"\r\n                :suggestions=\"filter_ulke_list\"\r\n                @complete=\"ulke_complete_event($event)\"\r\n                field=\"ulkeAdi\"\r\n              />\r\n            </b-field>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"columns\">\r\n        <div class=\"column is-4\">\r\n          <span class=\"p-float-label\">\r\n            <InputText\r\n              id=\"email\"\r\n              type=\"text\"\r\n              v-model=\"fuarMusteriAyrinti.email\"\r\n            />\r\n            <label for=\"email\">Email</label>\r\n          </span>\r\n        </div>\r\n        <div class=\"column is-4\">\r\n          <span class=\"p-float-label\">\r\n            <InputText\r\n              id=\"phone\"\r\n              type=\"text\"\r\n              v-model=\"fuarMusteriAyrinti.phone\"\r\n            />\r\n            <label for=\"phone\">Telefon</label>\r\n          </span>\r\n        </div>\r\n        <div class=\"column is-4\">\r\n          <span class=\"p-float-label\">\r\n            <Textarea\r\n              id=\"address\"\r\n              type=\"text\"\r\n              rows=\"5\"\r\n              cols=\"30\"\r\n              v-model=\"fuarMusteriAyrinti.adress\"\r\n            />\r\n            <label for=\"address\">Adres</label>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <span class=\"p-float-label\">\r\n            <InputText\r\n              id=\"satisci\"\r\n              type=\"text\"\r\n              v-model=\"fuarMusteriAyrinti.satisci\"\r\n            />\r\n            <label for=\"satisci\">Satışçı</label>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"columns\">\r\n        <div class=\"column is-6\">\r\n          <img id=\"onYuz\" :src=\"fuarMusteriAyrinti.linkOn\" />\r\n        </div>\r\n        <div class=\"column is-6\">\r\n          <img id=\"arkaYuz\" :src=\"fuarMusteriAyrinti.linkArka\" />\r\n        </div>\r\n      </div>\r\n      <Button class=\"p-button-info\" @click=\"update\" label=\"Güncelle\"></Button>\r\n      <Button\r\n        class=\"p-button-danger\"\r\n        @click=\"deleteMust(fuarMusteriAyrinti.id)\"\r\n        label=\"Sil\"\r\n      ></Button>\r\n    </Dialog>\r\n\r\n    <Dialog\r\n      v-model:visible=\"newCustForm\"\r\n      header=\"Fuar Yeni Müşteri Kayıt\"\r\n      :modal=\"true\"\r\n      :breakpoints=\"{ '960px': '75vw', '640px': '100vw' }\"\r\n      :style=\"{ width: '65vw' }\"\r\n    >\r\n      <br />\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column is-4\">\r\n          <span class=\"p-float-label\">\r\n            <InputText\r\n              id=\"musteri\"\r\n              type=\"text\"\r\n              v-model=\"newFuarMusteri.customer\"\r\n            />\r\n            <label for=\"musteri\">Müşteri Adı</label>\r\n          </span>\r\n        </div>\r\n        <div class=\"column is-4\">\r\n          <span class=\"p-float-label\">\r\n            <InputText\r\n              id=\"company\"\r\n              type=\"text\"\r\n              v-model=\"newFuarMusteri.company\"\r\n            />\r\n            <label for=\"company\">Şirket</label>\r\n          </span>\r\n        </div>\r\n        <div class=\"column is-4\">\r\n          <span class=\"p-float-label\">\r\n            <b-field label=\"ÜLKE\" label-position=\"on-border\">\r\n              <AutoComplete\r\n                v-model=\"select_ulke\"\r\n                :suggestions=\"filter_ulke_list\"\r\n                @complete=\"ulke_complete_event($event)\"\r\n                field=\"ulkeAdi\"\r\n              />\r\n            </b-field>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"columns\">\r\n        <div class=\"column is-4\">\r\n          <span class=\"p-float-label\">\r\n            <InputText id=\"email\" type=\"text\" v-model=\"newFuarMusteri.email\" />\r\n            <label for=\"email\">Email</label>\r\n          </span>\r\n        </div>\r\n        <div class=\"column is-4\">\r\n          <span class=\"p-float-label\">\r\n            <InputText id=\"phone\" type=\"text\" v-model=\"newFuarMusteri.phone\" />\r\n            <label for=\"phone\">Telefon</label>\r\n          </span>\r\n        </div>\r\n        <div class=\"column is-4\">\r\n          <span class=\"p-float-label\">\r\n            <Textarea\r\n              id=\"address\"\r\n              type=\"text\"\r\n              rows=\"5\"\r\n              cols=\"30\"\r\n              v-model=\"newFuarMusteri.adress\"\r\n            />\r\n            <label for=\"address\">Adres</label>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <span class=\"p-float-label\">\r\n            <InputText\r\n              id=\"satisci\"\r\n              type=\"text\"\r\n              v-model=\"newFuarMusteri.orderer\"\r\n            />\r\n            <label for=\"satisci\">Satışçı</label>\r\n          </span>\r\n        </div>\r\n        <div class=\"column\">\r\n          <fileUpload\r\n            :baslik=\"'Ön Yüz'\"\r\n            @sunucuDosyaYolla=\"fuarDosyaGonder($event)\"\r\n          ></fileUpload>\r\n          <fileUpload\r\n            :baslik=\"'Arka Yüz'\"\r\n            @sunucuDosyaYolla=\"fuarDosyaGonder2($event)\"\r\n          ></fileUpload>\r\n        </div>\r\n      </div>\r\n      <Button\r\n        class=\"p-button-info\"\r\n        :disabled=\"button_disable\"\r\n        @click=\"save\"\r\n        label=\"Kaydet\"\r\n      ></Button>\r\n    </Dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SiparisService from \"@/service/SiparisService\";\r\nimport KullaniciService from \"@/service/KullaniciService\";\r\n\r\nimport service from \"@/service/MusteriIslemService\";\r\nimport fileUpload from \"@/components/shared/CustomInputFile\";\r\nimport { mapGetters } from \"vuex\";\r\nimport digitalOcean from \"@/service/DigitalOceanService\";\r\n\r\nexport default {\r\n  components: {\r\n    fileUpload,\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"fuarMusteri\"]),\r\n  },\r\n  data() {\r\n    return {\r\n      filters: {},\r\n      fuarCustForm: false,\r\n      fuarList: [],\r\n      select_ulke: \"\",\r\n      newCustForm: false,\r\n      newFuarMusteri: {\r\n        customer: \"\",\r\n        company: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        country: 0,\r\n        user: 0,\r\n        adress: \"\",\r\n        orderer: \"\",\r\n        linkArka: \"\",\r\n        linkOn: \"\",\r\n      },\r\n      filter_ulke_list: [],\r\n      musteri_ulke_list: [],\r\n      fuarMusteriAyrinti: [],\r\n      userId: null,\r\n      button_disable: true,\r\n    };\r\n  },\r\n  created() {\r\n    service.getFuarMusterilerList().then((data) => {\r\n      this.$store.dispatch(\"fuar_musteri_load_act\", data);\r\n    });\r\n\r\n    this.serviceSip = new SiparisService();\r\n    this.kullaniciService = new KullaniciService();\r\n    this.serviceSip.getUlkeList().then((data) => {\r\n      this.musteri_ulke_list = data;\r\n    });\r\n    this.kullaniciService.getKullaniciList().then((data) => {\r\n      this.kullaniciList = data;\r\n    });\r\n    this.userId = this.$store.getters.__getUserId;\r\n  },\r\n  methods: {\r\n    fuarDosyaGonder(event) {\r\n      digitalOcean.fotoGonderFuar(event, this.newFuarMusteri.customer);\r\n      this.newFuarMusteri.linkOn = `https://mekmar-image.fra1.digitaloceanspaces.com/fuar/${\r\n        this.newFuarMusteri.customer + \" \" + event.name\r\n      }`;\r\n    },\r\n    fuarDosyaGonder2(event) {\r\n      digitalOcean.fotoGonderFuar(event, this.newFuarMusteri.customer);\r\n      this.newFuarMusteri.linkArka = `https://mekmar-image.fra1.digitaloceanspaces.com/fuar/${\r\n        this.newFuarMusteri.customer + \" \" + event.name\r\n      }`;\r\n      this.button_disable = false;\r\n    },\r\n    deleteMust(event) {\r\n      service.setNewFuarMusterileSil(event).then((data) => {\r\n        if (data.status) {\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Sil\",\r\n            detail: \"Silme İşlemi Başarılı\",\r\n            life: 3000,\r\n          });\r\n          this.$store.dispatch(\"fuar_musteri_load_act\", data.liste);\r\n\r\n          this.fuarCustForm = false;\r\n        } else {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Sil\",\r\n            detail: \"Silme İşlemi Hatalı\",\r\n            life: 3000,\r\n          });\r\n        }\r\n      });\r\n    },\r\n    newCust() {\r\n      this.newCustForm = true;\r\n      this.select_ulke = \"\";\r\n    },\r\n    fuar_musteri_secim_event(event) {\r\n      service.getFuarMusterilerListAyrinti(event.data.id).then((data) => {\r\n        this.fuarMusteriAyrinti = data[0];\r\n        this.select_ulke = this.musteri_ulke_list.filter(\r\n          (x) => x.id == this.fuarMusteriAyrinti.country\r\n        )[0];\r\n\r\n        this.fuarCustForm = true;\r\n      });\r\n    },\r\n    ulke_complete_event(event) {\r\n      this.filter_ulke_list = this.musteri_ulke_list.filter((x) => {\r\n        return (\r\n          x.ulkeAdi\r\n            .toString()\r\n            .toLowerCase()\r\n            .indexOf(event.query.toString().toLowerCase()) >= 0\r\n        );\r\n      });\r\n    },\r\n    save() {\r\n      this.newFuarMusteri.country = this.select_ulke.id;\r\n      this.newFuarMusteri.user = this.userId;\r\n      service.setNewFuarMusteriler(this.newFuarMusteri).then((data) => {\r\n        if (data.status) {\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Kayıt\",\r\n            detail: \"Kayıt İşlemi Başarılı\",\r\n            life: 3000,\r\n          });\r\n          this.$store.dispatch(\"fuar_musteri_load_act\", data.liste);\r\n        } else {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Kayıt\",\r\n            detail: \"Kayıt İşlemi Hatalı\",\r\n            life: 3000,\r\n          });\r\n        }\r\n      });\r\n    },\r\n    update() {\r\n      this.fuarMusteriAyrinti.country = this.select_ulke.id;\r\n      service\r\n        .setNewFuarMusterilerGuncelle(this.fuarMusteriAyrinti)\r\n        .then((data) => {\r\n          if (data.status) {\r\n            this.$toast.add({\r\n              severity: \"success\",\r\n              summary: \"Güncelleme\",\r\n              detail: \"Güncelleme İşlemi Başarılı\",\r\n              life: 3000,\r\n            });\r\n            this.$store.dispatch(\"fuar_musteri_load_act\", data.liste);\r\n          } else {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Güncelleme\",\r\n              detail: \"Güncelleme İşlemi Hatalı\",\r\n              life: 3000,\r\n            });\r\n          }\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"]},"metadata":{},"sourceType":"module"}