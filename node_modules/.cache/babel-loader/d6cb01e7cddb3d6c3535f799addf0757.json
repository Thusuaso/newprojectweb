{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport SiparisService from \"../../../service/SiparisService\";\nexport default {\n  data() {\n    return {\n      selectMasraf: null,\n      masrafListesi: null,\n      masrafToplam: 0,\n      ilaclama: [],\n      gumruk: [],\n      nakliye: [],\n      navlun: [],\n      liman: [],\n      ilaclamaToplam: 0,\n      gumrukToplam: 0,\n      nakliyeToplam: 0,\n      navlunToplam: 0,\n      limanToplam: 0,\n      masraflarTop: 0,\n      masraflarTopList: []\n    };\n  },\n  props: [\"siparisNo\", \"yeniSiparis\"],\n  siparisService: null,\n  created() {\n    this.siparisService = new SiparisService();\n  },\n  methods: {\n    formatPrice(value) {\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    },\n    nakliyeTop(event) {\n      this.nakliyeToplam = 0;\n      for (let item of event) {\n        this.nakliyeToplam += item.tutar;\n      }\n    },\n    ilaclamaTop(event) {\n      this.ilaclamaToplam = 0;\n      for (let item of event) {\n        this.ilaclamaToplam += item.tutar;\n      }\n    },\n    gumrukTop(event) {\n      this.gumrukToplam = 0;\n      for (let item of event) {\n        this.gumrukToplam += item.tutar;\n      }\n    },\n    navlunTop(event) {\n      this.navlunToplam = 0;\n      for (let item of event) {\n        this.navlunToplam += item.tutar;\n      }\n    },\n    limanTop(event) {\n      this.limanToplam = 0;\n      for (let item of event) {\n        this.limanToplam += item.tutar;\n      }\n    }\n  },\n  mounted() {\n    if (!this.yeniSiparis) {\n      this.siparisService.getMasrafListesi(this.siparisNo).then(data => {\n        console.log(\"getMasrafListesi\", data);\n        this.masrafListesi = data;\n        this.masraflarTop = 0;\n        for (let i of data) {\n          this.masraflarTop += i.tutar;\n        }\n        this.masraflarTopList.push({\n          masraf: this.masraflarTop\n        });\n        this.ilaclama = data.filter(x => x.tur == \"İlaçlama Faturası\");\n        this.gumruk = data.filter(x => x.tur == \"Gümrük Faturası\");\n        this.nakliye = data.filter(x => x.tur == \"Nakliye Faturası\");\n        this.navlun = data.filter(x => x.tur == \"Navlun\");\n        this.liman = data.filter(x => x.tur == \"Liman Masrafı\");\n        this.ilaclamaTop(this.ilaclama);\n        this.gumrukTop(this.gumruk);\n        this.nakliyeTop(this.nakliye);\n        this.navlunTop(this.navlun);\n        this.limanTop(this.liman);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAyOA,OAAOA,cAAa,MAAO,iCAAiC;AAC5D,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,YAAY,EAAE,IAAI;MAClBC,aAAa,EAAE,IAAI;MACnBC,YAAY,EAAE,CAAC;MACfC,QAAQ,EAAE,EAAE;MACZC,MAAM,EAAE,EAAE;MACVC,OAAO,EAAE,EAAE;MACXC,MAAM,EAAE,EAAE;MACVC,KAAK,EAAE,EAAE;MACTC,cAAc,EAAE,CAAC;MACjBC,YAAY,EAAE,CAAC;MACfC,aAAa,EAAE,CAAC;MAChBC,YAAY,EAAE,CAAC;MACfC,WAAW,EAAE,CAAC;MACdC,YAAY,EAAE,CAAC;MACfC,gBAAgB,EAAC;IACnB,CAAC;EACH,CAAC;EACDC,KAAK,EAAE,CAAC,WAAW,EAAE,aAAa,CAAC;EACnCC,cAAc,EAAE,IAAI;EACpBC,OAAO,GAAG;IACR,IAAI,CAACD,cAAa,GAAI,IAAIlB,cAAc,EAAE;EAC5C,CAAC;EACDoB,OAAO,EAAE;IACPC,WAAW,CAACC,KAAK,EAAE;MACjB,IAAIC,GAAE,GAAI,CAACD,KAAI,GAAI,CAAC,EAAEE,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;MAClD,OAAO,GAAE,GAAIF,GAAG,CAACG,QAAQ,EAAE,CAACD,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAC;IACnE,CAAC;IACDE,UAAU,CAACC,KAAK,EAAE;MAChB,IAAI,CAAChB,aAAY,GAAI,CAAC;MACtB,KAAK,IAAIiB,IAAG,IAAKD,KAAK,EAAE;QACtB,IAAI,CAAChB,aAAY,IAAKiB,IAAI,CAACC,KAAK;MAClC;IACF,CAAC;IACDC,WAAW,CAACH,KAAK,EAAE;MACjB,IAAI,CAAClB,cAAa,GAAI,CAAC;MACvB,KAAK,IAAImB,IAAG,IAAKD,KAAK,EAAE;QACtB,IAAI,CAAClB,cAAa,IAAKmB,IAAI,CAACC,KAAK;MACnC;IACF,CAAC;IACDE,SAAS,CAACJ,KAAK,EAAE;MACf,IAAI,CAACjB,YAAW,GAAI,CAAC;MACrB,KAAK,IAAIkB,IAAG,IAAKD,KAAK,EAAE;QACtB,IAAI,CAACjB,YAAW,IAAKkB,IAAI,CAACC,KAAK;MACjC;IACF,CAAC;IACDG,SAAS,CAACL,KAAK,EAAE;MACf,IAAI,CAACf,YAAW,GAAI,CAAC;MACrB,KAAK,IAAIgB,IAAG,IAAKD,KAAK,EAAE;QACtB,IAAI,CAACf,YAAW,IAAKgB,IAAI,CAACC,KAAK;MACjC;IACF,CAAC;IACDI,QAAQ,CAACN,KAAK,EAAE;MACd,IAAI,CAACd,WAAU,GAAI,CAAC;MACpB,KAAK,IAAIe,IAAG,IAAKD,KAAK,EAAE;QACtB,IAAI,CAACd,WAAU,IAAKe,IAAI,CAACC,KAAK;MAChC;IACF;EACF,CAAC;EACDK,OAAO,GAAG;IACR,IAAI,CAAC,IAAI,CAACC,WAAW,EAAE;MACrB,IAAI,CAAClB,cAAc,CAACmB,gBAAgB,CAAC,IAAI,CAACC,SAAS,CAAC,CAACC,IAAI,CAAEtC,IAAI,IAAK;QAClEuC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAExC,IAAI,CAAC;QACrC,IAAI,CAACE,aAAY,GAAIF,IAAI;QACzB,IAAI,CAACc,YAAW,GAAI;QACpB,KAAK,IAAI2B,KAAKzC,IAAI,EAAE;UAClB,IAAI,CAACc,YAAW,IAAK2B,CAAC,CAACZ,KAAI;QAC7B;QACA,IAAI,CAACd,gBAAgB,CAAC2B,IAAI,CAAC;UAAEC,MAAM,EAAE,IAAI,CAAC7B;QAAa,CAAC,CAAC;QACzD,IAAI,CAACV,QAAO,GAAIJ,IAAI,CAAC4C,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,GAAE,IAAK,mBAAmB,CAAC;QAChE,IAAI,CAACzC,MAAK,GAAIL,IAAI,CAAC4C,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,GAAE,IAAK,iBAAiB,CAAC;QAC5D,IAAI,CAACxC,OAAM,GAAIN,IAAI,CAAC4C,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,GAAE,IAAK,kBAAkB,CAAC;QAC9D,IAAI,CAACvC,MAAK,GAAIP,IAAI,CAAC4C,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,GAAE,IAAK,QAAQ,CAAC;QACnD,IAAI,CAACtC,KAAI,GAAIR,IAAI,CAAC4C,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,GAAE,IAAK,eAAe,CAAC;QACzD,IAAI,CAAChB,WAAW,CAAC,IAAI,CAAC1B,QAAQ,CAAC;QAC/B,IAAI,CAAC2B,SAAS,CAAC,IAAI,CAAC1B,MAAM,CAAC;QAC3B,IAAI,CAACqB,UAAU,CAAC,IAAI,CAACpB,OAAO,CAAC;QAC7B,IAAI,CAAC0B,SAAS,CAAC,IAAI,CAACzB,MAAM,CAAC;QAC3B,IAAI,CAAC0B,QAAQ,CAAC,IAAI,CAACzB,KAAK,CAAC;MAC3B,CAAC,CAAC;IACJ;EACF;AACF,CAAC","names":["SiparisService","data","selectMasraf","masrafListesi","masrafToplam","ilaclama","gumruk","nakliye","navlun","liman","ilaclamaToplam","gumrukToplam","nakliyeToplam","navlunToplam","limanToplam","masraflarTop","masraflarTopList","props","siparisService","created","methods","formatPrice","value","val","toFixed","replace","toString","nakliyeTop","event","item","tutar","ilaclamaTop","gumrukTop","navlunTop","limanTop","mounted","yeniSiparis","getMasrafListesi","siparisNo","then","console","log","i","push","masraf","filter","x","tur"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\siparisler\\siparisGiris\\Masraflar.vue"],"sourcesContent":["<template>\r\n  <div class=\"p-fluid\">\r\n    <div class=\"p-grid\">\r\n      <div class=\"p-col-12\">\r\n        <DataTable :value=\"masraflarTopList\" class=\"p-datatable-sm\" responsiveLayout=\"scroll\">\r\n          <template #header>\r\n            Toplam Masraflar\r\n          </template>\r\n          <Column field=\"masraf\"></Column>\r\n        </DataTable>\r\n        <Card>\r\n          <template #content>\r\n            <div\r\n              class=\"columns\"\r\n              v-if=\"\r\n                ilaclama.length > 0 || gumruk.length > 0 || navlun.length > 0\r\n              \"\r\n            >\r\n              <div class=\"column\" v-if=\"ilaclama.length > 0\">\r\n                <DataTable v-model:value=\"ilaclama\" class=\"p-datatable-sm\">\r\n                  <template #header>\r\n                    <div class=\"columns is-multiline\">\r\n                      <div class=\"column is-12\">\r\n                        <span style=\"font-size: 15px\"\r\n                          >ilaclama Masraf Listesi</span\r\n                        >\r\n                      </div>\r\n                    </div>\r\n                  </template>\r\n                  <Column field=\"tur\" header=\"Fatura Adı\">\r\n                    <template #body=\"slotProps\">\r\n                      {{ slotProps.data.tur }}\r\n                    </template>\r\n                  </Column>\r\n                  <Column\r\n                    field=\"aciklama\"\r\n                    header=\"Fatura Açıklama\"\r\n                    headerStyle=\"width:180px;\"\r\n                    bodyStyle=\"word-break:break-word;\"\r\n                  >\r\n                    <template #body=\"slotProps\">\r\n                      {{ slotProps.data.aciklama }}\r\n                    </template>\r\n                  </Column>\r\n                  <Column\r\n                    field=\"tutar\"\r\n                    header=\"Tutar\"\r\n                    bodyStyle=\"text-align:center;\"\r\n                    footerStyle=\"text-align:center;\"\r\n                  >\r\n                    <template #body=\"slotProps\">\r\n                      {{ formatPrice(slotProps.data.tutar) }}\r\n                    </template>\r\n                    <template #footer>\r\n                      {{ formatPrice(ilaclamaToplam) }}\r\n                    </template>\r\n                  </Column>\r\n                </DataTable>\r\n              </div>\r\n              <div class=\"column\" v-if=\"gumruk.length > 0\">\r\n                <DataTable v-model:value=\"gumruk\" class=\"p-datatable-sm\">\r\n                  <template #header>\r\n                    <div class=\"columns is-multiline\">\r\n                      <div class=\"column is-12\">\r\n                        <span style=\"font-size: 15px\"\r\n                          >Gümrük Masraf Listesi</span\r\n                        >\r\n                      </div>\r\n                    </div>\r\n                  </template>\r\n                  <Column field=\"tur\" header=\"Fatura Adı\">\r\n                    <template #body=\"slotProps\">\r\n                      {{ slotProps.data.tur }}\r\n                    </template>\r\n                  </Column>\r\n                  <Column\r\n                    field=\"aciklama\"\r\n                    header=\"Fatura Açıklama\"\r\n                    headerStyle=\"width:180px;\"\r\n                    bodyStyle=\"word-break:break-word;\"\r\n                  >\r\n                    <template #body=\"slotProps\">\r\n                      {{ slotProps.data.aciklama }}\r\n                    </template>\r\n                  </Column>\r\n                  <Column\r\n                    field=\"tutar\"\r\n                    header=\"Tutar\"\r\n                    bodyStyle=\"text-align:center;\"\r\n                    footerStyle=\"text-align:center;\"\r\n                  >\r\n                    <template #body=\"slotProps\">\r\n                      {{ formatPrice(slotProps.data.tutar) }}\r\n                    </template>\r\n                    <template #footer>\r\n                      {{ formatPrice(gumrukToplam) }}\r\n                    </template>\r\n                  </Column>\r\n                </DataTable>\r\n              </div>\r\n              <div class=\"column\" v-if=\"navlun.length > 0\">\r\n                <DataTable v-model:value=\"navlun\" class=\"p-datatable-sm\">\r\n                  <template #header>\r\n                    <div class=\"columns is-multiline\">\r\n                      <div class=\"column is-12\">\r\n                        <span style=\"font-size: 15px\"\r\n                          >Navlun Masraf Listesi</span\r\n                        >\r\n                      </div>\r\n                    </div>\r\n                  </template>\r\n                  <Column field=\"tur\" header=\"Fatura Adı\">\r\n                    <template #body=\"slotProps\">\r\n                      {{ slotProps.data.tur }}\r\n                    </template>\r\n                  </Column>\r\n                  <Column\r\n                    field=\"aciklama\"\r\n                    header=\"Fatura Açıklama\"\r\n                    headerStyle=\"width:180px;\"\r\n                    bodyStyle=\"word-break:break-word;\"\r\n                  >\r\n                    <template #body=\"slotProps\">\r\n                      {{ slotProps.data.aciklama }}\r\n                    </template>\r\n                  </Column>\r\n                  <Column\r\n                    field=\"tutar\"\r\n                    header=\"Tutar\"\r\n                    bodyStyle=\"text-align:center;\"\r\n                    footerStyle=\"text-align:center;\"\r\n                  >\r\n                    <template #body=\"slotProps\">\r\n                      {{ formatPrice(slotProps.data.tutar) }}\r\n                    </template>\r\n                    <template #footer>\r\n                      {{ formatPrice(navlunToplam) }}\r\n                    </template>\r\n                  </Column>\r\n                </DataTable>\r\n              </div>\r\n            </div>\r\n            <div class=\"columns\" v-if=\"liman.length > 0 || nakliye.length > 0\">\r\n              <div class=\"column\" v-if=\"liman.length > 0\">\r\n                <DataTable v-model:value=\"liman\" class=\"p-datatable-sm\">\r\n                  <template #header>\r\n                    <div class=\"columns is-multiline\">\r\n                      <div class=\"column is-12\">\r\n                        <span style=\"font-size: 15px\"\r\n                          >Liman Masraf Listesi</span\r\n                        >\r\n                      </div>\r\n                    </div>\r\n                  </template>\r\n                  <Column field=\"tur\" header=\"Fatura Adı\">\r\n                    <template #body=\"slotProps\">\r\n                      {{ slotProps.data.tur }}\r\n                    </template>\r\n                  </Column>\r\n                  <Column\r\n                    field=\"aciklama\"\r\n                    header=\"Fatura Açıklama\"\r\n                    headerStyle=\"width:180px;\"\r\n                    bodyStyle=\"word-break:break-word;\"\r\n                  >\r\n                    <template #body=\"slotProps\">\r\n                      {{ slotProps.data.aciklama }}\r\n                    </template>\r\n                  </Column>\r\n                  <Column\r\n                    field=\"tutar\"\r\n                    header=\"Tutar\"\r\n                    bodyStyle=\"text-align:center;\"\r\n                    footerStyle=\"text-align:center;\"\r\n                  >\r\n                    <template #body=\"slotProps\">\r\n                      {{ formatPrice(slotProps.data.tutar) }}\r\n                    </template>\r\n                    <template #footer>\r\n                      {{ formatPrice(limanToplam) }}\r\n                    </template>\r\n                  </Column>\r\n                </DataTable>\r\n              </div>\r\n              <div class=\"column\" v-if=\"nakliye.length > 0\">\r\n                <DataTable v-model:value=\"nakliye\" class=\"p-datatable-sm\">\r\n                  <template #header>\r\n                    <div class=\"columns is-multiline\">\r\n                      <div class=\"column is-12\">\r\n                        <span style=\"font-size: 15px\"\r\n                          >Nakliye Masraf Listesi</span\r\n                        >\r\n                      </div>\r\n                    </div>\r\n                  </template>\r\n                  <Column field=\"tur\" header=\"Fatura Adı\">\r\n                    <template #body=\"slotProps\">\r\n                      {{ slotProps.data.tur }}\r\n                    </template>\r\n                  </Column>\r\n                  <Column\r\n                    field=\"aciklama\"\r\n                    header=\"Fatura Açıklama\"\r\n                    headerStyle=\"width:180px;\"\r\n                    bodyStyle=\"word-break:break-word;\"\r\n                  >\r\n                    <template #body=\"slotProps\">\r\n                      {{ slotProps.data.aciklama }}\r\n                    </template>\r\n                  </Column>\r\n                  <Column\r\n                    field=\"tutar\"\r\n                    header=\"Tutar\"\r\n                    bodyStyle=\"text-align:center;\"\r\n                    footerStyle=\"text-align:center;\"\r\n                  >\r\n                    <template #body=\"slotProps\">\r\n                      {{ formatPrice(slotProps.data.tutar) }}\r\n                    </template>\r\n                    <template #footer>\r\n                      {{ formatPrice(nakliyeToplam) }}\r\n                    </template>\r\n                  </Column>\r\n                </DataTable>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport SiparisService from \"../../../service/SiparisService\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      selectMasraf: null,\r\n      masrafListesi: null,\r\n      masrafToplam: 0,\r\n      ilaclama: [],\r\n      gumruk: [],\r\n      nakliye: [],\r\n      navlun: [],\r\n      liman: [],\r\n      ilaclamaToplam: 0,\r\n      gumrukToplam: 0,\r\n      nakliyeToplam: 0,\r\n      navlunToplam: 0,\r\n      limanToplam: 0,\r\n      masraflarTop: 0,\r\n      masraflarTopList:[]\r\n    };\r\n  },\r\n  props: [\"siparisNo\", \"yeniSiparis\"],\r\n  siparisService: null,\r\n  created() {\r\n    this.siparisService = new SiparisService();\r\n  },\r\n  methods: {\r\n    formatPrice(value) {\r\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\r\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n    },\r\n    nakliyeTop(event) {\r\n      this.nakliyeToplam = 0;\r\n      for (let item of event) {\r\n        this.nakliyeToplam += item.tutar;\r\n      }\r\n    },\r\n    ilaclamaTop(event) {\r\n      this.ilaclamaToplam = 0;\r\n      for (let item of event) {\r\n        this.ilaclamaToplam += item.tutar;\r\n      }\r\n    },\r\n    gumrukTop(event) {\r\n      this.gumrukToplam = 0;\r\n      for (let item of event) {\r\n        this.gumrukToplam += item.tutar;\r\n      }\r\n    },\r\n    navlunTop(event) {\r\n      this.navlunToplam = 0;\r\n      for (let item of event) {\r\n        this.navlunToplam += item.tutar;\r\n      }\r\n    },\r\n    limanTop(event) {\r\n      this.limanToplam = 0;\r\n      for (let item of event) {\r\n        this.limanToplam += item.tutar;\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    if (!this.yeniSiparis) {\r\n      this.siparisService.getMasrafListesi(this.siparisNo).then((data) => {\r\n        console.log(\"getMasrafListesi\", data);\r\n        this.masrafListesi = data;\r\n        this.masraflarTop = 0\r\n        for (let i of data) {\r\n          this.masraflarTop += i.tutar\r\n        }\r\n        this.masraflarTopList.push({ masraf: this.masraflarTop });\r\n        this.ilaclama = data.filter((x) => x.tur == \"İlaçlama Faturası\");\r\n        this.gumruk = data.filter((x) => x.tur == \"Gümrük Faturası\");\r\n        this.nakliye = data.filter((x) => x.tur == \"Nakliye Faturası\");\r\n        this.navlun = data.filter((x) => x.tur == \"Navlun\");\r\n        this.liman = data.filter((x) => x.tur == \"Liman Masrafı\");\r\n        this.ilaclamaTop(this.ilaclama);\r\n        this.gumrukTop(this.gumruk);\r\n        this.nakliyeTop(this.nakliye);\r\n        this.navlunTop(this.navlun);\r\n        this.limanTop(this.liman);\r\n      });\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.p-card {\r\n  min-height: 300px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}