{"ast":null,"code":"import service from \"@/service/OperasyonService\";\nimport { mapGetters } from \"vuex\";\nimport store from \"@/store\";\nimport fileService from \"@/service/FileService\";\nimport CustomInputFile from \"@/components/shared/CustomInputFile\";\nexport default {\n  components: {\n    customFileInput: CustomInputFile\n  },\n  computed: {\n    ...mapGetters([\"SiparisEvrakList\"])\n  },\n  created() {\n    console.log(this.SiparisEvrakList);\n    if (this.SiparisEvrakList.Listem != null) {\n      this.evrakLink = `${this.SiparisEvrakList.Listem.Draft}`;\n      this.dis_download = false;\n    } else {\n      this.dis_download = true;\n    }\n    service.getEvrakTedarikciFaturaList(this.SiparisEvrakList.siparisno).then(data => {\n      this.tedarikciList = data;\n      this.TedarikciTur = this.tedarikciList.find(x => x.ID == this.id);\n    });\n  },\n  data() {\n    return {\n      tedarikciList: [],\n      tedarikci: \"\",\n      tedarikci_adi: \"\",\n      id: null,\n      filterTedarikciTurList: null,\n      TedarikciTur: null,\n      veri: [],\n      faturaNo: \"\",\n      tedarikciLink: \"\",\n      dis_DosyaAc: true\n    };\n  },\n  mounted() {},\n  methods: {\n    faturaDosyaGonder(event) {\n      if (event.size > 1000000) {\n        alert(\"Evrak Boyutunu Kontrol Ediniz.\");\n      } else {\n        const veri = {\n          evrak: this.SiparisEvrakList.siparisno + \".pdf\",\n          siparisno: this.SiparisEvrakList.siparisno,\n          kullaniciAdi: this.$store.getters.getUser\n        };\n        fileService.faturaDosyaGonder(event, 40, this.SiparisEvrakList.siparisno + \".pdf\").then(data => {\n          console.log(data);\n          service.setOzelIscilikFaturaKayit(veri).then(veri => {\n            if (veri.Status) {\n              alert(\"Kayıt İşlemi Yapıldı.\");\n              this.dis_numuneDosyaAc = false;\n              this.tedarikciLink = `https://file-service.mekmar.com/file/tedarikci/download/30/${this.SiparisEvrakList.siparisno}/${this.TedarikciTur.tedarikci + \".pdf\"}`;\n              this.dis_DosyaAc = false;\n            }\n          });\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AAiDA,OAAOA,OAAM,MAAO,4BAA4B;AAChD,SAASC,UAAS,QAAS,MAAM;AACjC,OAAOC,KAAI,MAAO,SAAS;AAC3B,OAAOC,WAAU,MAAO,uBAAuB;AAC/C,OAAOC,eAAc,MAAO,qCAAqC;AACjE,eAAe;EACbC,UAAU,EAAE;IACVC,eAAe,EAAEF;EACnB,CAAC;EACDG,QAAQ,EAAE;IACR,GAAGN,UAAU,CAAC,CAAC,kBAAkB,CAAC;EACpC,CAAC;EACDO,OAAO,GAAG;IACRC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,gBAAgB,CAAC;IAElC,IAAI,IAAI,CAACA,gBAAgB,CAACC,MAAK,IAAK,IAAI,EAAE;MACxC,IAAI,CAACC,SAAQ,GAAK,GAAE,IAAI,CAACF,gBAAgB,CAACC,MAAM,CAACE,KAAM,EAAC;MACxD,IAAI,CAACC,YAAW,GAAI,KAAK;IAC3B,OAAO;MACL,IAAI,CAACA,YAAW,GAAI,IAAI;IAC1B;IACAf,OAAM,CACHgB,2BAA2B,CAAC,IAAI,CAACL,gBAAgB,CAACM,SAAS,EAC3DC,IAAI,CAAEC,IAAI,IAAK;MACd,IAAI,CAACC,aAAY,GAAID,IAAI;MACzB,IAAI,CAACE,YAAW,GAAI,IAAI,CAACD,aAAa,CAACE,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAC,IAAK,IAAI,CAACC,EAAE,CAAC;IACrE,CAAC,CAAC;EACN,CAAC;EACDN,IAAI,GAAG;IACL,OAAO;MACLC,aAAa,EAAE,EAAE;MACjBM,SAAS,EAAE,EAAE;MACbC,aAAa,EAAE,EAAE;MACjBF,EAAE,EAAE,IAAI;MACRG,sBAAsB,EAAE,IAAI;MAC5BP,YAAY,EAAE,IAAI;MAClBQ,IAAI,EAAE,EAAE;MACRC,QAAQ,EAAE,EAAE;MACZC,aAAa,EAAE,EAAE;MACjBC,WAAW,EAAE;IACf,CAAC;EACH,CAAC;EAEDC,OAAO,GAAG,CAAC,CAAC;EACZC,OAAO,EAAE;IACPC,iBAAiB,CAACC,KAAK,EAAE;MACvB,IAAIA,KAAK,CAACC,IAAG,GAAI,OAAO,EAAE;QACxBC,KAAK,CAAC,gCAAgC,CAAC;MACzC,OAAO;QACL,MAAMT,IAAG,GAAI;UACXU,KAAK,EAAE,IAAI,CAAC5B,gBAAgB,CAACM,SAAQ,GAAI,MAAM;UAC/CA,SAAS,EAAE,IAAI,CAACN,gBAAgB,CAACM,SAAS;UAC1CuB,YAAY,EAAE,IAAI,CAACC,MAAM,CAACC,OAAO,CAACC;QACpC,CAAC;QAEDxC,WAAU,CACPgC,iBAAiB,CAChBC,KAAK,EACL,EAAE,EACF,IAAI,CAACzB,gBAAgB,CAACM,SAAQ,GAAI,MAAK,CACzC,CACCC,IAAI,CAAEC,IAAI,IAAK;UACdV,OAAO,CAACC,GAAG,CAACS,IAAI,CAAC;UACjBnB,OAAO,CAAC4C,yBAAyB,CAACf,IAAI,CAAC,CAACX,IAAI,CAAEW,IAAI,IAAK;YACrD,IAAIA,IAAI,CAACgB,MAAM,EAAE;cACfP,KAAK,CAAC,uBAAuB,CAAC;cAC9B,IAAI,CAACQ,iBAAgB,GAAI,KAAK;cAC9B,IAAI,CAACf,aAAY,GAAK,8DACpB,IAAI,CAACpB,gBAAgB,CAACM,SACvB,IAAG,IAAI,CAACI,YAAY,CAACK,SAAQ,GAAI,MAAO,EAAC;cAE1C,IAAI,CAACM,WAAU,GAAI,KAAK;YAC1B;UACF,CAAC,CAAC;QACJ,CAAC,CAAC;MACN;IACF;EACF;AACF,CAAC","names":["service","mapGetters","store","fileService","CustomInputFile","components","customFileInput","computed","created","console","log","SiparisEvrakList","Listem","evrakLink","Draft","dis_download","getEvrakTedarikciFaturaList","siparisno","then","data","tedarikciList","TedarikciTur","find","x","ID","id","tedarikci","tedarikci_adi","filterTedarikciTurList","veri","faturaNo","tedarikciLink","dis_DosyaAc","mounted","methods","faturaDosyaGonder","event","size","alert","evrak","kullaniciAdi","$store","getters","getUser","setOzelIscilikFaturaKayit","Status","dis_numuneDosyaAc"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\evrakgiris\\EvrakOzelIscilikForm.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"columns\">\r\n      <div class=\"col-12 col-sm-12 stilim\">\r\n        <div\r\n          class=\"col-12 col-sm-12 stilim\"\r\n          style=\"\r\n            margin-top: 60px;\r\n            text-decoration: underline;\r\n            font-weight: bold;\r\n          \"\r\n        >\r\n          <span> Dosya Yükle: </span>\r\n        </div>\r\n        <div\r\n          class=\"col-12 col-sm-12 stilim\"\r\n          style=\"\r\n            margin-top: 60px;\r\n            text-decoration: underline;\r\n            font-weight: bold;\r\n          \"\r\n        >\r\n          <span> Dosya Aç : </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 col-sm-12 stilim\">\r\n        <div class=\"col-12 col-sm-12 stilim\" style=\"margin-top: 50px\">\r\n          <custom-file-input\r\n            baslik=\"  Dosya Yükle  \"\r\n            @sunucuDosyaYolla=\"faturaDosyaGonder($event)\"\r\n          />\r\n        </div>\r\n        <div class=\"col-12 col-sm-12 stilim\" style=\"margin-top: 40px\">\r\n          <a :href=\"tedarikciLink\" target=\"_self\">\r\n            <Button\r\n              label=\"Download\"\r\n              style=\"width: 120px\"\r\n              class=\"p-button-success\"\r\n              iconPos=\"left\"\r\n              icon=\"fas fa-download\"\r\n              :disabled=\"dis_DosyaAc\"\r\n            />\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n<script>\r\nimport service from \"@/service/OperasyonService\";\r\nimport { mapGetters } from \"vuex\";\r\nimport store from \"@/store\";\r\nimport fileService from \"@/service/FileService\";\r\nimport CustomInputFile from \"@/components/shared/CustomInputFile\";\r\nexport default {\r\n  components: {\r\n    customFileInput: CustomInputFile,\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"SiparisEvrakList\"]),\r\n  },\r\n  created() {\r\n    console.log(this.SiparisEvrakList);\r\n\r\n    if (this.SiparisEvrakList.Listem != null) {\r\n      this.evrakLink = `${this.SiparisEvrakList.Listem.Draft}`;\r\n      this.dis_download = false;\r\n    } else {\r\n      this.dis_download = true;\r\n    }\r\n    service\r\n      .getEvrakTedarikciFaturaList(this.SiparisEvrakList.siparisno)\r\n      .then((data) => {\r\n        this.tedarikciList = data;\r\n        this.TedarikciTur = this.tedarikciList.find((x) => x.ID == this.id);\r\n      });\r\n  },\r\n  data() {\r\n    return {\r\n      tedarikciList: [],\r\n      tedarikci: \"\",\r\n      tedarikci_adi: \"\",\r\n      id: null,\r\n      filterTedarikciTurList: null,\r\n      TedarikciTur: null,\r\n      veri: [],\r\n      faturaNo: \"\",\r\n      tedarikciLink: \"\",\r\n      dis_DosyaAc: true,\r\n    };\r\n  },\r\n\r\n  mounted() {},\r\n  methods: {\r\n    faturaDosyaGonder(event) {\r\n      if (event.size > 1000000) {\r\n        alert(\"Evrak Boyutunu Kontrol Ediniz.\");\r\n      } else {\r\n        const veri = {\r\n          evrak: this.SiparisEvrakList.siparisno + \".pdf\",\r\n          siparisno: this.SiparisEvrakList.siparisno,\r\n          kullaniciAdi: this.$store.getters.getUser,\r\n        };\r\n\r\n        fileService\r\n          .faturaDosyaGonder(\r\n            event,\r\n            40,\r\n            this.SiparisEvrakList.siparisno + \".pdf\"\r\n          )\r\n          .then((data) => {\r\n            console.log(data);\r\n            service.setOzelIscilikFaturaKayit(veri).then((veri) => {\r\n              if (veri.Status) {\r\n                alert(\"Kayıt İşlemi Yapıldı.\");\r\n                this.dis_numuneDosyaAc = false;\r\n                this.tedarikciLink = `https://file-service.mekmar.com/file/tedarikci/download/30/${\r\n                  this.SiparisEvrakList.siparisno\r\n                }/${this.TedarikciTur.tedarikci + \".pdf\"}`;\r\n\r\n                this.dis_DosyaAc = false;\r\n              }\r\n            });\r\n          });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.card {\r\n  font-size: 20px;\r\n}\r\n.stilim {\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}