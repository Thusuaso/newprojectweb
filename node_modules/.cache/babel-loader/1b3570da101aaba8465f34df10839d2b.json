{"ast":null,"code":"import mekmarService from \"@/service/MekmarService\";\nexport default {\n  data() {\n    return {\n      urunlist: null,\n      urun: null,\n      selectKey: 0,\n      iskaydet: true,\n      isdegistir: true,\n      dataloading: false,\n      btnloading: false,\n      kategoriler: null,\n      selectkategori: null,\n      filters: {}\n    };\n  },\n  created() {\n    mekmarService.urunSiraKategoriList().then(res => {\n      this.kategoriler = res;\n      this.selectkategori = 1;\n      console.log(\"Kategori List : \", res);\n      //varsayılan ilk listenin yüklenmesi\n      this.urunListYukle(1);\n    });\n  },\n  methods: {\n    urunListYukle(kategoriId) {\n      this.dataloading = true;\n      mekmarService.urunSiraUrunList(kategoriId).then(data => {\n        this.urunlist = data;\n        this.dataloading = false;\n      });\n    },\n    kategoriSecim() {\n      this.urunListYukle(this.selectkategori);\n    },\n    urunSecim(event) {\n      this.urun = null;\n      if (event.data) this.urun = event.data;\n      this.getUrunIndex();\n      this.isdegistir = false;\n    },\n    getUrunIndex() {\n      if (this.urun) {\n        for (let key in this.urunlist) {\n          if (this.urun.id == this.urunlist[key].id) this.selectKey = Number(key);\n        }\n      }\n    },\n    urunSirala() {\n      let sira = 1;\n      for (let key in this.urunlist) {\n        this.urunlist[key].sira = sira;\n        sira += 1;\n      }\n      this.iskaydet = false;\n    },\n    yukariTasi() {\n      if (this.selectKey && this.selectKey > 0) {\n        let item = {\n          ...this.urun\n        };\n        this.urunlist.splice(this.selectKey, 1);\n        this.urun = null;\n        this.selectKey -= 1;\n        this.urunlist.splice(this.selectKey, 0, {\n          ...item\n        });\n        this.urun = item;\n        this.urunSirala();\n      }\n    },\n    asagiTasi() {\n      let ensonindeks = this.urunlist.length - 1;\n      console.log(\"En Son İndeks : \", ensonindeks);\n      console.log(\"Select key : \", this.selectKey);\n      if (this.selectKey != ensonindeks) {\n        console.log(\"En Son İndeks : \", ensonindeks);\n        console.log(\"Select key : \", this.selectKey);\n        let item = {\n          ...this.urun\n        };\n        this.urunlist.splice(this.selectKey, 1);\n        this.urun = null;\n        this.selectKey += 1;\n        this.urunlist.splice(this.selectKey, 0, {\n          ...item\n        });\n        this.urun = item;\n        this.urunSirala();\n      }\n    },\n    enyukariTasi() {\n      if (this.selectKey && this.selectKey > 0) {\n        let item = {\n          ...this.urun\n        };\n        this.urunlist.splice(this.selectKey, 1);\n        this.urun = null;\n        this.urunlist.splice(0, 0, {\n          ...item\n        });\n        this.urun = item;\n        this.urunSirala();\n        console.log(\"Window bilgi : \", window.scrollY);\n      }\n    },\n    enasagisTasi() {\n      let sonindeks = this.urunlist.length - 1;\n      if (this.selectKey != sonindeks) {\n        let item = {\n          ...this.urun\n        };\n        this.urunlist.splice(this.selectKey, 1);\n        this.urun = null;\n        this.urunlist.splice(sonindeks, 0, item);\n        this.urun = item;\n        this.urunSirala();\n      }\n    },\n    dataDegisikligiKaydet() {\n      this.dataloading = true;\n      this.iskaydet = true;\n      mekmarService.urunSiraDataGuncelle(this.urunlist).then(data => {\n        if (data.status) {\n          alert(\"Sıralama Değişti.\");\n          this.isdegistir = true;\n          this.iskaydet = true;\n          this.selectKey = 0;\n          this.urun = null;\n          this.btnloading = false;\n          this.dataloading = false;\n        } else {\n          this.iskaydet = false;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["mekmarService","data","urunlist","urun","selectKey","iskaydet","isdegistir","dataloading","btnloading","kategoriler","selectkategori","filters","created","urunSiraKategoriList","then","res","console","log","urunListYukle","methods","kategoriId","urunSiraUrunList","kategoriSecim","urunSecim","event","getUrunIndex","key","id","Number","urunSirala","sira","yukariTasi","item","splice","asagiTasi","ensonindeks","length","enyukariTasi","window","scrollY","enasagisTasi","sonindeks","dataDegisikligiKaydet","urunSiraDataGuncelle","status","alert"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\views\\UrunSira.vue"],"sourcesContent":["<template>\r\n  <section class=\"box-content\">\r\n    <div class=\"columns is-centered\">\r\n      <div class=\"column is-12\">\r\n        <div class=\"columns is-multiline\">\r\n          <div class=\"column is-4\">\r\n            <div class=\"select\">\r\n              <select @change=\"kategoriSecim\" v-model=\"selectkategori\">\r\n                <option\r\n                  v-for=\"kategori in kategoriler\"\r\n                  :key=\"kategori.id\"\r\n                  :value=\"kategori.id\"\r\n                >\r\n                  {{ kategori.adi }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div class=\"column is-1\">\r\n            <button :disabled=\"isdegistir\" class=\"button\" @click=\"yukariTasi\">\r\n              <i class=\"fas fa-chevron-up\"></i>\r\n            </button>\r\n          </div>\r\n          <div class=\"column is-1\">\r\n            <button :disabled=\"isdegistir\" class=\"button\" @click=\"enyukariTasi\">\r\n              <i class=\"fas fa-angle-double-up\"></i>\r\n            </button>\r\n          </div>\r\n          <div class=\"column is-1\">\r\n            <button :disabled=\"isdegistir\" class=\"button\" @click=\"asagiTasi\">\r\n              <i class=\"fas fa-chevron-down\"></i>\r\n            </button>\r\n          </div>\r\n          <div class=\"column is-1\">\r\n            <button :disabled=\"isdegistir\" class=\"button\" @click=\"enasagisTasi\">\r\n              <i class=\"fas fa-angle-double-down\"></i>\r\n            </button>\r\n          </div>\r\n\r\n          <div class=\"column is-2\">\r\n            <Button\r\n              label=\"Kaydet\"\r\n              class=\"p-button-success\"\r\n              :loading=\"btnloading\"\r\n              :disabled=\"iskaydet\"\r\n              @click=\"dataDegisikligiKaydet\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"columns content\">\r\n      <div class=\"column is-12\">\r\n        <DataTable\r\n          ref=\"urunsira\"\r\n          :value=\"urunlist\"\r\n          selectionMode=\"simple\"\r\n          v-model:selection=\"urun\"\r\n          :scrollable=\"true\"\r\n          :loading=\"dataloading\"\r\n          scrollHeight=\"500px\"\r\n          :filters=\"filters\"\r\n          @row-select=\"urunSecim($event)\"\r\n        >\r\n          <Column\r\n            field=\"sira\"\r\n            header=\"Sıra\"\r\n            headerStyle=\"width:80px;\"\r\n            bodyStyle=\"text-align:center;vertical-align:middle;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.sira }}\r\n            </template>\r\n            <template #filter>\r\n              <InputText\r\n                type=\"text\"\r\n                v-model=\"filters['sira']\"\r\n                class=\"p-column-filter\"\r\n              />\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"id\"\r\n            header=\"ID\"\r\n            headerStyle=\"width:80px;\"\r\n            bodyStyle=\"text-align:center;vertical-align:middle;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.id }}\r\n            </template>\r\n            <template #filter>\r\n              <InputText\r\n                type=\"text\"\r\n                v-model=\"filters['id']\"\r\n                class=\"p-column-filter\"\r\n              />\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"urunadi\"\r\n            header=\"Ürün\"\r\n            headerStyle=\"width:300px;\"\r\n            bodyStyle=\"vertical-align:middle;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.urunadi }}\r\n            </template>\r\n            <template #filter>\r\n              <InputText\r\n                type=\"text\"\r\n                v-model=\"filters['urunadi']\"\r\n                class=\"p-column-filter\"\r\n              />\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"foto\"\r\n            header=\"Foto\"\r\n            headerStyle=\"width:100px;\"\r\n            bodyStyle=\"vertical-align:middle;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              <img :src=\"slotProps.data.foto\" width=\"100\" height=\"100\" />\r\n            </template>\r\n          </Column>\r\n        </DataTable>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n<script>\r\nimport mekmarService from \"@/service/MekmarService\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      urunlist: null,\r\n      urun: null,\r\n      selectKey: 0,\r\n      iskaydet: true,\r\n      isdegistir: true,\r\n      dataloading: false,\r\n      btnloading: false,\r\n      kategoriler: null,\r\n      selectkategori: null,\r\n      filters: {},\r\n    };\r\n  },\r\n  created() {\r\n    mekmarService.urunSiraKategoriList().then((res) => {\r\n      this.kategoriler = res;\r\n      this.selectkategori = 1;\r\n      console.log(\"Kategori List : \", res);\r\n      //varsayılan ilk listenin yüklenmesi\r\n      this.urunListYukle(1);\r\n    });\r\n  },\r\n  methods: {\r\n    urunListYukle(kategoriId) {\r\n      this.dataloading = true;\r\n      mekmarService.urunSiraUrunList(kategoriId).then((data) => {\r\n        this.urunlist = data;\r\n        this.dataloading = false;\r\n      });\r\n    },\r\n    kategoriSecim() {\r\n      this.urunListYukle(this.selectkategori);\r\n    },\r\n    urunSecim(event) {\r\n      this.urun = null;\r\n      if (event.data) this.urun = event.data;\r\n      this.getUrunIndex();\r\n\r\n      this.isdegistir = false;\r\n    },\r\n    getUrunIndex() {\r\n      if (this.urun) {\r\n        for (let key in this.urunlist) {\r\n          if (this.urun.id == this.urunlist[key].id)\r\n            this.selectKey = Number(key);\r\n        }\r\n      }\r\n    },\r\n    urunSirala() {\r\n      let sira = 1;\r\n      for (let key in this.urunlist) {\r\n        this.urunlist[key].sira = sira;\r\n        sira += 1;\r\n      }\r\n\r\n      this.iskaydet = false;\r\n    },\r\n    yukariTasi() {\r\n      if (this.selectKey && this.selectKey > 0) {\r\n        let item = { ...this.urun };\r\n\r\n        this.urunlist.splice(this.selectKey, 1);\r\n\r\n        this.urun = null;\r\n\r\n        this.selectKey -= 1;\r\n\r\n        this.urunlist.splice(this.selectKey, 0, { ...item });\r\n\r\n        this.urun = item;\r\n\r\n        this.urunSirala();\r\n      }\r\n    },\r\n    asagiTasi() {\r\n      let ensonindeks = this.urunlist.length - 1;\r\n      console.log(\"En Son İndeks : \", ensonindeks);\r\n      console.log(\"Select key : \", this.selectKey);\r\n      if (this.selectKey != ensonindeks) {\r\n        console.log(\"En Son İndeks : \", ensonindeks);\r\n        console.log(\"Select key : \", this.selectKey);\r\n\r\n        let item = { ...this.urun };\r\n\r\n        this.urunlist.splice(this.selectKey, 1);\r\n\r\n        this.urun = null;\r\n\r\n        this.selectKey += 1;\r\n\r\n        this.urunlist.splice(this.selectKey, 0, { ...item });\r\n\r\n        this.urun = item;\r\n\r\n        this.urunSirala();\r\n      }\r\n    },\r\n    enyukariTasi() {\r\n      if (this.selectKey && this.selectKey > 0) {\r\n        let item = { ...this.urun };\r\n\r\n        this.urunlist.splice(this.selectKey, 1);\r\n\r\n        this.urun = null;\r\n\r\n        this.urunlist.splice(0, 0, { ...item });\r\n\r\n        this.urun = item;\r\n\r\n        this.urunSirala();\r\n\r\n        console.log(\"Window bilgi : \", window.scrollY);\r\n      }\r\n    },\r\n    enasagisTasi() {\r\n      let sonindeks = this.urunlist.length - 1;\r\n\r\n      if (this.selectKey != sonindeks) {\r\n        let item = { ...this.urun };\r\n\r\n        this.urunlist.splice(this.selectKey, 1);\r\n\r\n        this.urun = null;\r\n\r\n        this.urunlist.splice(sonindeks, 0, item);\r\n\r\n        this.urun = item;\r\n\r\n        this.urunSirala();\r\n      }\r\n    },\r\n    dataDegisikligiKaydet() {\r\n      this.dataloading = true;\r\n      this.iskaydet = true;\r\n\r\n      mekmarService.urunSiraDataGuncelle(this.urunlist).then((data) => {\r\n        if (data.status) {\r\n          alert(\"Sıralama Değişti.\");\r\n          this.isdegistir = true;\r\n          this.iskaydet = true;\r\n          this.selectKey = 0;\r\n          this.urun = null;\r\n          this.btnloading = false;\r\n          this.dataloading = false;\r\n        } else {\r\n          this.iskaydet = false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.box-content {\r\n  position: relative;\r\n}\r\n.header {\r\n  top: 20px;\r\n  bottom: 20px;\r\n  position: sticky;\r\n  position: -webkit-sticky;\r\n  z-index: 1;\r\n  height: 20px;\r\n  padding: 16px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}