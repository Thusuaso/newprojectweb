{"ast":null,"code":"import { mapGetters } from \"vuex\";\nimport service from \"@/service/OperasyonService\";\nimport fileService from \"@/service/FileService\";\nimport CustomInputFile from \"@/components/shared/CustomInputFile\";\nexport default {\n  data() {\n    return {\n      firma_list: null,\n      siparis_list: null,\n      firma_adi: null,\n      siparis_no: null,\n      siparisno: null,\n      DosyaSil: false,\n      DosyaLink: null,\n      DosyaAc: false,\n      filterFaturaList: null,\n      filterSiparisList: null\n    };\n  },\n  components: {\n    customFileInput: CustomInputFile\n  },\n  computed: {\n    ...mapGetters([\"data\"])\n  },\n  mounted() {\n    this.firma_adi = this.data.firma_adi;\n    this.siparis_no = this.data.siparisno;\n  },\n  created() {\n    service.getKonteynerFormListesi().then(data => {\n      this.firma_list = data.konteyner_liste;\n      this.siparis_list = data.siparis_list;\n    });\n  },\n  methods: {\n    konteynerDosyaGonder(event) {\n      fileService.nakliyeDosyaGonder(event, this.data.Firma_id, this.data.faturaNo + \".pdf\").then(data => {\n        console.log(\"nakliyeDosyaGonder\", data);\n        if (data.Status) {\n          this.$toast.add({\n            severity: \"success\",\n            summary: \"Bilgi Ekranı\",\n            detail: \"Evrak başarılı şekilde yüklendi .\",\n            life: 1000\n          });\n        } else {\n          this.$toast.add({\n            severity: \"success\",\n            summary: \"Bilgi Ekranı\",\n            detail: \"Ops ! Lütfen Yeniden Deneyiniz  :( \",\n            life: 1000\n          });\n        }\n      });\n    },\n    dataKayitIslem() {\n      console.log(\"dataKayitIslem\", this.data);\n      service.setKonteynerFaturaGuncelle(this.data).then(data => {\n        if (data.Status) {\n          this.$toast.add({\n            severity: \"success\",\n            summary: \"Bilgi Ekranı\",\n            detail: \"Fatura Bilgileri Değiştirildi.\",\n            life: 1000\n          });\n        } else {\n          this.$toast.add({\n            severity: \"success\",\n            summary: \"Bilgi Ekranı\",\n            detail: \"Ops ! Lütfen Yeniden Deneyiniz  :(\",\n            life: 1000\n          });\n        }\n      });\n    },\n    firmaDegisim() {\n      let deneme = this.firma_list.find(x => x.firma_adi == this.firma_adi.firma_adi);\n      this.data.Firma_id = deneme.Firma_id;\n      this.data.firma_adi = deneme.firma_adi;\n    },\n    siparisDegisim() {\n      let deneme = this.siparis_list.find(x => x.siparisno == this.siparis_no.siparisno);\n      this.data.siparisno = deneme.siparisno;\n    },\n    aramaFirma(event) {\n      setTimeout(() => {\n        let result;\n        if (event.query.length === 0) {\n          result = [...this.firma_list];\n        } else {\n          result = this.firma_list.filter(ted => {\n            return ted.firma_adi.toLowerCase().startsWith(event.query.toLowerCase());\n          });\n        }\n        this.filterFaturaList = result;\n      }, 250);\n    },\n    aramaSiparis(event) {\n      setTimeout(() => {\n        let result;\n        if (event.query.length === 0) {\n          result = [...this.siparis_list];\n        } else {\n          result = this.siparis_list.filter(ted => {\n            return ted.siparis_no.toLowerCase().startsWith(event.query.toLowerCase());\n          });\n        }\n        this.filterSiparisList = result;\n      }, 250);\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["mapGetters","service","fileService","CustomInputFile","data","firma_list","siparis_list","firma_adi","siparis_no","siparisno","DosyaSil","DosyaLink","DosyaAc","filterFaturaList","filterSiparisList","components","customFileInput","computed","mounted","created","getKonteynerFormListesi","then","konteyner_liste","methods","konteynerDosyaGonder","event","nakliyeDosyaGonder","Firma_id","faturaNo","console","log","Status","$toast","add","severity","summary","detail","life","dataKayitIslem","setKonteynerFaturaGuncelle","firmaDegisim","deneme","find","x","siparisDegisim","aramaFirma","setTimeout","result","query","length","filter","ted","toLowerCase","startsWith","aramaSiparis"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\evrakgiris\\KonteynerForm.vue"],"sourcesContent":["<template>\r\n  <div style=\"margin-left: 32px\">\r\n    <div class=\"columns\">\r\n      <div class=\"column\">\r\n        <label for=\"lastname\" class=\"p-col-fixed\" style=\"width: 100px\"\r\n          >Firma</label\r\n        >\r\n        <div class=\"p-field p-col-12 p-md-12\">\r\n          <AutoComplete\r\n            v-model=\"firma_adi\"\r\n            :suggestions=\"filterFaturaList\"\r\n            @complete=\"aramaFirma($event)\"\r\n            :dropdown=\"true\"\r\n            field=\"firma_adi\"\r\n            @item-select=\"firmaDegisim\"\r\n          >\r\n          </AutoComplete>\r\n        </div>\r\n      </div>\r\n      <div class=\"column\">\r\n        <label for=\"lastname\" class=\"p-col-fixed\" style=\"width: 100px\"\r\n          >Sipariş Numarası</label\r\n        >\r\n        <div class=\"p-col\">\r\n          <AutoComplete\r\n            v-model=\"siparis_no\"\r\n            :suggestions=\"filterSiparisList\"\r\n            @complete=\"aramaSiparis($event)\"\r\n            :dropdown=\"true\"\r\n            field=\"siparisno\"\r\n            @item-select=\"siparisDegisim\"\r\n          >\r\n          </AutoComplete>\r\n        </div>\r\n      </div>\r\n      <div class=\"column\">\r\n        <label for=\"firstname\" class=\"p-col-fixed\" style=\"width: 100px\"\r\n          >Fatura Numarası</label\r\n        >\r\n        <div class=\"p-col\">\r\n          <InputText id=\"firstname\" v-model=\"data.faturaNo\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"columns\">\r\n      <div class=\"column\">\r\n        <label for=\"firstname\" class=\"p-col-fixed\" style=\"width: 100px\"\r\n          >Kur</label\r\n        >\r\n        <div class=\"p-col\">\r\n          <InputText id=\"firstname\" v-model=\"data.kur\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"column\">\r\n        <label for=\"lastname\" class=\"p-col-fixed\" style=\"width: 100px\"\r\n          >Tutar- USD</label\r\n        >\r\n        <div class=\"p-col\">\r\n          <InputText id=\"lastname\" v-model=\"data.Tutar_dolar\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"column\">\r\n        <label for=\"lastname\" class=\"p-col-fixed\" style=\"width: 100px\"\r\n          >Tutar- TRY</label\r\n        >\r\n        <div class=\"p-col\">\r\n          <InputText id=\"lastname\" v-model=\"data.Tutar_tl\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"columns\" style=\"margin-left: 190px\">\r\n      <div class=\"column\">\r\n        <Button\r\n          class=\"p-button-secondary\"\r\n          @click=\"dataKayitIslem\"\r\n          label=\"Kaydet\"\r\n        />\r\n      </div>\r\n      <div class=\"column\">\r\n        <custom-file-input\r\n          baslik=\"Dosya Gönder\"\r\n          @sunucuDosyaYolla=\"konteynerDosyaGonder($event)\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport service from \"@/service/OperasyonService\";\r\nimport fileService from \"@/service/FileService\";\r\nimport CustomInputFile from \"@/components/shared/CustomInputFile\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      firma_list: null,\r\n      siparis_list: null,\r\n      firma_adi: null,\r\n      siparis_no: null,\r\n      siparisno: null,\r\n      DosyaSil: false,\r\n      DosyaLink: null,\r\n      DosyaAc: false,\r\n      filterFaturaList: null,\r\n      filterSiparisList: null,\r\n    };\r\n  },\r\n  components: {\r\n    customFileInput: CustomInputFile,\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"data\"]),\r\n  },\r\n  mounted() {\r\n    this.firma_adi = this.data.firma_adi;\r\n\r\n    this.siparis_no = this.data.siparisno;\r\n  },\r\n  created() {\r\n    service.getKonteynerFormListesi().then((data) => {\r\n      this.firma_list = data.konteyner_liste;\r\n      this.siparis_list = data.siparis_list;\r\n    });\r\n  },\r\n\r\n  methods: {\r\n    konteynerDosyaGonder(event) {\r\n      fileService\r\n        .nakliyeDosyaGonder(\r\n          event,\r\n          this.data.Firma_id,\r\n          this.data.faturaNo + \".pdf\"\r\n        )\r\n        .then((data) => {\r\n          console.log(\"nakliyeDosyaGonder\", data);\r\n          if (data.Status) {\r\n            this.$toast.add({\r\n              severity: \"success\",\r\n              summary: \"Bilgi Ekranı\",\r\n              detail: \"Evrak başarılı şekilde yüklendi .\",\r\n              life: 1000,\r\n            });\r\n          } else {\r\n            this.$toast.add({\r\n              severity: \"success\",\r\n              summary: \"Bilgi Ekranı\",\r\n              detail: \"Ops ! Lütfen Yeniden Deneyiniz  :( \",\r\n              life: 1000,\r\n            });\r\n          }\r\n        });\r\n    },\r\n    dataKayitIslem() {\r\n      console.log(\"dataKayitIslem\", this.data);\r\n      service.setKonteynerFaturaGuncelle(this.data).then((data) => {\r\n        if (data.Status) {\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Bilgi Ekranı\",\r\n            detail: \"Fatura Bilgileri Değiştirildi.\",\r\n            life: 1000,\r\n          });\r\n        } else {\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Bilgi Ekranı\",\r\n            detail: \"Ops ! Lütfen Yeniden Deneyiniz  :(\",\r\n            life: 1000,\r\n          });\r\n        }\r\n      });\r\n    },\r\n    firmaDegisim() {\r\n      let deneme = this.firma_list.find(\r\n        (x) => x.firma_adi == this.firma_adi.firma_adi\r\n      );\r\n      this.data.Firma_id = deneme.Firma_id;\r\n      this.data.firma_adi = deneme.firma_adi;\r\n    },\r\n    siparisDegisim() {\r\n      let deneme = this.siparis_list.find(\r\n        (x) => x.siparisno == this.siparis_no.siparisno\r\n      );\r\n\r\n      this.data.siparisno = deneme.siparisno;\r\n    },\r\n    aramaFirma(event) {\r\n      setTimeout(() => {\r\n        let result;\r\n        if (event.query.length === 0) {\r\n          result = [...this.firma_list];\r\n        } else {\r\n          result = this.firma_list.filter((ted) => {\r\n            return ted.firma_adi\r\n              .toLowerCase()\r\n              .startsWith(event.query.toLowerCase());\r\n          });\r\n        }\r\n\r\n        this.filterFaturaList = result;\r\n      }, 250);\r\n    },\r\n\r\n    aramaSiparis(event) {\r\n      setTimeout(() => {\r\n        let result;\r\n        if (event.query.length === 0) {\r\n          result = [...this.siparis_list];\r\n        } else {\r\n          result = this.siparis_list.filter((ted) => {\r\n            return ted.siparis_no\r\n              .toLowerCase()\r\n              .startsWith(event.query.toLowerCase());\r\n          });\r\n        }\r\n\r\n        this.filterSiparisList = result;\r\n      }, 250);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.p-autocomplete-dd .p-autocomplete-input {\r\n  width: 250px;\r\n}\r\n.p-inputtext {\r\n  width: 250px;\r\n}\r\n#isMobile {\r\n  width: 150px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}