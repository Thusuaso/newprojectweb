{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport TedarikciService from \"@/service/TedarikciService\";\nimport UrunService from \"@/service/UrunService\";\nimport UrunKartBilgi from \"./UrunKartBilgi\";\n//import CurrencyInput from '../../shared/CurrencyInput';\nimport { required } from \"@vuelidate/validators\";\nimport Iscilik from \"./Iscilik\";\nexport default {\n  components: {\n    urunKartBilgi: UrunKartBilgi,\n    //inputCurrency : CurrencyInput,\n    iscilik: Iscilik\n  },\n  methods: {\n    aramaTedarikci(event) {\n      setTimeout(() => {\n        let result;\n        if (event.query.length === 0) {\n          result = [...this.tedarikciList];\n        } else {\n          result = this.tedarikciList.filter(ted => {\n            return ted.firmaAdi.toLowerCase().startsWith(event.query.toLowerCase());\n          });\n        }\n        this.filterTedarikciList = result;\n      }, 250);\n    },\n    aramaBirim(event) {\n      setTimeout(() => {\n        let result;\n        if (event.query.length === 0) {\n          result = [...this.urunBirimList];\n        } else {\n          result = this.urunBirimList.filter(ted => {\n            return ted.birimAdi.toLowerCase().startsWith(event.query.toLowerCase());\n          });\n        }\n        this.filterUrunBirimList = result;\n      }, 250);\n    },\n    idOlustur() {\n      let result = \"\";\n      let characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n      let charactersLength = characters.length;\n      for (var i = 0; i < 8; i++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      }\n      return result;\n    },\n    indexBul(id, liste) {\n      let index = -1;\n      if (!liste != null) {\n        for (let i = 0; i < liste.length; i++) {\n          if (liste[i].id === id) {\n            index = i;\n            break;\n          }\n        }\n      }\n      return index;\n    },\n    diziUzunluk(liste) {\n      let uzunluk = 0;\n      for (let key in liste) {\n        if (liste[key]) uzunluk = uzunluk + 1;\n      }\n      return uzunluk;\n    },\n    kayitKontrol() {\n      const kontrol = this.diziUzunluk(this.urunler_yeni) + this.diziUzunluk(this.urunler_degisenler) + this.diziUzunluk(this.urunler_silinenler);\n      let durum = true;\n      if (kontrol > 0) durum = false;\n      this.emitter.emit(\"siparisBilgileriDegisim\", durum);\n    },\n    urunIslemleri() {\n      const urunKart = this.$store.getters.getSiparisUrunKart;\n      this.siparis.urunAdi = urunKart.urunAdi;\n      this.siparis.urunKartId = urunKart.id;\n      this.siparis.en = urunKart.en;\n      this.siparis.boy = urunKart.boy;\n      this.siparis.kenar = urunKart.kenar;\n      this.siparis.yuzeyIslem = urunKart.yuzeyIslem;\n      this.siparis.tedarikciAdi = this.tedarikci.firmaAdi;\n      this.siparis.tedarikciId = this.tedarikci.id;\n      this.siparis.urunBirimId = this.urunBirim.id;\n      this.siparis.m2 = 0;\n      this.siparis.mt = 0;\n      this.siparis.ton = 0;\n      this.siparis.adet = 0;\n      if (this.siparis.urunBirimId == 1) this.siparis.m2 = this.siparis.miktar;\n      if (this.siparis.urunBirimId == 2) this.siparis.adet = this.siparis.miktar;\n      if (this.siparis.urunBirimId == 3) this.siparis.mt = this.siparis.miktar;\n      if (this.siparis.urunBirimId == 4) this.siparis.ton = this.siparis.miktar;\n      this.siparis.satisToplam = this.siparis.satisFiyati * this.siparis.miktar;\n\n      //id kontrol\n      if (!this.siparis.id) {\n        this.siparis.id = this.idOlustur();\n      }\n    },\n    form_btn_reset() {\n      this.dis_yeni = false;\n      this.dis_iptal = true;\n      this.dis_ekle = true;\n      this.dis_degistir = true;\n      this.dis_urun_giris = true;\n      this.dis_sil = true;\n      this.dis_stokal = true;\n      this.dis_ozelIscilik = true;\n      this.urun = {};\n      this.$store.dispatch(\"siparisUrunKartAct\", {});\n      this.selectUrun = null;\n      this.siparis = null;\n      this.tedarikci = null;\n      this.siparis = {};\n      this.urunBirim = null;\n      this.alisFiyati = 0;\n      this.satisFiyati = 0;\n    },\n    btn_yeni_click() {\n      this.dis_yeni = true;\n      this.dis_iptal = false;\n      this.dis_ekle = false;\n      this.dis_urun_giris = false;\n      this.dis_ozelIscilik = true;\n      this.siparis = {\n        ...this.urunModel\n      };\n    },\n    btn_iptal_click() {\n      this.form_btn_reset();\n    },\n    btn_ekle_click() {\n      this.urunIslemleri();\n      // eslint-disable-next-line vue/no-mutating-props\n      this.siparisUrunler.push({\n        ...this.siparis\n      });\n      if (!this.yeniSiparis) this.yeni_urun_islem();\n      this.dataSatirTopla(this.siparisUrunler);\n      this.form_btn_reset();\n      this.$toast.add({\n        severity: \"success\",\n        summary: \"Bilgi Ekranı\",\n        detail: \"Ürün Eklendi\",\n        life: 3000\n      });\n      this.$emit(\"siparisUrunDegisim\");\n      this.emitter.emit(\"isSipControl\", true);\n    },\n    btn_degistir_click() {\n      this.urunIslemleri();\n      let index = this.indexBul(this.siparis.id, this.siparisUrunler);\n      this.siparisUrunler[index] = this.siparis;\n      if (!this.yeniSiparis) this.degisen_urun_islem();\n      this.dataSatirTopla(this.siparisUrunler);\n      this.form_btn_reset();\n      this.$toast.add({\n        severity: \"success\",\n        summary: \"Bilgi Ekranı\",\n        detail: \"Ürün Değiştirildi\",\n        life: 3000\n      });\n      this.$emit(\"siparisUrunDegisim\");\n    },\n    btn_sil_click() {\n      let index = this.indexBul(this.siparis.id, this.siparisUrunler);\n      if (!this.yeniSiparis) this.silinen_urun_islem();\n      this.siparisUrunler.splice(index, 1);\n      this.dataSatirTopla(this.siparisUrunler);\n      this.form_btn_reset();\n      this.$toast.add({\n        severity: \"warn\",\n        summary: \"Bilgi Ekranı\",\n        detail: \"Ürün Silindi.\",\n        life: 3000\n      });\n      this.$emit(\"siparisUrunDegisim\");\n    },\n    siparisUrunSec(event) {\n      this.dis_yeni = true;\n      this.dis_degistir = false;\n      this.dis_iptal = false;\n      this.dis_sil = false;\n      this.dis_urun_giris = false;\n      this.dis_ozelIscilik = false;\n      if (this.selectUrun) {\n        this.siparis = {\n          ...event.data\n        };\n        this.alisFiyati = this.siparis.alisFiyati;\n        this.satisFiyati = this.siparis.satisFiyati;\n        this.urunBirim = this.urunBirimList.find(x => x.id == this.siparis.urunBirimId);\n        this.tedarikci = this.tedarikciList.find(x => x.id == this.siparis.tedarikciId);\n        this.$store.dispatch(\"siparisFormUrunGuncelleAct\", this.siparis.urunKartId);\n      }\n    },\n    dataSatirTopla(liste) {\n      this.toplam_m2 = 0;\n      this.toplam_mt = 0;\n      this.toplam_adet = 0;\n      this.toplam_ton = 0;\n      this.toplam_kasa = 0;\n      this.toplam_tutar = 0;\n      for (let key in liste) {\n        this.toplam_m2 += liste[key].m2;\n        this.toplam_mt += liste[key].mt;\n        this.toplam_adet += liste[key].adet;\n        this.toplam_ton += liste[key].ton;\n        this.toplam_kasa += liste[key].kasaAdet;\n        this.toplam_tutar += liste[key].satisToplam;\n      }\n    },\n    yeni_urun_islem() {\n      this.urunler_yeni.push({\n        ...this.siparis\n      });\n      this.kayitKontrol();\n    },\n    degisen_urun_islem() {\n      if (this.diziUzunluk(this.urunler_yeni) > 0) {\n        let yeniUrunKontrol = this.indexBul(this.siparis.id, this.urunler_yeni);\n        if (yeniUrunKontrol != -1) {\n          this.urunler_yeni[yeniUrunKontrol] = {\n            ...this.siparis\n          };\n        } else {\n          let index = this.indexBul(this.siparis.id, this.urunler_degisenler);\n          if (index == -1) {\n            this.urunler_degisenler.push({\n              ...this.siparis\n            });\n          } else this.urunler_degisenler[index] = {\n            ...this.siparis\n          };\n        }\n      } else {\n        let index = this.indexBul(this.siparis.id, this.urunler_degisenler);\n        if (index == -1) this.urunler_degisenler.push({\n          ...this.siparis\n        });else this.urunler_degisenler[index] = {\n          ...this.siparis\n        };\n      }\n      this.kayitKontrol();\n    },\n    silinen_urun_islem() {\n      let yeniUrun = this.indexBul(this.siparis.id, this.urunler_yeni);\n      if (yeniUrun != -1) {\n        this.urunler_yeni.splice(yeniUrun, 1);\n      } else {\n        this.urunler_silinenler.push({\n          ...this.siparis\n        });\n        let degisenUrun = this.indexBul(this.siparis.id, this.urunler_degisenler);\n        if (degisenUrun != -1) {\n          this.urunler_degisenler.splice(degisenUrun, 1);\n        }\n      }\n      this.kayitKontrol();\n    },\n    ozelIscilikFormAc() {\n      this.dialogIscilik = true;\n    },\n    miktarDegisim(event) {\n      alert(\"miktarDegisim\", event);\n    }\n  },\n  data() {\n    return {\n      siparis: {},\n      not: \"\",\n      selectNot: {},\n      tedarikci: null,\n      tedarikciList: null,\n      filterTedarikciList: null,\n      urunBirim: null,\n      filterUrunBirimList: null,\n      urunBirimList: null,\n      urunler: null,\n      selectUrun: null,\n      filters: {},\n      dis_yeni: false,\n      dis_iptal: true,\n      dis_ekle: true,\n      dis_degistir: true,\n      dis_stokal: true,\n      dis_sil: true,\n      dis_urun_giris: true,\n      dis_ozelIscilik: true,\n      dialogIscilik: false,\n      toplam_m2: 0,\n      toplam_mt: 0,\n      toplam_adet: 0,\n      toplam_ton: 0,\n      toplam_kasa: 0,\n      toplam_tutar: 0,\n      satisFiyati: 0,\n      alisFiyati: 0,\n      hatirlatmaColumns: [{\n        field: \"not\",\n        label: \"not\",\n        width: 40\n      }],\n      siparisColumns: [{\n        field: \"siraNo\",\n        label: \"S\",\n        numeric: true,\n        centered: true\n      }, {\n        field: \"tedarikciAdi\",\n        label: \"Kimden\",\n        width: \"80\",\n        searchable: true\n      }, {\n        field: \"iscilik\",\n        label: \"İşçilik\"\n      }, {\n        field: \"urunAdi\",\n        label: \"Ürün Adı\",\n        width: \"90\"\n      }, {\n        field: \"en\",\n        label: \"E\",\n        width: \"60\",\n        searchable: true\n      }, {\n        field: \"boy\",\n        label: \"B\",\n        width: \"60\",\n        searchable: true\n      }, {\n        field: \"kenar\",\n        label: \"K\",\n        width: \"60\",\n        searchable: true\n      }, {\n        field: \"yuzeyIslem\",\n        label: \"İşlem\",\n        width: \"170\"\n      }, {\n        field: \"m2\",\n        label: \"M2\",\n        width: \"60\",\n        numeric: true,\n        centered: true\n      }, {\n        field: \"adet\",\n        label: \"Adet\",\n        width: \"60\",\n        numeric: true,\n        centered: true\n      }, {\n        field: \"mt\",\n        label: \"Mt\",\n        width: \"60\",\n        numeric: true,\n        centered: true\n      }, {\n        field: \"ton\",\n        label: \"Ton\",\n        width: \"60\",\n        numeric: true,\n        centered: true\n      }, {\n        field: \"kasaAdet\",\n        label: \"Kasa\",\n        width: \"60\",\n        numeric: true,\n        centered: true\n      }, {\n        field: \"satisToplam\",\n        label: \"Tutar\",\n        width: \"60\",\n        numeric: true,\n        centered: true\n      }]\n    };\n  },\n  props: {\n    siparisUrunler: null,\n    urunModel: null,\n    siparisNo: null,\n    siparisUrunLoading: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    urunler_yeni: {\n      type: Array,\n      required: true\n    },\n    urunler_degisenler: {\n      type: Array,\n      required: true\n    },\n    urunler_silinenler: {\n      type: Array,\n      required: true\n    },\n    yeniSiparis: {\n      type: Boolean\n    }\n  },\n  validations: {\n    tedarikci: {\n      required\n    },\n    urunBirim: {\n      required\n    },\n    siparis: {\n      miktar: {\n        required\n      },\n      siraNo: {\n        required\n      },\n      musteriAciklama: {\n        required\n      },\n      uretimAciklama: {\n        required\n      }\n    }\n  },\n  urunService: null,\n  tedarikciService: null,\n  created() {\n    this.urunService = new UrunService();\n    this.tedarikciService = new TedarikciService();\n  },\n  mounted() {\n    this.urunService.getUrunBirimList().then(data => {\n      this.urunBirimList = data;\n    });\n    this.tedarikciService.getTedarikciMenuList().then(data => this.tedarikciList = data);\n    this.dataSatirTopla(this.siparisUrunler);\n  }\n};","map":{"version":3,"mappings":"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","names":["TedarikciService","UrunService","UrunKartBilgi","required","Iscilik","components","urunKartBilgi","iscilik","methods","aramaTedarikci","event","setTimeout","result","query","length","tedarikciList","filter","ted","firmaAdi","toLowerCase","startsWith","filterTedarikciList","aramaBirim","urunBirimList","birimAdi","filterUrunBirimList","idOlustur","characters","charactersLength","i","charAt","Math","floor","random","indexBul","id","liste","index","diziUzunluk","uzunluk","key","kayitKontrol","kontrol","urunler_yeni","urunler_degisenler","urunler_silinenler","durum","emitter","emit","urunIslemleri","urunKart","$store","getters","getSiparisUrunKart","siparis","urunAdi","urunKartId","en","boy","kenar","yuzeyIslem","tedarikciAdi","tedarikci","tedarikciId","urunBirimId","urunBirim","m2","mt","ton","adet","miktar","satisToplam","satisFiyati","form_btn_reset","dis_yeni","dis_iptal","dis_ekle","dis_degistir","dis_urun_giris","dis_sil","dis_stokal","dis_ozelIscilik","urun","dispatch","selectUrun","alisFiyati","btn_yeni_click","urunModel","btn_iptal_click","btn_ekle_click","siparisUrunler","push","yeniSiparis","yeni_urun_islem","dataSatirTopla","$toast","add","severity","summary","detail","life","$emit","btn_degistir_click","degisen_urun_islem","btn_sil_click","silinen_urun_islem","splice","siparisUrunSec","data","find","x","toplam_m2","toplam_mt","toplam_adet","toplam_ton","toplam_kasa","toplam_tutar","kasaAdet","yeniUrunKontrol","yeniUrun","degisenUrun","ozelIscilikFormAc","dialogIscilik","miktarDegisim","alert","not","selectNot","urunler","filters","hatirlatmaColumns","field","label","width","siparisColumns","numeric","centered","searchable","props","siparisNo","siparisUrunLoading","type","Boolean","default","Array","validations","siraNo","musteriAciklama","uretimAciklama","urunService","tedarikciService","created","mounted","getUrunBirimList","then","getTedarikciMenuList"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\siparisler\\siparisGiris\\BmSiparisBilgileri.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"columns\">\r\n      <div class=\"column is-4\">\r\n        <div class=\"columns\">\r\n          <urun-kart-bilgi :dis_urun_giris=\"dis_urun_giris\" />\r\n        </div>\r\n        <div class=\"columns\">\r\n          <div class=\"column is-12 custom-box\">\r\n            <div class=\"columns is-multiline\">\r\n              <div class=\"column is-6\">\r\n                <AutoComplete\r\n                  v-model=\"tedarikci\"\r\n                  @input=\"aramaTedarikci($event)\"\r\n                  :suggestions=\"filterTedarikciList\"\r\n                  optionLabel=\"name\"\r\n                />\r\n              </div>\r\n              <div class=\"column is-6\">\r\n                <span class=\"p-float-label\">\r\n                  <InputText id=\"alisFiyati\" v-model=\"siparis.alisFiyati\" />\r\n                  <label for=\"alisFiyati\">A.Fiyatı $</label>\r\n                </span>\r\n              </div>\r\n              <div class=\"column is-6\">\r\n                <span class=\"p-float-label\">\r\n                  <InputText\r\n                    id=\"alisFiyati_TL\"\r\n                    v-model=\"siparis.alisFiyati_TL\"\r\n                  />\r\n                  <label for=\"alisFiyati_TL\">A.Fiyatı TL</label>\r\n                </span>\r\n              </div>\r\n              <div class=\"column is-6\">\r\n                <span class=\"p-float-label\">\r\n                  <InputText id=\"satisFiyati\" v-model=\"siparis.satisFiyati\" />\r\n                  <label for=\"satisFiyati\">S.Fiyatı $</label>\r\n                </span>\r\n              </div>\r\n              <div class=\"column is-12\">\r\n                <Button\r\n                  class=\"p-button-secondary\"\r\n                  v-if=\"!yeniSiparis\"\r\n                  :disabled=\"dis_ozelIscilik\"\r\n                  @click=\"ozelIscilikFormAc\"\r\n                />\r\n                <Dialog\r\n                  v-model:visible=\"dialogIscilik\"\r\n                  header=\"Sipariş Ekstra Gider Girişi\"\r\n                  :modal=\"true\"\r\n                  position=\"top\"\r\n                >\r\n                  <div\r\n                    class=\"p-cardialog-content\"\r\n                    style=\"height: 500px; background-color: #f4f4f4\"\r\n                  >\r\n                    <iscilik\r\n                      :siparisNo=\"siparisNo\"\r\n                      :urunKartId=\"siparis.urunKartId\"\r\n                    />\r\n                  </div>\r\n                </Dialog>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"columns\">\r\n          <div class=\"column is-12 custom-box\">\r\n            <div class=\"columns is-multiline\">\r\n              <div class=\"column is-3\">\r\n                <AutoComplete\r\n                  :disabled=\"dis_urun_giris\"\r\n                  v-model=\"urunBirim\"\r\n                  :suggestions=\"filterUrunBirimList\"\r\n                  @input=\"aramaBirim($event)\"\r\n                  optionLabel=\"name\"\r\n                />\r\n              </div>\r\n              <div class=\"column\">\r\n                <span class=\"p-float-label\">\r\n                  <InputText\r\n                    id=\"miktar\"\r\n                    @input=\"miktarDegisim($event)\"\r\n                    :disabled=\"dis_urun_giris\"\r\n                    type=\"text\"\r\n                    v-model=\"siparis.miktar\"\r\n                  />\r\n                  <label for=\"miktar\">Miktar</label>\r\n                </span>\r\n              </div>\r\n              <div class=\"column\">\r\n                <span class=\"p-float-label\">\r\n                  <InputText\r\n                    id=\"kasaAdet\"\r\n                    :disabled=\"dis_urun_giris\"\r\n                    type=\"text\"\r\n                    v-model=\"siparis.kasaAdet\"\r\n                  />\r\n                  <label for=\"kasaAdet\">Kasa Adet</label>\r\n                </span>\r\n              </div>\r\n              <div class=\"column\">\r\n                <span class=\"p-float-label\">\r\n                  <InputText\r\n                    id=\"siraNo\"\r\n                    :disabled=\"dis_urun_giris\"\r\n                    type=\"text\"\r\n                    v-model=\"siparis.siraNo\"\r\n                  />\r\n                  <label for=\"siraNo\">Sıra No</label>\r\n                </span>\r\n              </div>\r\n              <div class=\"column\">\r\n                <span class=\"p-float-label\">\r\n                  <InputText\r\n                    id=\"ozelMiktar\"\r\n                    :disabled=\"dis_urun_giris\"\r\n                    type=\"text\"\r\n                    v-model=\"siparis.ozelMiktar\"\r\n                  />\r\n                  <label for=\"ozelMiktar\">Ö.M2</label>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"column is-8\" style=\"margin-left: 10px\">\r\n        <div class=\"columns\">\r\n          <div class=\"column is-12 custom-box\">\r\n            <div class=\"columns is-multiline\">\r\n              <div class=\"column is-6\">\r\n                <span class=\"p-float-label\">\r\n                  <InputText\r\n                    id=\"musteriAciklama\"\r\n                    :disabled=\"dis_urun_giris\"\r\n                    type=\"text\"\r\n                    v-model=\"siparis.musteriAciklama\"\r\n                  />\r\n                  <label for=\"musteriAciklama\">Müşteri Açıklama</label>\r\n                </span>\r\n              </div>\r\n              <div class=\"column is-6\">\r\n                <span class=\"p-float-label\">\r\n                  <InputText\r\n                    id=\"uretimAciklama\"\r\n                    :disabled=\"dis_urun_giris\"\r\n                    type=\"text\"\r\n                    v-model=\"siparis.uretimAciklama\"\r\n                  />\r\n                  <label for=\"uretimAciklama\">Üretim Açıklama</label>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- <div class=\"columns\">\r\n          <div class=\"column is-12 custom-box\">\r\n            <div class=\"columns is-multiline\">\r\n              <div class=\"column is-8\">\r\n\r\n                <b-field>\r\n                  <b-input size=\"is-small\" />\r\n                </b-field>\r\n              </div>\r\n              <div class=\"column is-4\">\r\n                <button class=\"button is-success is-small\">\r\n                  <span class=\"icon is-small\">\r\n                    <i class=\"fas fa-plus\"></i>\r\n                  </span>\r\n                </button>\r\n              </div>\r\n              <div class=\"column is-12\">\r\n                <b-table height=\"80px\" :columns=\"hatirlatmaColumns\"></b-table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n        <div class=\"columns\">\r\n          <div class=\"column is-12 custom-box\">\r\n            <div class=\"columns is-multiline\">\r\n              <div class=\"column\">\r\n                <Button\r\n                  :disabled=\"dis_yeni\"\r\n                  @click=\"btn_yeni_click\"\r\n                  label=\"Yeni\"\r\n                  class=\"p-button-secondary\"\r\n                />\r\n              </div>\r\n              <div class=\"column\">\r\n                <Button\r\n                  class=\"p-button-warning\"\r\n                  :disabled=\"dis_iptal\"\r\n                  @click=\"btn_iptal_click\"\r\n                  label=\"İptal\"\r\n                />\r\n              </div>\r\n              <div class=\"column\">\r\n                <Button\r\n                  :disabled=\"dis_ekle\"\r\n                  @click=\"btn_ekle_click\"\r\n                  label=\"Ekle\"\r\n                  class=\"p-button-success\"\r\n                />\r\n              </div>\r\n              <div class=\"column\">\r\n                <Button\r\n                  :disabled=\"dis_degistir\"\r\n                  @click=\"btn_degistir_click\"\r\n                  class=\"p-button-info\"\r\n                  label=\"Değiştir\"\r\n                />\r\n              </div>\r\n              <div class=\"column\">\r\n                <Button\r\n                  :disabled=\"dis_sil\"\r\n                  @click=\"btn_sil_click\"\r\n                  label=\"Sil\"\r\n                  class=\"p-button-danger\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- <div class=\"columns\">\r\n      <div class=\"column is-12\">\r\n        <b-table height=\"500px\" :columns=\"siparisColumns\"> </b-table>\r\n      </div>\r\n    </div> -->\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport TedarikciService from \"@/service/TedarikciService\";\r\nimport UrunService from \"@/service/UrunService\";\r\nimport UrunKartBilgi from \"./UrunKartBilgi\";\r\n//import CurrencyInput from '../../shared/CurrencyInput';\r\nimport { required } from \"@vuelidate/validators\";\r\nimport Iscilik from \"./Iscilik\";\r\n\r\nexport default {\r\n  components: {\r\n    urunKartBilgi: UrunKartBilgi,\r\n    //inputCurrency : CurrencyInput,\r\n    iscilik: Iscilik,\r\n  },\r\n  methods: {\r\n    aramaTedarikci(event) {\r\n      setTimeout(() => {\r\n        let result;\r\n        if (event.query.length === 0) {\r\n          result = [...this.tedarikciList];\r\n        } else {\r\n          result = this.tedarikciList.filter((ted) => {\r\n            return ted.firmaAdi\r\n              .toLowerCase()\r\n              .startsWith(event.query.toLowerCase());\r\n          });\r\n        }\r\n\r\n        this.filterTedarikciList = result;\r\n      }, 250);\r\n    },\r\n    aramaBirim(event) {\r\n      setTimeout(() => {\r\n        let result;\r\n        if (event.query.length === 0) {\r\n          result = [...this.urunBirimList];\r\n        } else {\r\n          result = this.urunBirimList.filter((ted) => {\r\n            return ted.birimAdi\r\n              .toLowerCase()\r\n              .startsWith(event.query.toLowerCase());\r\n          });\r\n        }\r\n\r\n        this.filterUrunBirimList = result;\r\n      }, 250);\r\n    },\r\n    idOlustur() {\r\n      let result = \"\";\r\n      let characters =\r\n        \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n      let charactersLength = characters.length;\r\n      for (var i = 0; i < 8; i++) {\r\n        result += characters.charAt(\r\n          Math.floor(Math.random() * charactersLength)\r\n        );\r\n      }\r\n      return result;\r\n    },\r\n    indexBul(id, liste) {\r\n      let index = -1;\r\n      if (!liste != null) {\r\n        for (let i = 0; i < liste.length; i++) {\r\n          if (liste[i].id === id) {\r\n            index = i;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      return index;\r\n    },\r\n    diziUzunluk(liste) {\r\n      let uzunluk = 0;\r\n\r\n      for (let key in liste) {\r\n        if (liste[key]) uzunluk = uzunluk + 1;\r\n      }\r\n\r\n      return uzunluk;\r\n    },\r\n    kayitKontrol() {\r\n      const kontrol =\r\n        this.diziUzunluk(this.urunler_yeni) +\r\n        this.diziUzunluk(this.urunler_degisenler) +\r\n        this.diziUzunluk(this.urunler_silinenler);\r\n      let durum = true;\r\n      if (kontrol > 0) durum = false;\r\n      this.emitter.emit(\"siparisBilgileriDegisim\", durum);\r\n    },\r\n    urunIslemleri() {\r\n      const urunKart = this.$store.getters.getSiparisUrunKart;\r\n      this.siparis.urunAdi = urunKart.urunAdi;\r\n      this.siparis.urunKartId = urunKart.id;\r\n      this.siparis.en = urunKart.en;\r\n      this.siparis.boy = urunKart.boy;\r\n      this.siparis.kenar = urunKart.kenar;\r\n      this.siparis.yuzeyIslem = urunKart.yuzeyIslem;\r\n      this.siparis.tedarikciAdi = this.tedarikci.firmaAdi;\r\n      this.siparis.tedarikciId = this.tedarikci.id;\r\n      this.siparis.urunBirimId = this.urunBirim.id;\r\n      this.siparis.m2 = 0;\r\n      this.siparis.mt = 0;\r\n      this.siparis.ton = 0;\r\n      this.siparis.adet = 0;\r\n\r\n      if (this.siparis.urunBirimId == 1) this.siparis.m2 = this.siparis.miktar;\r\n      if (this.siparis.urunBirimId == 2)\r\n        this.siparis.adet = this.siparis.miktar;\r\n      if (this.siparis.urunBirimId == 3) this.siparis.mt = this.siparis.miktar;\r\n      if (this.siparis.urunBirimId == 4) this.siparis.ton = this.siparis.miktar;\r\n\r\n      this.siparis.satisToplam = this.siparis.satisFiyati * this.siparis.miktar;\r\n\r\n      //id kontrol\r\n      if (!this.siparis.id) {\r\n        this.siparis.id = this.idOlustur();\r\n      }\r\n    },\r\n    form_btn_reset() {\r\n      this.dis_yeni = false;\r\n      this.dis_iptal = true;\r\n      this.dis_ekle = true;\r\n      this.dis_degistir = true;\r\n      this.dis_urun_giris = true;\r\n      this.dis_sil = true;\r\n      this.dis_stokal = true;\r\n      this.dis_ozelIscilik = true;\r\n      this.urun = {};\r\n      this.$store.dispatch(\"siparisUrunKartAct\", {});\r\n      this.selectUrun = null;\r\n      this.siparis = null;\r\n      this.tedarikci = null;\r\n      this.siparis = {};\r\n      this.urunBirim = null;\r\n      this.alisFiyati = 0;\r\n      this.satisFiyati = 0;\r\n    },\r\n\r\n    btn_yeni_click() {\r\n      this.dis_yeni = true;\r\n      this.dis_iptal = false;\r\n      this.dis_ekle = false;\r\n      this.dis_urun_giris = false;\r\n      this.dis_ozelIscilik = true;\r\n\r\n      this.siparis = { ...this.urunModel };\r\n    },\r\n    btn_iptal_click() {\r\n      this.form_btn_reset();\r\n    },\r\n    btn_ekle_click() {\r\n\r\n      this.urunIslemleri();\r\n      // eslint-disable-next-line vue/no-mutating-props\r\n      this.siparisUrunler.push({ ...this.siparis });\r\n\r\n      if (!this.yeniSiparis) this.yeni_urun_islem();\r\n      this.dataSatirTopla(this.siparisUrunler);\r\n      this.form_btn_reset();\r\n      this.$toast.add({\r\n        severity: \"success\",\r\n        summary: \"Bilgi Ekranı\",\r\n        detail: \"Ürün Eklendi\",\r\n        life: 3000,\r\n      });\r\n      this.$emit(\"siparisUrunDegisim\");\r\n      this.emitter.emit(\"isSipControl\", true);\r\n    },\r\n    btn_degistir_click() {\r\n      this.urunIslemleri();\r\n      let index = this.indexBul(this.siparis.id, this.siparisUrunler);\r\n      this.siparisUrunler[index] = this.siparis;\r\n      if (!this.yeniSiparis) this.degisen_urun_islem();\r\n      this.dataSatirTopla(this.siparisUrunler);\r\n      this.form_btn_reset();\r\n      this.$toast.add({\r\n        severity: \"success\",\r\n        summary: \"Bilgi Ekranı\",\r\n        detail: \"Ürün Değiştirildi\",\r\n        life: 3000,\r\n      });\r\n      this.$emit(\"siparisUrunDegisim\");\r\n    },\r\n    btn_sil_click() {\r\n      let index = this.indexBul(this.siparis.id, this.siparisUrunler);\r\n      if (!this.yeniSiparis) this.silinen_urun_islem();\r\n      this.siparisUrunler.splice(index, 1);\r\n      this.dataSatirTopla(this.siparisUrunler);\r\n      this.form_btn_reset();\r\n      this.$toast.add({\r\n        severity: \"warn\",\r\n        summary: \"Bilgi Ekranı\",\r\n        detail: \"Ürün Silindi.\",\r\n        life: 3000,\r\n      });\r\n      this.$emit(\"siparisUrunDegisim\");\r\n    },\r\n\r\n    siparisUrunSec(event) {\r\n      this.dis_yeni = true;\r\n      this.dis_degistir = false;\r\n      this.dis_iptal = false;\r\n      this.dis_sil = false;\r\n      this.dis_urun_giris = false;\r\n      this.dis_ozelIscilik = false;\r\n\r\n      if (this.selectUrun) {\r\n        this.siparis = { ...event.data };\r\n        this.alisFiyati = this.siparis.alisFiyati;\r\n        this.satisFiyati = this.siparis.satisFiyati;\r\n        this.urunBirim = this.urunBirimList.find(\r\n          (x) => x.id == this.siparis.urunBirimId\r\n        );\r\n        this.tedarikci = this.tedarikciList.find(\r\n          (x) => x.id == this.siparis.tedarikciId\r\n        );\r\n        this.$store.dispatch(\r\n          \"siparisFormUrunGuncelleAct\",\r\n          this.siparis.urunKartId\r\n        );\r\n      }\r\n    },\r\n    dataSatirTopla(liste) {\r\n      this.toplam_m2 = 0;\r\n      this.toplam_mt = 0;\r\n      this.toplam_adet = 0;\r\n      this.toplam_ton = 0;\r\n      this.toplam_kasa = 0;\r\n      this.toplam_tutar = 0;\r\n\r\n      for (let key in liste) {\r\n        this.toplam_m2 += liste[key].m2;\r\n        this.toplam_mt += liste[key].mt;\r\n        this.toplam_adet += liste[key].adet;\r\n        this.toplam_ton += liste[key].ton;\r\n        this.toplam_kasa += liste[key].kasaAdet;\r\n        this.toplam_tutar += liste[key].satisToplam;\r\n      }\r\n    },\r\n    yeni_urun_islem() {\r\n      this.urunler_yeni.push({ ...this.siparis });\r\n\r\n      this.kayitKontrol();\r\n    },\r\n    degisen_urun_islem() {\r\n      if (this.diziUzunluk(this.urunler_yeni) > 0) {\r\n        let yeniUrunKontrol = this.indexBul(this.siparis.id, this.urunler_yeni);\r\n\r\n        if (yeniUrunKontrol != -1) {\r\n          this.urunler_yeni[yeniUrunKontrol] = { ...this.siparis };\r\n        } else {\r\n          let index = this.indexBul(this.siparis.id, this.urunler_degisenler);\r\n\r\n          if (index == -1) {\r\n            this.urunler_degisenler.push({ ...this.siparis });\r\n          } else this.urunler_degisenler[index] = { ...this.siparis };\r\n        }\r\n      } else {\r\n        let index = this.indexBul(this.siparis.id, this.urunler_degisenler);\r\n        if (index == -1) this.urunler_degisenler.push({ ...this.siparis });\r\n        else this.urunler_degisenler[index] = { ...this.siparis };\r\n      }\r\n      this.kayitKontrol();\r\n    },\r\n    silinen_urun_islem() {\r\n      let yeniUrun = this.indexBul(this.siparis.id, this.urunler_yeni);\r\n\r\n      if (yeniUrun != -1) {\r\n        this.urunler_yeni.splice(yeniUrun, 1);\r\n      } else {\r\n        this.urunler_silinenler.push({ ...this.siparis });\r\n        let degisenUrun = this.indexBul(\r\n          this.siparis.id,\r\n          this.urunler_degisenler\r\n        );\r\n\r\n        if (degisenUrun != -1) {\r\n          this.urunler_degisenler.splice(degisenUrun, 1);\r\n        }\r\n      }\r\n      this.kayitKontrol();\r\n    },\r\n    ozelIscilikFormAc() {\r\n      this.dialogIscilik = true;\r\n    },\r\n    miktarDegisim(event) {\r\n      alert(\"miktarDegisim\", event);\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      siparis: {},\r\n      not: \"\",\r\n      selectNot: {},\r\n      tedarikci: null,\r\n      tedarikciList: null,\r\n      filterTedarikciList: null,\r\n      urunBirim: null,\r\n      filterUrunBirimList: null,\r\n      urunBirimList: null,\r\n      urunler: null,\r\n      selectUrun: null,\r\n      filters: {},\r\n      dis_yeni: false,\r\n      dis_iptal: true,\r\n      dis_ekle: true,\r\n      dis_degistir: true,\r\n      dis_stokal: true,\r\n      dis_sil: true,\r\n      dis_urun_giris: true,\r\n      dis_ozelIscilik: true,\r\n      dialogIscilik: false,\r\n      toplam_m2: 0,\r\n      toplam_mt: 0,\r\n      toplam_adet: 0,\r\n      toplam_ton: 0,\r\n      toplam_kasa: 0,\r\n      toplam_tutar: 0,\r\n      satisFiyati: 0,\r\n      alisFiyati: 0,\r\n\r\n      hatirlatmaColumns: [\r\n        {\r\n          field: \"not\",\r\n          label: \"not\",\r\n          width: 40,\r\n        },\r\n      ],\r\n      siparisColumns: [\r\n        {\r\n          field: \"siraNo\",\r\n          label: \"S\",\r\n          numeric: true,\r\n          centered: true,\r\n        },\r\n        {\r\n          field: \"tedarikciAdi\",\r\n          label: \"Kimden\",\r\n          width: \"80\",\r\n          searchable: true,\r\n        },\r\n        {\r\n          field: \"iscilik\",\r\n          label: \"İşçilik\",\r\n        },\r\n        {\r\n          field: \"urunAdi\",\r\n          label: \"Ürün Adı\",\r\n          width: \"90\",\r\n        },\r\n        {\r\n          field: \"en\",\r\n          label: \"E\",\r\n          width: \"60\",\r\n          searchable: true,\r\n        },\r\n        {\r\n          field: \"boy\",\r\n          label: \"B\",\r\n          width: \"60\",\r\n          searchable: true,\r\n        },\r\n        {\r\n          field: \"kenar\",\r\n          label: \"K\",\r\n          width: \"60\",\r\n          searchable: true,\r\n        },\r\n        {\r\n          field: \"yuzeyIslem\",\r\n          label: \"İşlem\",\r\n          width: \"170\",\r\n        },\r\n        {\r\n          field: \"m2\",\r\n          label: \"M2\",\r\n          width: \"60\",\r\n          numeric: true,\r\n          centered: true,\r\n        },\r\n        {\r\n          field: \"adet\",\r\n          label: \"Adet\",\r\n          width: \"60\",\r\n          numeric: true,\r\n          centered: true,\r\n        },\r\n        {\r\n          field: \"mt\",\r\n          label: \"Mt\",\r\n          width: \"60\",\r\n          numeric: true,\r\n          centered: true,\r\n        },\r\n        {\r\n          field: \"ton\",\r\n          label: \"Ton\",\r\n          width: \"60\",\r\n          numeric: true,\r\n          centered: true,\r\n        },\r\n        {\r\n          field: \"kasaAdet\",\r\n          label: \"Kasa\",\r\n          width: \"60\",\r\n          numeric: true,\r\n          centered: true,\r\n        },\r\n        {\r\n          field: \"satisToplam\",\r\n          label: \"Tutar\",\r\n          width: \"60\",\r\n          numeric: true,\r\n          centered: true,\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  props: {\r\n    siparisUrunler: null,\r\n    urunModel: null,\r\n    siparisNo: null,\r\n    siparisUrunLoading: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    urunler_yeni: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    urunler_degisenler: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    urunler_silinenler: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    yeniSiparis: {\r\n      type: Boolean,\r\n    },\r\n  },\r\n  validations: {\r\n    tedarikci: {\r\n      required,\r\n    },\r\n    urunBirim: {\r\n      required,\r\n    },\r\n    siparis: {\r\n      miktar: {\r\n        required,\r\n      },\r\n      siraNo: { required },\r\n      musteriAciklama: { required },\r\n      uretimAciklama: { required },\r\n    },\r\n  },\r\n  urunService: null,\r\n  tedarikciService: null,\r\n  created() {\r\n    this.urunService = new UrunService();\r\n    this.tedarikciService = new TedarikciService();\r\n  },\r\n  mounted() {\r\n    this.urunService.getUrunBirimList().then((data) => {\r\n      this.urunBirimList = data;\r\n    });\r\n    this.tedarikciService\r\n      .getTedarikciMenuList()\r\n      .then((data) => (this.tedarikciList = data));\r\n\r\n    this.dataSatirTopla(this.siparisUrunler);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.custom-box {\r\n  width: 100%;\r\n  transition: 0.4s;\r\n  box-shadow: 3px 3px 14px 2px rgba(0, 0, 0, 0.18),\r\n    -3px -3px 14px 2px rgba(0, 0, 0, 0.1);\r\n\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}