{"ast":null,"code":"import service from \"@/service/FinansService\";\nexport default {\n  data() {\n    return {\n      yil_listesi: null,\n      ay_listesi: null,\n      odeme_listesi: null,\n      loading: false,\n      select_yil: \"\",\n      select_aystr: \"\",\n      select_ay: \"\",\n      is_form: true,\n      odeme_toplam: 0\n    };\n  },\n  created() {\n    service.getMusteriOdemeYilListesi().then(yil_list => {\n      this.yil_listesi = yil_list;\n      this.select_yil = yil_list[0].yil;\n      this.loading = true;\n      service.getMusteriOdemeAyListesi(this.select_yil).then(ay_list => {\n        this.ay_listesi = ay_list;\n        this.select_aystr = ay_list[0].ay_str;\n        this.select_ay = ay_list[0].ay;\n        service.getMusteriOdemeListesi(this.select_yil, this.select_ay).then(odeme_list => {\n          for (let key in odeme_list) {\n            this.odeme_toplam += odeme_list[key].tutar;\n          }\n          this.odeme_listesi = odeme_list;\n          this.loading = false;\n          this.is_form = false;\n        });\n      });\n    });\n  },\n  methods: {\n    formatPrice(value) {\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    },\n    yil_degisim_event() {\n      this.loading = true;\n      this.ay_listesi_yukle();\n    },\n    ay_degisim_event() {\n      this.select_ay = this.ay_listesi.find(x => x.ay_str == this.select_aystr.ay_str).ay;\n      this.loading = true;\n      this.odeme_listesi_yukle();\n    },\n    ay_listesi_yukle() {\n      service.getMusteriOdemeAyListesi(this.select_yil.yil).then(data => {\n        this.ay_listesi = data;\n        this.select_aystr = data[0].ay_str;\n        this.select_ay = data[0].ay;\n        this.odeme_listesi_yukle();\n      });\n    },\n    odeme_listesi_yukle() {\n      this.odeme_toplam = 0;\n      service.getMusteriOdemeListesi(this.select_yil.yil, this.select_ay).then(data => {\n        for (let key in data) {\n          this.odeme_toplam += data[key].tutar;\n        }\n        this.odeme_listesi = data;\n        this.loading = false;\n      });\n    },\n    excel_cikti_click() {\n      alert(\"excel listesi yapılacak\");\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["service","data","yil_listesi","ay_listesi","odeme_listesi","loading","select_yil","select_aystr","select_ay","is_form","odeme_toplam","created","getMusteriOdemeYilListesi","then","yil_list","yil","getMusteriOdemeAyListesi","ay_list","ay_str","ay","getMusteriOdemeListesi","odeme_list","key","tutar","methods","formatPrice","value","val","toFixed","replace","toString","yil_degisim_event","ay_listesi_yukle","ay_degisim_event","find","x","odeme_listesi_yukle","excel_cikti_click","alert"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\finans\\MusteriOdemeler.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"columns is-multiline is-centered\">\r\n      <div class=\"column is-4\">\r\n        <Dropdown\r\n          v-model=\"select_yil\"\r\n          :options=\"yil_listesi\"\r\n          optionLabel=\"yil\"\r\n          @change=\"yil_degisim_event\"\r\n          placeholder=\"Select a Year\"\r\n          :disabled=\"is_form\"\r\n        />\r\n      </div>\r\n      <div class=\"column is-4\">\r\n        <Dropdown\r\n          v-model=\"select_aystr\"\r\n          :options=\"ay_listesi\"\r\n          optionLabel=\"ay_str\"\r\n          @change=\"ay_degisim_event\"\r\n          placeholder=\"Select a Month\"\r\n          :disabled=\"is_form\"\r\n        />\r\n      </div>\r\n      <div class=\"column is-4\">\r\n        <Button\r\n          class=\"p-button-primary\"\r\n          @click=\"excel_cikti_click\"\r\n          label=\"Excel\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"columns is-centered\">\r\n      <div class=\"column is-11\">\r\n        <DataTable\r\n          :value=\"odeme_listesi\"\r\n          :scrollable=\"true\"\r\n          scrollHeight=\"365px\"\r\n          :loading=\"loading\"\r\n        >\r\n          <Column header=\"Ödeme Tarihi\" field=\"tarih\" headerStyle=\"width:10%\">\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.tarih }}\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            header=\"Müşteri Adı\"\r\n            headerStyle=\"width:25%\"\r\n            field=\"musteriadi\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.musteriadi }}\r\n            </template>\r\n          </Column>\r\n          <Column header=\"Sipariş Numarası\" headerStyle=\"width:25%\" field=\"po\">\r\n            <template #body=\"slotProps\">\r\n              <div\r\n                :class=\"slotProps.data.status == 'Numune' ? 'genel_status' : ''\"\r\n              >\r\n                {{ slotProps.data.po }}\r\n              </div>\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            header=\"Tutar\"\r\n            field=\"tutar\"\r\n            headerStyle=\"background-color:#7aa998;width:15%\"\r\n            sortable=\"true\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ formatPrice(slotProps.data.tutar) }}\r\n            </template>\r\n            <template #footer>\r\n              {{ formatPrice(odeme_toplam) }}\r\n            </template>\r\n          </Column>\r\n        </DataTable>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n<script>\r\nimport service from \"@/service/FinansService\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      yil_listesi: null,\r\n      ay_listesi: null,\r\n      odeme_listesi: null,\r\n      loading: false,\r\n      select_yil: \"\",\r\n      select_aystr: \"\",\r\n      select_ay: \"\",\r\n      is_form: true,\r\n      odeme_toplam: 0,\r\n    };\r\n  },\r\n  created() {\r\n    service.getMusteriOdemeYilListesi().then((yil_list) => {\r\n      this.yil_listesi = yil_list;\r\n      this.select_yil = yil_list[0].yil;\r\n      this.loading = true;\r\n\r\n      service.getMusteriOdemeAyListesi(this.select_yil).then((ay_list) => {\r\n        this.ay_listesi = ay_list;\r\n        this.select_aystr = ay_list[0].ay_str;\r\n        this.select_ay = ay_list[0].ay;\r\n\r\n        service\r\n          .getMusteriOdemeListesi(this.select_yil, this.select_ay)\r\n          .then((odeme_list) => {\r\n            for (let key in odeme_list) {\r\n              this.odeme_toplam += odeme_list[key].tutar;\r\n            }\r\n            this.odeme_listesi = odeme_list;\r\n            this.loading = false;\r\n            this.is_form = false;\r\n          });\r\n      });\r\n    });\r\n  },\r\n  methods: {\r\n    formatPrice(value) {\r\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\r\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n    },\r\n\r\n    yil_degisim_event() {\r\n      this.loading = true;\r\n      this.ay_listesi_yukle();\r\n    },\r\n    ay_degisim_event() {\r\n      this.select_ay = this.ay_listesi.find(\r\n        (x) => x.ay_str == this.select_aystr.ay_str\r\n      ).ay;\r\n      this.loading = true;\r\n      this.odeme_listesi_yukle();\r\n    },\r\n    ay_listesi_yukle() {\r\n      service.getMusteriOdemeAyListesi(this.select_yil.yil).then((data) => {\r\n        this.ay_listesi = data;\r\n        this.select_aystr = data[0].ay_str;\r\n        this.select_ay = data[0].ay;\r\n        this.odeme_listesi_yukle();\r\n      });\r\n    },\r\n    odeme_listesi_yukle() {\r\n      this.odeme_toplam = 0;\r\n      service\r\n        .getMusteriOdemeListesi(this.select_yil.yil, this.select_ay)\r\n        .then((data) => {\r\n          for (let key in data) {\r\n            this.odeme_toplam += data[key].tutar;\r\n          }\r\n\r\n          this.odeme_listesi = data;\r\n          this.loading = false;\r\n        });\r\n    },\r\n    excel_cikti_click() {\r\n      alert(\"excel listesi yapılacak\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.genel_status {\r\n  background-color: #98f5ff;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}