{"ast":null,"code":"import { mapGetters } from \"vuex\";\nimport teklifMusteriService from \"@/service/TeklifMusteriService\";\nexport default {\n  data() {\n    return {\n      ulke: \"\",\n      ulkeFlags: \"\",\n      ulkeId: null\n    };\n  },\n  props: [\"yeni_kayit\"],\n  computed: {\n    ...mapGetters([\"musteriTeklif\", \"ulkeList\"]),\n    filterUlkeList() {\n      return this.ulkeList.filter(option => {\n        return option.ulkeAdi.toString().toLowerCase().indexOf(this.ulke.toLowerCase()) >= 0;\n      });\n    }\n  },\n  created() {\n    if (!this.yeni_kayit) {\n      const data = this.musteriTeklif.ulke;\n      if (data.pngFlags) {\n        this.ulke = data.ulkeAdi;\n        this.ulkeFlags = data.pngFlags;\n        this.ulkeId = data.id;\n      }\n    }\n  },\n  methods: {\n    ulkeDegisim(event) {\n      if (event) {\n        const data = this.ulkeList.find(x => x.ulkeAdi == event);\n        this.ulkeFlags = data.pngFlags;\n        this.ulkeId = data.id;\n      }\n    },\n    musteriKaydet() {\n      if (!this.ulke) {\n        alert(\"Ülke Seçimi yapmalısınız.\");\n        return;\n      }\n      const musteriData = {\n        id: this.musteriTeklif.id,\n        musteriAdi: this.musteriTeklif.musteriAdi,\n        ulkeId: this.ulkeId\n      };\n      if (!this.yeni_kayit) {\n        teklifMusteriService.musteriGuncelle(musteriData).then(data => {\n          this.$store.dispatch(\"guncelleMusteriList\", data.musteriDetay);\n          this.emitter.emit(\"musteriTeklifGuncelle\", data);\n          alert(\"Müşteri Bilgileri Değiştirildi.\");\n        });\n      } else {\n        //yeni müşteri kaydı\n        alert(\"Yeni müşteri kaydı.\");\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AAuCA,SAASA,UAAS,QAAS,MAAM;AACjC,OAAOC,oBAAmB,MAAO,gCAAgC;AACjE,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,IAAI,EAAE,EAAE;MACRC,SAAS,EAAE,EAAE;MACbC,MAAM,EAAE;IACV,CAAC;EACH,CAAC;EACDC,KAAK,EAAE,CAAC,YAAY,CAAC;EACrBC,QAAQ,EAAE;IACR,GAAGP,UAAU,CAAC,CAAC,eAAe,EAAE,UAAU,CAAC,CAAC;IAC5CQ,cAAc,GAAG;MACf,OAAO,IAAI,CAACC,QAAQ,CAACC,MAAM,CAAEC,MAAM,IAAK;QACtC,OACEA,MAAM,CAACC,OAAM,CACVC,QAAQ,EAAC,CACTC,WAAW,EAAC,CACZC,OAAO,CAAC,IAAI,CAACZ,IAAI,CAACW,WAAW,EAAE,KAAK;MAE3C,CAAC,CAAC;IACJ;EACF,CAAC;EACDE,OAAO,GAAG;IACR,IAAI,CAAC,IAAI,CAACC,UAAU,EAAE;MACpB,MAAMf,IAAG,GAAI,IAAI,CAACgB,aAAa,CAACf,IAAI;MACpC,IAAID,IAAI,CAACiB,QAAQ,EAAE;QACjB,IAAI,CAAChB,IAAG,GAAID,IAAI,CAACU,OAAO;QACxB,IAAI,CAACR,SAAQ,GAAIF,IAAI,CAACiB,QAAQ;QAC9B,IAAI,CAACd,MAAK,GAAIH,IAAI,CAACkB,EAAE;MACvB;IACF;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,WAAW,CAACC,KAAK,EAAE;MACjB,IAAIA,KAAK,EAAE;QACT,MAAMrB,IAAG,GAAI,IAAI,CAACO,QAAQ,CAACe,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACb,OAAM,IAAKW,KAAK,CAAC;QAC1D,IAAI,CAACnB,SAAQ,GAAIF,IAAI,CAACiB,QAAQ;QAC9B,IAAI,CAACd,MAAK,GAAIH,IAAI,CAACkB,EAAE;MACvB;IACF,CAAC;IACDM,aAAa,GAAG;MACd,IAAI,CAAC,IAAI,CAACvB,IAAI,EAAE;QACdwB,KAAK,CAAC,2BAA2B,CAAC;QAClC;MACF;MAEA,MAAMC,WAAU,GAAI;QAClBR,EAAE,EAAE,IAAI,CAACF,aAAa,CAACE,EAAE;QACzBS,UAAU,EAAE,IAAI,CAACX,aAAa,CAACW,UAAU;QACzCxB,MAAM,EAAE,IAAI,CAACA;MACf,CAAC;MAED,IAAI,CAAC,IAAI,CAACY,UAAU,EAAE;QACpBhB,oBAAoB,CAAC6B,eAAe,CAACF,WAAW,CAAC,CAACG,IAAI,CAAE7B,IAAI,IAAK;UAC/D,IAAI,CAAC8B,MAAM,CAACC,QAAQ,CAAC,qBAAqB,EAAE/B,IAAI,CAACgC,YAAY,CAAC;UAC9D,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,uBAAuB,EAAElC,IAAI,CAAC;UAChDyB,KAAK,CAAC,iCAAiC,CAAC;QAC1C,CAAC,CAAC;MACJ,OAAO;QACL;QACAA,KAAK,CAAC,qBAAqB,CAAC;MAC9B;IACF;EACF;AACF,CAAC","names":["mapGetters","teklifMusteriService","data","ulke","ulkeFlags","ulkeId","props","computed","filterUlkeList","ulkeList","filter","option","ulkeAdi","toString","toLowerCase","indexOf","created","yeni_kayit","musteriTeklif","pngFlags","id","methods","ulkeDegisim","event","find","x","musteriKaydet","alert","musteriData","musteriAdi","musteriGuncelle","then","$store","dispatch","musteriDetay","emitter","emit"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\teklifler\\TeklifMusteriDetay.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"columns is-multiline\">\r\n      <div class=\"column is-12\">\r\n        <span class=\"p-float-label\">\r\n          <InputText\r\n            id=\"musteriAdi\"\r\n            type=\"text\"\r\n            v-model=\"musteriTeklif.musteriAdi\"\r\n          />\r\n          <label for=\"musteriAdi\">Müşteri Adı</label>\r\n        </span>\r\n      </div>\r\n      <div class=\"column is-8\">\r\n        <span class=\"p-float-label\">\r\n          <AutoComplete\r\n            id=\"country\"\r\n            v-model=\"ulke\"\r\n            :suggestions=\"filterUlkeList\"\r\n            @complete=\"searchCountry($event)\"\r\n            optionLabel=\"ulkeAdi\"\r\n            @input=\"ulkeDegisim($event)\"\r\n          />\r\n\r\n          <label for=\"country\">Ülke</label>\r\n        </span>\r\n      </div>\r\n\r\n      <div class=\"colum is-4 is-centered\">\r\n        <Button\r\n          class=\"p-button-secondary\"\r\n          label=\"KAYDET\"\r\n          @click=\"musteriKaydet\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport teklifMusteriService from \"@/service/TeklifMusteriService\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      ulke: \"\",\r\n      ulkeFlags: \"\",\r\n      ulkeId: null,\r\n    };\r\n  },\r\n  props: [\"yeni_kayit\"],\r\n  computed: {\r\n    ...mapGetters([\"musteriTeklif\", \"ulkeList\"]),\r\n    filterUlkeList() {\r\n      return this.ulkeList.filter((option) => {\r\n        return (\r\n          option.ulkeAdi\r\n            .toString()\r\n            .toLowerCase()\r\n            .indexOf(this.ulke.toLowerCase()) >= 0\r\n        );\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    if (!this.yeni_kayit) {\r\n      const data = this.musteriTeklif.ulke;\r\n      if (data.pngFlags) {\r\n        this.ulke = data.ulkeAdi;\r\n        this.ulkeFlags = data.pngFlags;\r\n        this.ulkeId = data.id;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ulkeDegisim(event) {\r\n      if (event) {\r\n        const data = this.ulkeList.find((x) => x.ulkeAdi == event);\r\n        this.ulkeFlags = data.pngFlags;\r\n        this.ulkeId = data.id;\r\n      }\r\n    },\r\n    musteriKaydet() {\r\n      if (!this.ulke) {\r\n        alert(\"Ülke Seçimi yapmalısınız.\");\r\n        return;\r\n      }\r\n\r\n      const musteriData = {\r\n        id: this.musteriTeklif.id,\r\n        musteriAdi: this.musteriTeklif.musteriAdi,\r\n        ulkeId: this.ulkeId,\r\n      };\r\n\r\n      if (!this.yeni_kayit) {\r\n        teklifMusteriService.musteriGuncelle(musteriData).then((data) => {\r\n          this.$store.dispatch(\"guncelleMusteriList\", data.musteriDetay);\r\n          this.emitter.emit(\"musteriTeklifGuncelle\", data);\r\n          alert(\"Müşteri Bilgileri Değiştirildi.\");\r\n        });\r\n      } else {\r\n        //yeni müşteri kaydı\r\n        alert(\"Yeni müşteri kaydı.\");\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.auto-image img {\r\n  width: 30px;\r\n  height: 30px;\r\n  vertical-align: middle;\r\n}\r\n.auto-image span {\r\n  margin-left: 15px;\r\n  vertical-align: middle;\r\n}\r\n.select-image {\r\n  width: 50px;\r\n  height: 50px;\r\n  vertical-align: middle;\r\n  margin-top: 25px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}