{"ast":null,"code":"import SiparisService from '../../../service/SiparisService';\nexport default {\n  data() {\n    return {\n      selectMasraf: null,\n      masrafListesi: null,\n      masrafToplam: 0,\n      ilaclama: [],\n      gumruk: [],\n      nakliye: [],\n      navlun: [],\n      liman: [],\n      ilaclamaToplam: 0,\n      gumrukToplam: 0,\n      nakliyeToplam: 0,\n      navlunToplam: 0,\n      limanToplam: 0\n    };\n  },\n  props: ['siparisNo', 'yeniSiparis'],\n  siparisService: null,\n  created() {\n    this.siparisService = new SiparisService();\n  },\n  methods: {\n    formatPrice(value) {\n      let val = (value / 1).toFixed(2).replace('.', ',');\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    },\n    nakliyeTop(event) {\n      this.nakliyeToplam = 0;\n      for (let item of event) {\n        this.nakliyeToplam += item.tutar;\n      }\n    },\n    ilaclamaTop(event) {\n      this.ilaclamaToplam = 0;\n      for (let item of event) {\n        this.ilaclamaToplam += item.tutar;\n      }\n    },\n    gumrukTop(event) {\n      this.gumrukToplam = 0;\n      for (let item of event) {\n        this.gumrukToplam += item.tutar;\n      }\n    },\n    navlunTop(event) {\n      this.navlunToplam = 0;\n      for (let item of event) {\n        this.navlunToplam += item.tutar;\n      }\n    },\n    limanTop(event) {\n      this.limanToplam = 0;\n      for (let item of event) {\n        this.limanToplam += item.tutar;\n      }\n    }\n  },\n  mounted() {\n    if (!this.yeniSiparis) {\n      this.siparisService.getMasrafListesi(this.siparisNo).then(data => {\n        console.log(\"getMasrafListesi\", data);\n        this.masrafListesi = data;\n        this.ilaclama = data.filter(x => x.tur == 'İlaçlama Faturası');\n        this.gumruk = data.filter(x => x.tur == 'Gümrük Faturası');\n        this.nakliye = data.filter(x => x.tur == 'Nakliye Faturası');\n        this.navlun = data.filter(x => x.tur == 'Navlun');\n        this.liman = data.filter(x => x.tur == 'Liman Masrafı');\n        this.ilaclamaTop(this.ilaclama);\n        this.gumrukTop(this.gumruk);\n        this.nakliyeTop(this.nakliye);\n        this.navlunTop(this.navlun);\n        this.limanTop(this.liman);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["SiparisService","data","selectMasraf","masrafListesi","masrafToplam","ilaclama","gumruk","nakliye","navlun","liman","ilaclamaToplam","gumrukToplam","nakliyeToplam","navlunToplam","limanToplam","props","siparisService","created","methods","formatPrice","value","val","toFixed","replace","toString","nakliyeTop","event","item","tutar","ilaclamaTop","gumrukTop","navlunTop","limanTop","mounted","yeniSiparis","getMasrafListesi","siparisNo","then","console","log","filter","x","tur"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\siparisler\\siparisGiris\\Masraflar.vue"],"sourcesContent":["<template>\r\n  <div class=\"p-fluid\">\r\n    <div class=\"p-grid\">\r\n      <div class=\"p-col-12\">\r\n        <Card>\r\n\r\n          <template slot=\"content\">\r\n            <div class=\"columns\" v-if=\"ilaclama.length>0 || gumruk.length>0 || navlun.length>0\">\r\n              <div class=\"column\" v-if=\"ilaclama.length>0\">\r\n                <DataTable :value.sync=\"ilaclama\" class=\"p-datatable-sm\">\r\n                  <template #header>\r\n                    <div class=\"columns is-multiline\">\r\n                      <div class=\"column is-12\">\r\n                        <span style=\"font-size:15px;\">ilaclama Masraf Listesi</span>\r\n                      </div>\r\n\r\n                    </div>\r\n\r\n                  </template>\r\n                  <Column field=\"tur\" header=\"Fatura Adı\">\r\n                    <template #body=\"slotProps\">\r\n                      {{slotProps.data.tur}}\r\n                    </template>\r\n                  </Column>\r\n                  <Column field=\"aciklama\" header=\"Fatura Açıklama\" headerStyle=\"width:180px;\"\r\n                    bodyStyle=\"word-break:break-word;\">\r\n                    <template #body=\"slotProps\">\r\n                      {{slotProps.data.aciklama}}\r\n                    </template>\r\n                  </Column>\r\n                  <Column field=\"tutar\" header=\"Tutar\" bodyStyle=\"text-align:center;\">\r\n                    <template #body=\"slotProps\">\r\n                      {{ formatPrice (slotProps.data.tutar )}}\r\n                    </template>\r\n                    <template #footer>\r\n                      {{ formatPrice( ilaclamaToplam )}}\r\n                    </template>\r\n                  </Column>\r\n                </DataTable>\r\n              </div>\r\n              <div class=\"column\" v-if=\"gumruk.length>0\">\r\n                <DataTable :value.sync=\"gumruk\" class=\"p-datatable-sm\">\r\n                  <template #header>\r\n                    <div class=\"columns is-multiline\">\r\n                      <div class=\"column is-12\">\r\n                        <span style=\"font-size:15px;\">Gümrük Masraf Listesi</span>\r\n                      </div>\r\n\r\n                    </div>\r\n\r\n                  </template>\r\n                  <Column field=\"tur\" header=\"Fatura Adı\">\r\n                    <template #body=\"slotProps\">\r\n                      {{slotProps.data.tur}}\r\n                    </template>\r\n                  </Column>\r\n                  <Column field=\"aciklama\" header=\"Fatura Açıklama\" headerStyle=\"width:180px;\"\r\n                    bodyStyle=\"word-break:break-word;\">\r\n                    <template #body=\"slotProps\">\r\n                      {{slotProps.data.aciklama}}\r\n                    </template>\r\n                  </Column>\r\n                  <Column field=\"tutar\" header=\"Tutar\" bodyStyle=\"text-align:center;\">\r\n                    <template #body=\"slotProps\">\r\n                      {{ formatPrice (slotProps.data.tutar )}}\r\n                    </template>\r\n                    <template #footer>\r\n                      {{ formatPrice( gumrukToplam )}}\r\n                    </template>\r\n                  </Column>\r\n                </DataTable>\r\n              </div>\r\n              <div class=\"column\" v-if=\"navlun.length>0\">\r\n                <DataTable :value.sync=\"navlun\" class=\"p-datatable-sm\">\r\n                  <template #header>\r\n                    <div class=\"columns is-multiline\">\r\n                      <div class=\"column is-12\">\r\n                        <span style=\"font-size:15px;\">Navlun Masraf Listesi</span>\r\n                      </div>\r\n\r\n                    </div>\r\n\r\n                  </template>\r\n                  <Column field=\"tur\" header=\"Fatura Adı\">\r\n                    <template #body=\"slotProps\">\r\n                      {{slotProps.data.tur}}\r\n                    </template>\r\n                  </Column>\r\n                  <Column field=\"aciklama\" header=\"Fatura Açıklama\" headerStyle=\"width:180px;\"\r\n                    bodyStyle=\"word-break:break-word;\">\r\n                    <template #body=\"slotProps\">\r\n                      {{slotProps.data.aciklama}}\r\n                    </template>\r\n                  </Column>\r\n                  <Column field=\"tutar\" header=\"Tutar\" bodyStyle=\"text-align:center;\">\r\n                    <template #body=\"slotProps\">\r\n                      {{ formatPrice (slotProps.data.tutar )}}\r\n                    </template>\r\n                    <template #footer>\r\n                      {{ formatPrice( navlunToplam )}}\r\n                    </template>\r\n                  </Column>\r\n                </DataTable>\r\n              </div>\r\n            </div>\r\n            <div class=\"columns\" v-if=\"liman.length>0 || nakliye.length>0\">\r\n              <div class=\"column\" v-if=\"liman.length>0\">\r\n                <DataTable :value.sync=\"liman\" class=\"p-datatable-sm\">\r\n                  <template #header>\r\n                    <div class=\"columns is-multiline\">\r\n                      <div class=\"column is-12\">\r\n                        <span style=\"font-size:15px;\">Liman Masraf Listesi</span>\r\n                      </div>\r\n\r\n                    </div>\r\n\r\n                  </template>\r\n                  <Column field=\"tur\" header=\"Fatura Adı\">\r\n                    <template #body=\"slotProps\">\r\n                      {{slotProps.data.tur}}\r\n                    </template>\r\n                  </Column>\r\n                  <Column field=\"aciklama\" header=\"Fatura Açıklama\" headerStyle=\"width:180px;\"\r\n                    bodyStyle=\"word-break:break-word;\">\r\n                    <template #body=\"slotProps\">\r\n                      {{slotProps.data.aciklama}}\r\n                    </template>\r\n                  </Column>\r\n                  <Column field=\"tutar\" header=\"Tutar\" bodyStyle=\"text-align:center;\">\r\n                    <template #body=\"slotProps\">\r\n                      {{ formatPrice (slotProps.data.tutar )}}\r\n                    </template>\r\n                    <template #footer>\r\n                      {{ formatPrice( limanToplam )}}\r\n                    </template>\r\n                  </Column>\r\n                </DataTable>\r\n              </div>\r\n              <div class=\"column\" v-if=\"nakliye.length>0\">\r\n                <DataTable :value.sync=\"nakliye\" class=\"p-datatable-sm\">\r\n                  <template #header>\r\n                    <div class=\"columns is-multiline\">\r\n                      <div class=\"column is-12\">\r\n                        <span style=\"font-size:15px;\">Nakliye Masraf Listesi</span>\r\n                      </div>\r\n\r\n                    </div>\r\n\r\n                  </template>\r\n                  <Column field=\"tur\" header=\"Fatura Adı\">\r\n                    <template #body=\"slotProps\">\r\n                      {{slotProps.data.tur}}\r\n                    </template>\r\n                  </Column>\r\n                  <Column field=\"aciklama\" header=\"Fatura Açıklama\" headerStyle=\"width:180px;\"\r\n                    bodyStyle=\"word-break:break-word;\">\r\n                    <template #body=\"slotProps\">\r\n                      {{slotProps.data.aciklama}}\r\n                    </template>\r\n                  </Column>\r\n                  <Column field=\"tutar\" header=\"Tutar\" bodyStyle=\"text-align:center;\">\r\n                    <template #body=\"slotProps\">\r\n                      {{ formatPrice (slotProps.data.tutar )}}\r\n                    </template>\r\n                    <template #footer>\r\n                      {{ formatPrice( nakliyeToplam )}}\r\n                    </template>\r\n                  </Column>\r\n                </DataTable>\r\n              </div>\r\n            </div>\r\n\r\n          </template>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport SiparisService from '../../../service/SiparisService';\r\nexport default {\r\n\r\n  data() {\r\n    return {\r\n\r\n      selectMasraf: null,\r\n      masrafListesi: null,\r\n      masrafToplam: 0,\r\n      ilaclama: [],\r\n      gumruk: [],\r\n      nakliye: [],\r\n      navlun: [],\r\n      liman: [],\r\n      ilaclamaToplam: 0,\r\n      gumrukToplam: 0,\r\n      nakliyeToplam: 0,\r\n      navlunToplam: 0,\r\n      limanToplam: 0\r\n\r\n    }\r\n  },\r\n  props: ['siparisNo', 'yeniSiparis'],\r\n  siparisService: null,\r\n  created() {\r\n\r\n    this.siparisService = new SiparisService()\r\n\r\n  },\r\n  methods: {\r\n\r\n    formatPrice(value) {\r\n      let val = (value / 1).toFixed(2).replace('.', ',')\r\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")\r\n    },\r\n    nakliyeTop(event) {\r\n      this.nakliyeToplam = 0\r\n      for (let item of event) {\r\n\r\n        this.nakliyeToplam += item.tutar\r\n      }\r\n    },\r\n    ilaclamaTop(event) {\r\n      this.ilaclamaToplam = 0\r\n      for (let item of event) {\r\n\r\n        this.ilaclamaToplam += item.tutar\r\n      }\r\n    },\r\n    gumrukTop(event) {\r\n      this.gumrukToplam = 0\r\n      for (let item of event) {\r\n\r\n        this.gumrukToplam += item.tutar\r\n      }\r\n    },\r\n    navlunTop(event) {\r\n      this.navlunToplam = 0\r\n      for (let item of event) {\r\n\r\n        this.navlunToplam += item.tutar\r\n      }\r\n    }\r\n    ,\r\n    limanTop(event) {\r\n      this.limanToplam = 0\r\n      for (let item of event) {\r\n\r\n        this.limanToplam += item.tutar\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n    if (!this.yeniSiparis) {\r\n\r\n      this.siparisService.getMasrafListesi(this.siparisNo).then(data => {\r\n        console.log(\"getMasrafListesi\", data)\r\n        this.masrafListesi = data;\r\n        this.ilaclama = data.filter(x => x.tur == 'İlaçlama Faturası')\r\n        this.gumruk = data.filter(x => x.tur == 'Gümrük Faturası')\r\n        this.nakliye = data.filter(x => x.tur == 'Nakliye Faturası')\r\n        this.navlun = data.filter(x => x.tur == 'Navlun')\r\n        this.liman = data.filter(x => x.tur == 'Liman Masrafı')\r\n        this.ilaclamaTop(this.ilaclama)\r\n        this.gumrukTop(this.gumruk)\r\n        this.nakliyeTop(this.nakliye)\r\n        this.navlunTop(this.navlun)\r\n        this.limanTop(this.liman)\r\n\r\n\r\n      })\r\n\r\n\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.p-card {\r\n\r\n  min-height: 300px\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}