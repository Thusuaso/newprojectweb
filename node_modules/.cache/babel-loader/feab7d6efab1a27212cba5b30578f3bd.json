{"ast":null,"code":"import service from \"../../service/RaporService\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  computed: {\n    ...mapGetters([\"byMarketingMonthLoadIcPiyasaList\", \"byMarketingMonthLoadMekmerList\", \"icPiyasaSumFob\", \"icPiyasaSumDdp\", \"mekmerSumFob\", \"mekmerSumDdp\", \"servis_adres\"])\n  },\n  data() {\n    return {\n      selectedIcPiyasa: null,\n      selectedMekmer: null,\n      icPiyasaAyrinti: null,\n      mekmerAyrinti: null,\n      isIcPiyasaForm: false,\n      isMekmerForm: false,\n      icPiyasaFobAyrintiSum: 0,\n      icPiyasaDdpAyrintiSum: 0,\n      icPiyasaNavlunAyrintiSum: 0,\n      icPiyasaDetay1AyrintiSum: 0,\n      icPiyasaDetay2AyrintiSum: 0,\n      icPiyasaDetay3AyrintiSum: 0,\n      icPiyasaDetay4AyrintiSum: 0,\n      mekmerFobAyrintiSum: 0,\n      mekmerDdpAyrintiSum: 0,\n      mekmerNavlunAyrintiSum: 0,\n      mekmerDetay1AyrintiSum: 0,\n      mekmerDetay2AyrintiSum: 0,\n      mekmerDetay3AyrintiSum: 0,\n      mekmerDetay4AyrintiSum: 0,\n      year: null,\n      ayrintiData: null\n    };\n  },\n  methods: {\n    get_excell_cikti() {\n      const data = {\n        icPiyasa: this.byMarketingMonthLoadIcPiyasaList,\n        mekmer: this.byMarketingMonthLoadMekmerList\n      };\n      this.$store.dispatch(\"loadBegin\");\n      service.get_month_marketing_excell_cikti(data).then(response => {\n        if (response.status) {\n          const link = document.createElement(\"a\");\n          link.href = this.servis_adres + \"raporlar/musteri/monthMarketingExcell\";\n          //link.href = \"http://localhost:5000/raporlar/musteri/musteriexcellCikti\"\n          link.setAttribute(\"download\", \"aylik_marketing.xlsx\");\n          document.body.appendChild(link);\n          link.click();\n          this.is_excel = false;\n          this.$store.dispatch(\"loadEnd\"); // loading sonlandırma png\n        }\n      });\n    },\n\n    get_excell_cikti_ayrinti() {\n      this.$store.dispatch(\"loadBegin\");\n      if (this.icPiyasaAyrinti != null) {\n        this.ayrintiData = this.icPiyasaAyrinti;\n      } else if (this.mekmerAyrinti != null) {\n        this.ayrintiData = this.mekmerAyrinti;\n      }\n      service.get_month_marketing_ayrinti_excell_cikti(this.ayrintiData).then(response => {\n        if (response.status) {\n          const link = document.createElement(\"a\");\n          link.href = this.servis_adres + \"raporlar/musteri/monthMarketingAyrintiExcell\";\n          //link.href = \"http://localhost:5000/raporlar/musteri/musteriexcellCikti\"\n          link.setAttribute(\"download\", \"aylik_marketing.xlsx\");\n          document.body.appendChild(link);\n          link.click();\n          this.is_excel = false;\n          this.$store.dispatch(\"loadEnd\"); // loading sonlandırma png\n          this.isIcPiyasaForm = false;\n          this.isMekmerForm = false;\n          this.icPiyasaAyrinti = null;\n          this.mekmerAyrinti = null;\n        }\n      });\n    },\n    isSelectedIcPiyasa(event) {\n      service.getAyBazindaMarketingIcPiyasaYuklemeler(event.data.monthNum).then(data => {\n        this.icPiyasaAyrinti = data;\n        this.icPiyasaFobAyrintiSum = 0;\n        this.icPiyasaDdpAyrintiSum = 0;\n        this.icPiyasaNavlunAyrintiSum = 0;\n        this.icPiyasaDetay1AyrintiSum = 0;\n        this.icPiyasaDetay2AyrintiSum = 0;\n        this.icPiyasaDetay3AyrintiSum = 0;\n        this.icPiyasaDetay4AyrintiSum = 0;\n        for (let i of data) {\n          this.icPiyasaFobAyrintiSum += i.fob;\n          this.icPiyasaDdpAyrintiSum += i.ddp;\n          this.icPiyasaDetay1AyrintiSum += i.detay1;\n          this.icPiyasaDetay2AyrintiSum += i.detay2;\n          this.icPiyasaDetay3AyrintiSum += i.detay3;\n          this.icPiyasaDetay4AyrintiSum += i.detay4;\n          this.icPiyasaNavlunAyrintiSum += i.navlun;\n        }\n        this.isIcPiyasaForm = true;\n      });\n    },\n    isSelectedMekmer(event) {\n      service.getAyBazindaMarketingMekmerYuklemeler(event.data.monthNum).then(data => {\n        this.mekmerAyrinti = data;\n        this.mekmerFobAyrintiSum = 0;\n        this.mekmerDdpAyrintiSum = 0;\n        this.mekmerNavlunAyrintiSum = 0;\n        this.mekmerDetay1AyrintiSum = 0;\n        this.mekmerDetay2AyrintiSum = 0;\n        this.mekmerDetay3AyrintiSum = 0;\n        this.mekmerDetay4AyrintiSum = 0;\n        for (let i of data) {\n          this.mekmerFobAyrintiSum += i.fob;\n          this.mekmerDdpAyrintiSum += i.ddp;\n          this.mekmerNavlunAyrintiSum += i.navlun;\n          this.mekmerDetay1AyrintiSum += i.detay1;\n          this.mekmerDetay2AyrintiSum += i.detay2;\n          this.mekmerDetay3AyrintiSum += i.detay3;\n          this.mekmerDetay4AyrintiSum += i.detay4;\n        }\n        this.isMekmerForm = true;\n      });\n    },\n    formatPrice(value) {\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    },\n    icPiyasaTop(data) {\n      this.icPiyasaSumFob = 0;\n      for (let i of data) {\n        this.icPiyasaSumFob += i.fob;\n        this.icPiyasaSumDdp += i.ddp;\n      }\n    },\n    mekmerTop(data) {\n      this.mekmerSumFob = 0;\n      for (let i of data) {\n        this.mekmerSumFob += i.fob;\n        this.mekmerSumDdp += i.ddp;\n      }\n    }\n  },\n  created() {\n    const date = new Date();\n    this.year = date.getFullYear();\n    service.getAyBazindaMarketingYuklemeler().then(data => {\n      this.$store.dispatch(\"byMarketingLoadMonthListAct\", data);\n    });\n  }\n};","map":{"version":3,"mappings":"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","names":["service","mapGetters","computed","data","selectedIcPiyasa","selectedMekmer","icPiyasaAyrinti","mekmerAyrinti","isIcPiyasaForm","isMekmerForm","icPiyasaFobAyrintiSum","icPiyasaDdpAyrintiSum","icPiyasaNavlunAyrintiSum","icPiyasaDetay1AyrintiSum","icPiyasaDetay2AyrintiSum","icPiyasaDetay3AyrintiSum","icPiyasaDetay4AyrintiSum","mekmerFobAyrintiSum","mekmerDdpAyrintiSum","mekmerNavlunAyrintiSum","mekmerDetay1AyrintiSum","mekmerDetay2AyrintiSum","mekmerDetay3AyrintiSum","mekmerDetay4AyrintiSum","year","ayrintiData","methods","get_excell_cikti","icPiyasa","byMarketingMonthLoadIcPiyasaList","mekmer","byMarketingMonthLoadMekmerList","$store","dispatch","get_month_marketing_excell_cikti","then","response","status","link","document","createElement","href","servis_adres","setAttribute","body","appendChild","click","is_excel","get_excell_cikti_ayrinti","get_month_marketing_ayrinti_excell_cikti","isSelectedIcPiyasa","event","getAyBazindaMarketingIcPiyasaYuklemeler","monthNum","i","fob","ddp","detay1","detay2","detay3","detay4","navlun","isSelectedMekmer","getAyBazindaMarketingMekmerYuklemeler","formatPrice","value","val","toFixed","replace","toString","icPiyasaTop","icPiyasaSumFob","icPiyasaSumDdp","mekmerTop","mekmerSumFob","mekmerSumDdp","created","date","Date","getFullYear","getAyBazindaMarketingYuklemeler"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\newyuklemeraporlari\\ayBazindaMarketingYuklemeler.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <br />\r\n    <b-button\r\n      @click=\"get_excell_cikti\"\r\n      style=\"\r\n        background-color: #fff;\r\n        border: none;\r\n        width: 15px;\r\n        margin-top: -7px;\r\n        margin-right: 5px;\r\n      \"\r\n      ><i class=\"fa-solid fa-file-excel fa-2xl\"></i\r\n    ></b-button>\r\n    <div class=\"columns\">\r\n      <div class=\"column is-6\">\r\n        <DataTable\r\n          :value=\"byMarketingMonthLoadIcPiyasaList\"\r\n          responsiveLayout=\"scroll\"\r\n          :selection=\"selectedIcPiyasa\"\r\n          selectionMode=\"single\"\r\n          @row-select=\"isSelectedIcPiyasa\"\r\n        >\r\n          <template #header>\r\n            <div class=\"table-header\">İç Piyasa Yükleme ({{ year }})</div>\r\n          </template>\r\n          <Column\r\n            field=\"month\"\r\n            header=\"AY\"\r\n            bodyStyle=\"text-align:center\"\r\n          ></Column>\r\n          <Column field=\"fob\" header=\"FOB\" bodyStyle=\"text-align:center\">\r\n            <template #body=\"slotProps\">\r\n              {{ formatPrice(slotProps.data.fob) }}\r\n            </template>\r\n            <template #footer>\r\n              {{ formatPrice(icPiyasaSumFob) }}\r\n            </template>\r\n          </Column>\r\n          <Column field=\"ddp\" header=\"DDP\" bodyStyle=\"text-align:center\">\r\n            <template #body=\"slotProps\">\r\n              {{ formatPrice(slotProps.data.ddp) }}\r\n            </template>\r\n            <template #footer>\r\n              {{ formatPrice(icPiyasaSumDdp) }}\r\n            </template>\r\n          </Column>\r\n        </DataTable>\r\n      </div>\r\n      <div class=\"column is-6\">\r\n        <DataTable\r\n          :value=\"byMarketingMonthLoadMekmerList\"\r\n          responsiveLayout=\"scroll\"\r\n          :selection=\"selectedMekmer\"\r\n          selectionMode=\"single\"\r\n          @row-select=\"isSelectedMekmer\"\r\n        >\r\n          <template #header>\r\n            <div class=\"table-header\">Mekmer Yükleme ({{ year }})</div>\r\n          </template>\r\n          <Column\r\n            field=\"month\"\r\n            header=\"AY\"\r\n            bodyStyle=\"text-align:center\"\r\n          ></Column>\r\n          <Column field=\"fob\" header=\"FOB\" bodyStyle=\"text-align:center\">\r\n            <template #body=\"slotProps\">\r\n              {{ formatPrice(slotProps.data.fob) }}\r\n            </template>\r\n            <template #footer>\r\n              {{ formatPrice(mekmerSumFob) }}\r\n            </template>\r\n          </Column>\r\n          <Column field=\"ddp\" header=\"DDP\" bodyStyle=\"text-align:center\">\r\n            <template #body=\"slotProps\">\r\n              {{ formatPrice(slotProps.data.ddp) }}\r\n            </template>\r\n            <template #footer>\r\n              {{ formatPrice(mekmerSumDdp) }}\r\n            </template>\r\n          </Column>\r\n        </DataTable>\r\n      </div>\r\n    </div>\r\n    <Dialog\r\n      v-model:visible=\"isIcPiyasaForm\"\r\n      header=\"İç Piyasa Yükleme Ayrinti\"\r\n      :modal=\"true\"\r\n    >\r\n      <Button\r\n        label=\"Excel\"\r\n        @click=\"get_excell_cikti_ayrinti\"\r\n        icon=\"fa-solid fa-file-excel\"\r\n      />\r\n      <DataTable :value=\"icPiyasaAyrinti\" responsiveLayout=\"scroll\">\r\n        <Column\r\n          field=\"siparisNo\"\r\n          header=\"Sipariş No\"\r\n          bodyStyle=\"text-align:center\"\r\n        ></Column>\r\n        <Column field=\"fob\" header=\"Fob\" bodyStyle=\"text-align:center\">\r\n          <template #body=\"slotProps\">\r\n            {{ formatPrice(slotProps.data.fob) }}\r\n          </template>\r\n          <template #footer>\r\n            {{ formatPrice(icPiyasaFobAyrintiSum) }}\r\n          </template>\r\n        </Column>\r\n        <Column field=\"navlun\" header=\"Navlun\" bodyStyle=\"text-align:center\">\r\n          <template #body=\"slotProps\">\r\n            {{ formatPrice(slotProps.data.navlun) }}\r\n          </template>\r\n          <template #footer>\r\n            {{ formatPrice(icPiyasaNavlunAyrintiSum) }}\r\n          </template>\r\n        </Column>\r\n        <Column\r\n          field=\"detay1\"\r\n          header=\"Detay Tutar 1\"\r\n          bodyStyle=\"text-align:center\"\r\n        >\r\n          <template #body=\"slotProps\">\r\n            {{ formatPrice(slotProps.data.detay1) }}\r\n          </template>\r\n          <template #footer>\r\n            {{ formatPrice(icPiyasaDetay1AyrintiSum) }}\r\n          </template>\r\n        </Column>\r\n        <Column\r\n          field=\"detay2\"\r\n          header=\"Detay Tutar 2\"\r\n          bodyStyle=\"text-align:center\"\r\n        >\r\n          <template #body=\"slotProps\">\r\n            {{ formatPrice(slotProps.data.detay2) }}\r\n          </template>\r\n          <template #footer>\r\n            {{ formatPrice(icPiyasaDetay2AyrintiSum) }}\r\n          </template>\r\n        </Column>\r\n        <Column\r\n          field=\"detay3\"\r\n          header=\"Detay Tutar 3\"\r\n          bodyStyle=\"text-align:center\"\r\n        >\r\n          <template #body=\"slotProps\">\r\n            {{ formatPrice(slotProps.data.detay3) }}\r\n          </template>\r\n          <template #footer>\r\n            {{ formatPrice(icPiyasaDetay3AyrintiSum) }}\r\n          </template>\r\n        </Column>\r\n        <Column\r\n          field=\"detay4\"\r\n          header=\"Detay Tutar 4\"\r\n          bodyStyle=\"text-align:center\"\r\n        >\r\n          <template #body=\"slotProps\">\r\n            {{ formatPrice(slotProps.data.detay4) }}\r\n          </template>\r\n          <template #footer>\r\n            {{ formatPrice(icPiyasaDetay4AyrintiSum) }}\r\n          </template>\r\n        </Column>\r\n\r\n        <Column field=\"ddp\" header=\"Ddp\" bodyStyle=\"text-align:center\">\r\n          <template #body=\"slotProps\">\r\n            {{ formatPrice(slotProps.data.ddp) }}\r\n          </template>\r\n          <template #footer>\r\n            {{ formatPrice(icPiyasaDdpAyrintiSum) }}\r\n          </template>\r\n        </Column>\r\n      </DataTable>\r\n    </Dialog>\r\n    <Dialog\r\n      :visible.sync=\"isMekmerForm\"\r\n      header=\"Mekmer Yükleme Ayrinti\"\r\n      :modal=\"true\"\r\n    >\r\n      <Button\r\n        label=\"Excel\"\r\n        @click=\"get_excell_cikti_ayrinti\"\r\n        icon=\"fa-solid fa-file-excel\"\r\n      />\r\n      <DataTable :value=\"mekmerAyrinti\" responsiveLayout=\"scroll\">\r\n        <Column\r\n          field=\"siparisNo\"\r\n          header=\"Sipariş No\"\r\n          bodyStyle=\"text-align:center\"\r\n        >\r\n        </Column>\r\n        <Column field=\"fob\" header=\"Fob\" bodyStyle=\"text-align:center\">\r\n          <template #body=\"slotProps\">\r\n            {{ formatPrice(slotProps.data.fob) }}\r\n          </template>\r\n          <template #footer>\r\n            {{ formatPrice(mekmerFobAyrintiSum) }}\r\n          </template>\r\n        </Column>\r\n        <Column field=\"navlun\" header=\"Navlun\" bodyStyle=\"text-align:center\">\r\n          <template #body=\"slotProps\">\r\n            {{ formatPrice(slotProps.data.navlun) }}\r\n          </template>\r\n          <template #footer>\r\n            {{ formatPrice(mekmerNavlunAyrintiSum) }}\r\n          </template>\r\n        </Column>\r\n        <Column\r\n          field=\"detay1\"\r\n          header=\"Detay Tutar 1\"\r\n          bodyStyle=\"text-align:center\"\r\n        >\r\n          <template #body=\"slotProps\">\r\n            {{ formatPrice(slotProps.data.detay1) }}\r\n          </template>\r\n          <template #footer>\r\n            {{ formatPrice(mekmerDetay1AyrintiSum) }}\r\n          </template>\r\n        </Column>\r\n        <Column\r\n          field=\"detay2\"\r\n          header=\"Detay Tutar 2\"\r\n          bodyStyle=\"text-align:center\"\r\n        >\r\n          <template #body=\"slotProps\">\r\n            {{ formatPrice(slotProps.data.detay2) }}\r\n          </template>\r\n          <template #footer>\r\n            {{ formatPrice(mekmerDetay2AyrintiSum) }}\r\n          </template>\r\n        </Column>\r\n        <Column\r\n          field=\"detay3\"\r\n          header=\"Detay Tutar 3\"\r\n          bodyStyle=\"text-align:center\"\r\n        >\r\n          <template #body=\"slotProps\">\r\n            {{ formatPrice(slotProps.data.detay3) }}\r\n          </template>\r\n          <template #footer>\r\n            {{ formatPrice(mekmerDetay3AyrintiSum) }}\r\n          </template>\r\n        </Column>\r\n        <Column\r\n          field=\"detay4\"\r\n          header=\"Detay Tutar 4\"\r\n          bodyStyle=\"text-align:center\"\r\n        >\r\n          <template #body=\"slotProps\">\r\n            {{ formatPrice(slotProps.data.detay4) }}\r\n          </template>\r\n          <template #footer>\r\n            {{ formatPrice(mekmerDetay4AyrintiSum) }}\r\n          </template>\r\n        </Column>\r\n        <Column field=\"ddp\" header=\"Ddp\" bodyStyle=\"text-align:center\">\r\n          <template #body=\"slotProps\">\r\n            {{ formatPrice(slotProps.data.ddp) }}\r\n          </template>\r\n          <template #footer>\r\n            {{ formatPrice(mekmerDdpAyrintiSum) }}\r\n          </template>\r\n        </Column>\r\n      </DataTable>\r\n    </Dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport service from \"../../service/RaporService\";\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  computed: {\r\n    ...mapGetters([\r\n      \"byMarketingMonthLoadIcPiyasaList\",\r\n      \"byMarketingMonthLoadMekmerList\",\r\n      \"icPiyasaSumFob\",\r\n      \"icPiyasaSumDdp\",\r\n      \"mekmerSumFob\",\r\n      \"mekmerSumDdp\",\r\n      \"servis_adres\",\r\n    ]),\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      selectedIcPiyasa: null,\r\n      selectedMekmer: null,\r\n      icPiyasaAyrinti: null,\r\n      mekmerAyrinti: null,\r\n      isIcPiyasaForm: false,\r\n      isMekmerForm: false,\r\n      icPiyasaFobAyrintiSum: 0,\r\n      icPiyasaDdpAyrintiSum: 0,\r\n      icPiyasaNavlunAyrintiSum: 0,\r\n      icPiyasaDetay1AyrintiSum: 0,\r\n      icPiyasaDetay2AyrintiSum: 0,\r\n      icPiyasaDetay3AyrintiSum: 0,\r\n      icPiyasaDetay4AyrintiSum: 0,\r\n\r\n      mekmerFobAyrintiSum: 0,\r\n      mekmerDdpAyrintiSum: 0,\r\n      mekmerNavlunAyrintiSum: 0,\r\n      mekmerDetay1AyrintiSum: 0,\r\n      mekmerDetay2AyrintiSum: 0,\r\n      mekmerDetay3AyrintiSum: 0,\r\n      mekmerDetay4AyrintiSum: 0,\r\n\r\n      year: null,\r\n      ayrintiData: null,\r\n    };\r\n  },\r\n  methods: {\r\n    get_excell_cikti() {\r\n      const data = {\r\n        icPiyasa: this.byMarketingMonthLoadIcPiyasaList,\r\n        mekmer: this.byMarketingMonthLoadMekmerList,\r\n      };\r\n      this.$store.dispatch(\"loadBegin\");\r\n      service.get_month_marketing_excell_cikti(data).then((response) => {\r\n        if (response.status) {\r\n          const link = document.createElement(\"a\");\r\n          link.href =\r\n            this.servis_adres + \"raporlar/musteri/monthMarketingExcell\";\r\n          //link.href = \"http://localhost:5000/raporlar/musteri/musteriexcellCikti\"\r\n          link.setAttribute(\"download\", \"aylik_marketing.xlsx\");\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          this.is_excel = false;\r\n          this.$store.dispatch(\"loadEnd\"); // loading sonlandırma png\r\n        }\r\n      });\r\n    },\r\n    get_excell_cikti_ayrinti() {\r\n      this.$store.dispatch(\"loadBegin\");\r\n\r\n      if (this.icPiyasaAyrinti != null) {\r\n        this.ayrintiData = this.icPiyasaAyrinti;\r\n      } else if (this.mekmerAyrinti != null) {\r\n        this.ayrintiData = this.mekmerAyrinti;\r\n      }\r\n      service\r\n        .get_month_marketing_ayrinti_excell_cikti(this.ayrintiData)\r\n        .then((response) => {\r\n          if (response.status) {\r\n            const link = document.createElement(\"a\");\r\n            link.href =\r\n              this.servis_adres +\r\n              \"raporlar/musteri/monthMarketingAyrintiExcell\";\r\n            //link.href = \"http://localhost:5000/raporlar/musteri/musteriexcellCikti\"\r\n            link.setAttribute(\"download\", \"aylik_marketing.xlsx\");\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            this.is_excel = false;\r\n            this.$store.dispatch(\"loadEnd\"); // loading sonlandırma png\r\n            this.isIcPiyasaForm = false;\r\n            this.isMekmerForm = false;\r\n            this.icPiyasaAyrinti = null;\r\n            this.mekmerAyrinti = null;\r\n          }\r\n        });\r\n    },\r\n    isSelectedIcPiyasa(event) {\r\n      service\r\n        .getAyBazindaMarketingIcPiyasaYuklemeler(event.data.monthNum)\r\n        .then((data) => {\r\n          this.icPiyasaAyrinti = data;\r\n          this.icPiyasaFobAyrintiSum = 0;\r\n          this.icPiyasaDdpAyrintiSum = 0;\r\n          this.icPiyasaNavlunAyrintiSum = 0;\r\n          this.icPiyasaDetay1AyrintiSum = 0;\r\n          this.icPiyasaDetay2AyrintiSum = 0;\r\n          this.icPiyasaDetay3AyrintiSum = 0;\r\n          this.icPiyasaDetay4AyrintiSum = 0;\r\n          for (let i of data) {\r\n            this.icPiyasaFobAyrintiSum += i.fob;\r\n            this.icPiyasaDdpAyrintiSum += i.ddp;\r\n            this.icPiyasaDetay1AyrintiSum += i.detay1;\r\n            this.icPiyasaDetay2AyrintiSum += i.detay2;\r\n            this.icPiyasaDetay3AyrintiSum += i.detay3;\r\n            this.icPiyasaDetay4AyrintiSum += i.detay4;\r\n            this.icPiyasaNavlunAyrintiSum += i.navlun;\r\n          }\r\n          this.isIcPiyasaForm = true;\r\n        });\r\n    },\r\n    isSelectedMekmer(event) {\r\n      service\r\n        .getAyBazindaMarketingMekmerYuklemeler(event.data.monthNum)\r\n        .then((data) => {\r\n          this.mekmerAyrinti = data;\r\n          this.mekmerFobAyrintiSum = 0;\r\n          this.mekmerDdpAyrintiSum = 0;\r\n          this.mekmerNavlunAyrintiSum = 0;\r\n          this.mekmerDetay1AyrintiSum = 0;\r\n          this.mekmerDetay2AyrintiSum = 0;\r\n          this.mekmerDetay3AyrintiSum = 0;\r\n          this.mekmerDetay4AyrintiSum = 0;\r\n          for (let i of data) {\r\n            this.mekmerFobAyrintiSum += i.fob;\r\n            this.mekmerDdpAyrintiSum += i.ddp;\r\n            this.mekmerNavlunAyrintiSum += i.navlun;\r\n            this.mekmerDetay1AyrintiSum += i.detay1;\r\n            this.mekmerDetay2AyrintiSum += i.detay2;\r\n            this.mekmerDetay3AyrintiSum += i.detay3;\r\n            this.mekmerDetay4AyrintiSum += i.detay4;\r\n          }\r\n          this.isMekmerForm = true;\r\n        });\r\n    },\r\n\r\n    formatPrice(value) {\r\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\r\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n    },\r\n    icPiyasaTop(data) {\r\n      this.icPiyasaSumFob = 0;\r\n      for (let i of data) {\r\n        this.icPiyasaSumFob += i.fob;\r\n        this.icPiyasaSumDdp += i.ddp;\r\n      }\r\n    },\r\n    mekmerTop(data) {\r\n      this.mekmerSumFob = 0;\r\n      for (let i of data) {\r\n        this.mekmerSumFob += i.fob;\r\n        this.mekmerSumDdp += i.ddp;\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    const date = new Date();\r\n    this.year = date.getFullYear();\r\n    service.getAyBazindaMarketingYuklemeler().then((data) => {\r\n      this.$store.dispatch(\"byMarketingLoadMonthListAct\", data);\r\n    });\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}