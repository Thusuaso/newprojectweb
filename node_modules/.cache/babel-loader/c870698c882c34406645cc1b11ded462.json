{"ast":null,"code":"import service from \"@/service/NumuneService\";\nimport numuneForm from \"@/components/numuneler/numuneForm\";\nimport { FilterMatchMode } from \"primevue/api\";\nexport default {\n  data() {\n    return {\n      numune_listesi: null,\n      filters: {\n        tarih: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        musteriadi: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        numuneNo: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        kategori: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        }\n      },\n      satis_toplam: 0,\n      miktar_toplam: 0,\n      yeniSiparis: true,\n      is_numuneform: false,\n      is_numuneform2: false,\n      yil_listesi: null,\n      select_yil: null,\n      groups: [\"tarih\", \"musteriadi\", \"numuneNo\"],\n      select_numune: \"\",\n      siparisFormBaslik: null\n    };\n  },\n  components: {\n    numuneForm\n  },\n  created() {\n    this.$store.dispatch(\"loadingBeginAct\");\n    service.getNumuneYilListesi().then(data => {\n      this.yil_listesi = data.yil_listesi2;\n      this.select_yil = this.yil_listesi[0];\n      service.getNumuneAnaListesi(this.select_yil.yil).then(data => {\n        this.numune_listesi = data.numune_list;\n        this.genel_toplam(this.numune_listesi);\n        this.$store.dispatch(\"loadingEndAct\");\n      });\n    });\n  },\n  methods: {\n    isNumuneList(event) {\n      this.genel_toplam(event.filteredValue);\n    },\n    YilSecim(select_yil) {\n      this.$store.dispatch(\"loadingBeginAct\");\n      service.getNumuneAnaListesi(select_yil).then(data => {\n        this.numune_listesi = data.numune_list;\n        this.genel_toplam(this.numune_listesi);\n        this.$store.dispatch(\"loadingEndAct\");\n      });\n    },\n    genel_toplam(liste) {\n      this.satis_toplam = 0;\n      this.miktar_toplam = 0;\n      for (let key in liste) {\n        const item = liste[key];\n        this.satis_toplam += item.satisToplam;\n        this.miktar_toplam += item.miktar;\n      }\n    },\n    yeniSiparisAc() {\n      this.selectedSiparis = null;\n      this.select_numune = \"\";\n      this.selectSiparis = true;\n      this.siparisFormBaslik = \"Yeni Numune Girişi\";\n      this.is_numuneform2 = true;\n    },\n    numuneSec(event) {\n      this.select_numune = event.data.numuneNo;\n      this.siparisFormBaslik = event.data.musteriadi + \" - \" + this.select_numune;\n      this.$store.dispatch(\"seleksiyonSelectItemActions\");\n      this.is_numuneform = true;\n      this.created();\n    },\n    formatPriceDolar(value) {\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["service","numuneForm","FilterMatchMode","data","numune_listesi","filters","tarih","value","matchMode","STARTS_WITH","musteriadi","numuneNo","kategori","satis_toplam","miktar_toplam","yeniSiparis","is_numuneform","is_numuneform2","yil_listesi","select_yil","groups","select_numune","siparisFormBaslik","components","created","$store","dispatch","getNumuneYilListesi","then","yil_listesi2","getNumuneAnaListesi","yil","numune_list","genel_toplam","methods","isNumuneList","event","filteredValue","YilSecim","liste","key","item","satisToplam","miktar","yeniSiparisAc","selectedSiparis","selectSiparis","numuneSec","formatPriceDolar","val","toFixed","replace","toString"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\views\\NumunelerSevkListesi.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"columns is-multiline\">\r\n      <div class=\"columns is-12\">\r\n        <div class=\"column\">\r\n          <Button\r\n            @click=\"yeniSiparisAc\"\r\n            label=\"Yeni\"\r\n            class=\"p-button-primary\"\r\n          />\r\n        </div>\r\n        <div class=\"column\">\r\n          <Dropdown\r\n            v-model=\"select_yil\"\r\n            :options=\"yil_listesi\"\r\n            @change=\"YilSecim(select_yil.yil)\"\r\n            optionLabel=\"yil\"\r\n            placeholder=\"Select a Year\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"columns\">\r\n      <div class=\"column is-12\">\r\n        <DataTable\r\n          :value=\"numune_listesi\"\r\n          v-model:filters=\"filters\"\r\n          filterDisplay=\"menu\"\r\n          :paginator=\"true\"\r\n          :rows=\"15\"\r\n          rowGroupMode=\"rowspan\"\r\n          :groupRowsBy=\"groups\"\r\n          @row-select=\"numuneSec($event)\"\r\n          selectionMode=\"single\"\r\n          dataKey=\"id\"\r\n          @filter=\"isNumuneList\"\r\n        >\r\n          <template #header>\r\n            <div class=\"columns is-multiline\">\r\n              <div class=\"column is-12\">\r\n                <span style=\"font-size: 14px\">Numune Listesi</span>\r\n              </div>\r\n            </div>\r\n          </template>\r\n          <Column\r\n            field=\"tarih\"\r\n            header=\"Gönderilme Tarihi\"\r\n            headerStyle=\"width:3%;\"\r\n            bodyStyle=\"text-align:center\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.tarih }}\r\n            </template>\r\n            <template #filter=\"{ filterModel, filterCallback }\">\r\n              <InputText\r\n                type=\"text\"\r\n                v-model=\"filterModel.value\"\r\n                @input=\"filterCallback()\"\r\n                class=\"p-column-filter\"\r\n                placeholder=\"Search by Date\"\r\n                v-tooltip.top.focus=\"'Filter as you type'\"\r\n              />\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"temsilci\"\r\n            header=\"T\"\r\n            headerStyle=\"width:2%\"\r\n            bodyStyle=\"text-align:center\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              <img\r\n                class=\"dairesel\"\r\n                :src=\"slotProps.data.link\"\r\n                bodyStyle=\"text-align:center\"\r\n                width=\"40\"\r\n                height=\"40\"\r\n              />\r\n            </template>\r\n          </Column>\r\n\r\n          <Column\r\n            field=\"musteriadi\"\r\n            header=\"Müşteri\"\r\n            headerStyle=\"width:3%;\"\r\n            bodyStyle=\"text-align:left\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.musteriadi }}\r\n            </template>\r\n            <template #filter=\"{ filterModel, filterCallback }\">\r\n              <InputText\r\n                type=\"text\"\r\n                v-model=\"filterModel.value\"\r\n                @input=\"filterCallback()\"\r\n                class=\"p-column-filter\"\r\n                placeholder=\"Search by Customer\"\r\n                v-tooltip.top.focus=\"'Filter as you type'\"\r\n              />\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"numuneNo\"\r\n            header=\"Po Numarası\"\r\n            headerStyle=\"width:5%;\"\r\n            bodyStyle=\"text-align:center\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.numuneNo }}\r\n            </template>\r\n            <template #filter=\"{ filterModel, filterCallback }\">\r\n              <InputText\r\n                type=\"text\"\r\n                v-model=\"filterModel.value\"\r\n                @input=\"filterCallback()\"\r\n                class=\"p-column-filter\"\r\n                placeholder=\"Search by PO\"\r\n                v-tooltip.top.focus=\"'Filter as you type'\"\r\n              />\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"kategori\"\r\n            header=\"Kategori Adı\"\r\n            headerStyle=\"width:5%;\"\r\n            bodyStyle=\"text-align:left\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.kategori }}\r\n            </template>\r\n            <template #filter=\"{ filterModel, filterCallback }\">\r\n              <InputText\r\n                type=\"text\"\r\n                v-model=\"filterModel.value\"\r\n                @input=\"filterCallback()\"\r\n                class=\"p-column-filter\"\r\n                placeholder=\"Search by Category\"\r\n                v-tooltip.top.focus=\"'Filter as you type'\"\r\n              />\r\n            </template>\r\n          </Column>\r\n\r\n          <Column\r\n            field=\"miktar\"\r\n            header=\"Miktar\"\r\n            headerStyle=\"width:3%;\"\r\n            bodyStyle=\"text-align:center\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.miktar + \" / \" + slotProps.data.birim }}\r\n            </template>\r\n\r\n            <template #footer>\r\n              {{ miktar_toplam }}\r\n            </template>\r\n          </Column>\r\n        </DataTable>\r\n      </div>\r\n    </div>\r\n\r\n    <Dialog\r\n      v-model:visible=\"is_numuneform\"\r\n      v-model:header=\"siparisFormBaslik\"\r\n      :modal=\"true\"\r\n      position=\"top\"\r\n      maximizable\r\n    >\r\n      <numuneForm :select_numune=\"select_numune\" :yeniSiparis=\"false\" />\r\n    </Dialog>\r\n    <Dialog\r\n      v-model:visible=\"is_numuneform2\"\r\n      v-model:header=\"siparisFormBaslik\"\r\n      :modal=\"true\"\r\n      position=\"top\"\r\n      maximizable\r\n    >\r\n      <numuneForm :select_numune=\"select_numune\" :yeniSiparis=\"true\" />\r\n    </Dialog>\r\n  </section>\r\n</template>\r\n<script>\r\nimport service from \"@/service/NumuneService\";\r\nimport numuneForm from \"@/components/numuneler/numuneForm\";\r\nimport { FilterMatchMode } from \"primevue/api\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      numune_listesi: null,\r\n      filters: {\r\n        tarih: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        musteriadi: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        numuneNo: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        kategori: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n\r\n      },\r\n      satis_toplam: 0,\r\n      miktar_toplam: 0,\r\n      yeniSiparis: true,\r\n      is_numuneform: false,\r\n      is_numuneform2: false,\r\n      yil_listesi: null,\r\n      select_yil: null,\r\n      groups: [\"tarih\", \"musteriadi\", \"numuneNo\"],\r\n      select_numune: \"\",\r\n      siparisFormBaslik: null,\r\n    };\r\n  },\r\n  components: {\r\n    numuneForm,\r\n  },\r\n  created() {\r\n    this.$store.dispatch(\"loadingBeginAct\");\r\n    service.getNumuneYilListesi().then((data) => {\r\n      this.yil_listesi = data.yil_listesi2;\r\n\r\n      this.select_yil = this.yil_listesi[0];\r\n\r\n      service.getNumuneAnaListesi(this.select_yil.yil).then((data) => {\r\n        this.numune_listesi = data.numune_list;\r\n\r\n        this.genel_toplam(this.numune_listesi);\r\n        this.$store.dispatch(\"loadingEndAct\");\r\n      });\r\n    });\r\n  },\r\n  methods: {\r\n    isNumuneList(event) {\r\n      this.genel_toplam(event.filteredValue);\r\n    },\r\n    YilSecim(select_yil) {\r\n      this.$store.dispatch(\"loadingBeginAct\");\r\n\r\n      service.getNumuneAnaListesi(select_yil).then((data) => {\r\n        this.numune_listesi = data.numune_list;\r\n\r\n        this.genel_toplam(this.numune_listesi);\r\n        this.$store.dispatch(\"loadingEndAct\");\r\n      });\r\n    },\r\n    genel_toplam(liste) {\r\n      this.satis_toplam = 0;\r\n      this.miktar_toplam = 0;\r\n\r\n      for (let key in liste) {\r\n        const item = liste[key];\r\n\r\n        this.satis_toplam += item.satisToplam;\r\n        this.miktar_toplam += item.miktar;\r\n      }\r\n    },\r\n    yeniSiparisAc() {\r\n      this.selectedSiparis = null;\r\n      this.select_numune = \"\";\r\n      this.selectSiparis = true;\r\n      this.siparisFormBaslik = \"Yeni Numune Girişi\";\r\n\r\n      this.is_numuneform2 = true;\r\n    },\r\n\r\n    numuneSec(event) {\r\n      this.select_numune = event.data.numuneNo;\r\n      this.siparisFormBaslik =\r\n        event.data.musteriadi + \" - \" + this.select_numune;\r\n\r\n      this.$store.dispatch(\"seleksiyonSelectItemActions\");\r\n      this.is_numuneform = true;\r\n      this.created();\r\n    },\r\n\r\n    formatPriceDolar(value) {\r\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\r\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.p-datatable {\r\n  font-size: 11px;\r\n}\r\n\r\n.dairesel {\r\n  border-radius: 150px;\r\n\r\n  -webkit-border-radius: 150px;\r\n\r\n  -moz-border-radius: 150px;\r\n}\r\n\r\n.p-button-rounded {\r\n  background-color: green;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}