{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport depoService from \"@/service/DepoService\";\nimport DepoUrunFotoList from \"./DepoUrunFotoList\";\nimport digitalOceanService from \"@/service/DigitalOceanService\";\nimport UrunKullanimForm from \"./UrunKullanimForm\";\nimport DepoUrunYorum from \"./DepoUrunYorum\";\n//import spaceService from '../../service/SpaceService';\nexport default {\n  components: {\n    DepoUrunFotoList,\n    UrunKullanimForm,\n    DepoUrunYorum\n  },\n  data() {\n    return {\n      file: null,\n      loading: false,\n      isfotolist: false,\n      responsiveOptions: [{\n        breakpoint: \"1024px\",\n        numVisible: 3,\n        numScroll: 3\n      }, {\n        breakpoint: \"600px\",\n        numVisible: 2,\n        numScroll: 2\n      }, {\n        breakpoint: \"480px\",\n        numVisible: 1,\n        numScroll: 1\n      }]\n    };\n  },\n  props: [\"urunDetay\", \"keyList\", \"sliceFotoList\", \"depostock\"],\n  methods: {\n    fotoGonder(event) {\n      let filelist = [];\n      for (let key in event.files) {\n        filelist.push(event.files[key].name);\n        digitalOceanService.fotoGonderMekmarUsa(event.files[key]);\n      }\n      depoService.fotoDataKayit(filelist).then(result => {\n        if (result) {\n          setTimeout(() => {\n            for (let key in event.files) {\n              digitalOceanService.fotoGonderMekmarUsa(event.files[key]);\n            }\n            this.dataGuncelle();\n          }, 5000);\n        }\n      });\n    },\n    urunGuncelle() {\n      let anahtarlar = \"\";\n      let uzunluk = this.keyList.length;\n      let indeks = 1;\n      if (uzunluk > 0) {\n        for (let key in this.keyList) {\n          anahtarlar += this.keyList[key];\n          indeks += 1;\n          if (uzunluk >= indeks) {\n            anahtarlar += \",\";\n          }\n        }\n      }\n      this.urunDetay.anahtarlar = anahtarlar;\n      this.loading = true;\n      depoService.urunGuncelle(this.urunDetay).then(data => {\n        if (data) {\n          if (this.depostock) {\n            depoService.getDepoUrunListesi().then(dpdata => {\n              this.$store.dispatch(\"depoUrunListesiYukle\", dpdata);\n              this.urunBilgiGuncelle();\n            });\n          }\n          if (!this.depostock) {\n            depoService.getTurkeyStockList().then(trdata => {\n              this.$store.dispatch(\"depoUrunListesiYukle\", trdata);\n              this.urunBilgiGuncelle();\n            });\n          }\n        }\n      });\n    },\n    urunSil() {\n      alert(this.urunDetay.urunid);\n    },\n    urunBilgiGuncelle() {\n      depoService.getUrunDetay(this.urunDetay.urunid).then(data => {\n        if (data.anahtarlar.length > 1) {\n          this.keyList = data.anahtarlar.split(\",\");\n        }\n        this.loading = false;\n        alert(\"Ürün Bilgileri  Değiştirildi.\");\n      });\n    },\n    dataGuncelle() {\n      depoService.getUrunDetay(this.urunDetay.urunid).then(data => {\n        console.log(data);\n        this.urunDetay = data;\n        this.sliceFotoList = [data.fotolar.slice(0, 10), []];\n        this.loading = false;\n      });\n    },\n    fotoDegisimEvent(event) {\n      this.urunDetay = event;\n      this.sliceFotoList = [event.fotolar.slice(0, 10), []];\n      this.loading = false;\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["depoService","DepoUrunFotoList","digitalOceanService","UrunKullanimForm","DepoUrunYorum","components","data","file","loading","isfotolist","responsiveOptions","breakpoint","numVisible","numScroll","props","methods","fotoGonder","event","filelist","key","files","push","name","fotoGonderMekmarUsa","fotoDataKayit","then","result","setTimeout","dataGuncelle","urunGuncelle","anahtarlar","uzunluk","keyList","length","indeks","urunDetay","depostock","getDepoUrunListesi","dpdata","$store","dispatch","urunBilgiGuncelle","getTurkeyStockList","trdata","urunSil","alert","urunid","getUrunDetay","split","console","log","sliceFotoList","fotolar","slice","fotoDegisimEvent"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\depousa\\DepoUrunForm.vue"],"sourcesContent":["<template>\r\n  \r\n  <TabView>\r\n    <TabPanel header=\"Ürün Genel Bilgileri\">\r\n      <br/>\r\n      <div class=\"columns\">\r\n        <div class=\"column is-4\">\r\n          <Carousel\r\n            :value=\"urunDetay.fotolar\"\r\n            :numVisible=\"1\"\r\n            :numScroll=\"1\"\r\n            orientation=\"vertical\"\r\n            verticalViewPortHeight=\"330px\"\r\n            :responsiveOptions=\"responsiveOptions\"\r\n          >\r\n            <template #item=\"slotProps\"\r\n              ><img width=\"400\" height=\"400\" :src=\"slotProps.data.link\" />\r\n            </template>\r\n          </Carousel>\r\n        </div>\r\n        <div class=\"column is-8\" style=\"margin-left: 65px\">\r\n          <div class=\"columns\">\r\n            <div class=\"column\">\r\n              <span class=\"p-float-label\">\r\n                <InputText\r\n                  id=\"urunadi\"\r\n                  type=\"text\"\r\n                  v-model=\"urunDetay.urunadi\"\r\n                />\r\n                <label for=\"urunadi\">Ürün Adı</label>\r\n              </span>\r\n            </div>\r\n            <div class=\"column\">\r\n              <span class=\"p-float-label\">\r\n                <InputText id=\"size\" type=\"text\" v-model=\"urunDetay.size\" />\r\n                <label for=\"size\">Ebat</label>\r\n              </span>\r\n            </div>\r\n            <div class=\"column\">\r\n              <span class=\"p-float-label\">\r\n                <InputText id=\"renk\" type=\"text\" v-model=\"urunDetay.renk\" />\r\n                <label for=\"renk\">Renk</label>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div class=\"columns\">\r\n            <div class=\"column\">\r\n              <span class=\"p-float-label\">\r\n                <InputText id=\"fiyat\" type=\"text\" v-model=\"urunDetay.fiyat\" />\r\n                <label for=\"fiyat\">Fiyat</label>\r\n              </span>\r\n            </div>\r\n            <div class=\"column\">\r\n              <span class=\"p-float-label\">\r\n                <InputText\r\n                  id=\"kutuDetay\"\r\n                  type=\"text\"\r\n                  v-model=\"urunDetay.kutuDetay\"\r\n                />\r\n                <label for=\"kutuDetay\">Kutu Detayı</label>\r\n              </span>\r\n            </div>\r\n            <div class=\"column\">\r\n              <span class=\"p-float-label\">\r\n                <InputText\r\n                  id=\"kasaDetay\"\r\n                  type=\"text\"\r\n                  v-model=\"urunDetay.kasaDetay\"\r\n                />\r\n                <label for=\"kasaDetay\">Kasa Detay</label>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div class=\"columns\">\r\n            <div class=\"column\">\r\n              <span class=\"p-float-label\">\r\n                <InputText\r\n                  id=\"surface\"\r\n                  type=\"text\"\r\n                  v-model=\"urunDetay.surface\"\r\n                />\r\n                <label for=\"surface\">Yüzey</label>\r\n              </span>\r\n            </div>\r\n            <div class=\"column\">\r\n              <span class=\"p-float-label\">\r\n                <InputText id=\"edge\" type=\"text\" v-model=\"urunDetay.edge\" />\r\n                <label for=\"edge\">Kenar</label>\r\n              </span>\r\n            </div>\r\n            <div class=\"column\">\r\n              <div class=\"columns is-gapless\">\r\n                <div class=\"column is-2\">\r\n                  <InputSwitch v-model=\"urunDetay.turkeyStock\" />\r\n                </div>\r\n                <div class=\"column\">Turkey Stock</div>\r\n                <div class=\"column is-2\">\r\n                  <InputSwitch v-model=\"urunDetay.yayinla\" />\r\n                </div>\r\n                <div class=\"column\">Yayınla</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"columns\">\r\n            <div class=\"column\">\r\n              <span class=\"p-float-label\">\r\n                <Textarea\r\n                  id=\"aciklama\"\r\n                  v-model=\"urunDetay.aciklama\"\r\n                  rows=\"5\"\r\n                  cols=\"30\"\r\n                />\r\n\r\n                <label for=\"aciklama\">Açıklama</label>\r\n              </span>\r\n            </div>\r\n            <div class=\"column\">\r\n              <span class=\"p-float-label\">\r\n                <Chips id=\"aciklama\" v-model=\"keyList\" rows=\"5\" cols=\"30\" />\r\n\r\n                <label for=\"aciklama\">Açıklama</label>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"columns\" style=\"margin-left: 160px\">\r\n        <div class=\"column\">\r\n          <FileUpload\r\n            mode=\"basic\"\r\n            :maxFileSize=\"5000000\"\r\n            v-model=\"file\"\r\n            multiple\r\n            @select=\"fotoGonder\"\r\n          />\r\n        </div>\r\n        <div class=\"column\">\r\n          <Button\r\n            @click=\"isfotolist = true\"\r\n            label=\"Foto List\"\r\n            class=\"p-button-primary\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"column\">\r\n          <Button\r\n            @click=\"urunGuncelle\"\r\n            label=\"Kaydet\"\r\n            class=\"p-button-success\"\r\n          />\r\n        </div>\r\n        <div class=\"column\">\r\n          <Button @click=\"urunSil\" label=\"Sil\" class=\"p-button-danger\" />\r\n        </div>\r\n      </div>\r\n    </TabPanel>\r\n    <TabPanel header=\"Kullanım Alanları\">\r\n      <br />\r\n\r\n      <UrunKullanimForm :urunid=\"this.urunDetay.urunid\" />\r\n    </TabPanel>\r\n    <TabPanel header=\"Ürün Yorumları\">\r\n      <br />\r\n\r\n      <DepoUrunYorum :urunid=\"urunDetay.urunid\" />\r\n    </TabPanel>\r\n  </TabView>\r\n\r\n  <Dialog v-model:visible=\"isfotolist\" :modal=\"true\" position=\"top\">\r\n    <section class=\"section\">\r\n      <div class=\"container\">\r\n        <div class=\"columns\">\r\n          <div class=\"column is-12\">\r\n            <DepoUrunFotoList\r\n              @fotoDegisim=\"fotoDegisimEvent($event)\"\r\n              :urunid=\"urunDetay.urunid\"\r\n              :depoPickFotoList=\"sliceFotoList\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </Dialog>\r\n</template>\r\n<script>\r\nimport depoService from \"@/service/DepoService\";\r\nimport DepoUrunFotoList from \"./DepoUrunFotoList\";\r\nimport digitalOceanService from \"@/service/DigitalOceanService\";\r\nimport UrunKullanimForm from \"./UrunKullanimForm\";\r\nimport DepoUrunYorum from \"./DepoUrunYorum\";\r\n//import spaceService from '../../service/SpaceService';\r\nexport default {\r\n  components: {\r\n    DepoUrunFotoList,\r\n    UrunKullanimForm,\r\n    DepoUrunYorum,\r\n  },\r\n  data() {\r\n    return {\r\n      file: null,\r\n      loading: false,\r\n      isfotolist: false,\r\n      responsiveOptions: [\r\n        {\r\n          breakpoint: \"1024px\",\r\n          numVisible: 3,\r\n          numScroll: 3,\r\n        },\r\n        {\r\n          breakpoint: \"600px\",\r\n          numVisible: 2,\r\n          numScroll: 2,\r\n        },\r\n        {\r\n          breakpoint: \"480px\",\r\n          numVisible: 1,\r\n          numScroll: 1,\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  props: [\"urunDetay\", \"keyList\", \"sliceFotoList\", \"depostock\"],\r\n\r\n  methods: {\r\n    fotoGonder(event) {\r\n      let filelist = [];\r\n      for (let key in event.files) {\r\n        filelist.push(event.files[key].name);\r\n        digitalOceanService.fotoGonderMekmarUsa(event.files[key]);\r\n      }\r\n\r\n      depoService.fotoDataKayit(filelist).then((result) => {\r\n        if (result) {\r\n          setTimeout(() => {\r\n            for (let key in event.files) {\r\n              digitalOceanService.fotoGonderMekmarUsa(event.files[key]);\r\n            }\r\n            this.dataGuncelle();\r\n          }, 5000);\r\n        }\r\n      });\r\n    },\r\n    urunGuncelle() {\r\n      let anahtarlar = \"\";\r\n      let uzunluk = this.keyList.length;\r\n      let indeks = 1;\r\n\r\n      if (uzunluk > 0) {\r\n        for (let key in this.keyList) {\r\n          anahtarlar += this.keyList[key];\r\n\r\n          indeks += 1;\r\n\r\n          if (uzunluk >= indeks) {\r\n            anahtarlar += \",\";\r\n          }\r\n        }\r\n      }\r\n\r\n      this.urunDetay.anahtarlar = anahtarlar;\r\n      this.loading = true;\r\n      depoService.urunGuncelle(this.urunDetay).then((data) => {\r\n        if (data) {\r\n          if (this.depostock) {\r\n            depoService.getDepoUrunListesi().then((dpdata) => {\r\n              this.$store.dispatch(\"depoUrunListesiYukle\", dpdata);\r\n\r\n              this.urunBilgiGuncelle();\r\n            });\r\n          }\r\n          if (!this.depostock) {\r\n            depoService.getTurkeyStockList().then((trdata) => {\r\n              this.$store.dispatch(\"depoUrunListesiYukle\", trdata);\r\n              this.urunBilgiGuncelle();\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    urunSil() {\r\n      alert(this.urunDetay.urunid);\r\n    },\r\n    urunBilgiGuncelle() {\r\n      depoService.getUrunDetay(this.urunDetay.urunid).then((data) => {\r\n        if (data.anahtarlar.length > 1) {\r\n          this.keyList = data.anahtarlar.split(\",\");\r\n        }\r\n        this.loading = false;\r\n        alert(\"Ürün Bilgileri  Değiştirildi.\");\r\n      });\r\n    },\r\n    dataGuncelle() {\r\n      depoService.getUrunDetay(this.urunDetay.urunid).then((data) => {\r\n        console.log(data);\r\n\r\n        this.urunDetay = data;\r\n        this.sliceFotoList = [data.fotolar.slice(0, 10), []];\r\n\r\n        this.loading = false;\r\n      });\r\n    },\r\n    fotoDegisimEvent(event) {\r\n      this.urunDetay = event;\r\n      this.sliceFotoList = [event.fotolar.slice(0, 10), []];\r\n      this.loading = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.slide-image img {\r\n  width: 100%;\r\n  height: 370px;\r\n}\r\n.custom-tabs {\r\n  margin-top: -65px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}