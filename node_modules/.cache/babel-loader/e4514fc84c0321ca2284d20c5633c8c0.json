{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport depoService from '../../service/DepoService';\nexport default {\n  props: ['urunid', 'depoPickFotoList'],\n  data() {\n    return {\n      fotolist: null,\n      fotosillist: [],\n      fotodegisimlist: [],\n      iskaydet: true,\n      loading: false\n    };\n  },\n  created() {\n    this.fotolist = [...this.depoPickFotoList];\n    console.log('Pick Image List : ', this.depoPickFotoList);\n  },\n  methods: {\n    fotoSilEkle(event) {\n      for (let key in event.items) {\n        const item = event.items[key];\n        this.fotosillist.push(item);\n      }\n      this.kayitKontrol();\n    },\n    fotoSilEkleHepsi(event) {\n      for (let key in event.items) {\n        const item = event.items[key];\n        this.fotosillist.push(item);\n      }\n      this.kayitKontrol();\n    },\n    fotoSiraDegisim(event) {\n      let sira = 1;\n      for (let key in event.value[0]) {\n        const item = event.value[0][key];\n        this.fotodegisimlist.push({\n          ...item,\n          sira: sira\n        });\n        sira += 1;\n      }\n      this.kayitKontrol();\n    },\n    fotoGeriAl(event) {\n      for (let key in event.items) {\n        const item = event.items[key];\n        for (let key1 in this.fotosillist) {\n          if (this.fotosillist[key1]._id == item._id) {\n            this.fotosillist.splice(key1, 1);\n          }\n        }\n      }\n      this.kayitKontrol();\n    },\n    fotoGeriAlHepsi(event) {\n      for (let key in event.items) {\n        const item = event.items[key];\n        for (let key1 in this.fotosillist) {\n          if (this.fotosillist[key1]._id == item._id) {\n            this.fotosillist.splice(key1, 1);\n          }\n        }\n      }\n      this.kayitKontrol();\n    },\n    kayitKontrol() {\n      this.iskaydet = true;\n      let urunsil = this.fotosillist.length;\n      let urundegisim = this.fotodegisimlist.length;\n      if (urunsil > 0 || urundegisim > 0) this.iskaydet = false;\n    },\n    fotoDataDegisim() {\n      this.loading = true;\n      const fotodata = {\n        'fotoSilList': this.fotosillist,\n        'fotoSiraDegisim': this.fotodegisimlist\n      };\n      depoService.depoFotoDegisim(fotodata).then(res => {\n        console.log(res.status);\n        depoService.getUrunDetay(this.urunid).then(data => {\n          this.emitter.emit('fotoDegisim', data);\n          this.loading = false;\n        });\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["depoService","props","data","fotolist","fotosillist","fotodegisimlist","iskaydet","loading","created","depoPickFotoList","console","log","methods","fotoSilEkle","event","key","items","item","push","kayitKontrol","fotoSilEkleHepsi","fotoSiraDegisim","sira","value","fotoGeriAl","key1","_id","splice","fotoGeriAlHepsi","urunsil","length","urundegisim","fotoDataDegisim","fotodata","depoFotoDegisim","then","res","status","getUrunDetay","urunid","emitter","emit"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\depousa\\DepoUrunFotoList.vue"],"sourcesContent":["<template>\r\n<section>\r\n    <div class=\"columns\">\r\n        <div class=\"column is-12\">\r\n            <PickList \r\n            v-model=\"depoPickFotoList\" \r\n            listStyle=\"height:342px\" \r\n            dataKey=\"id\" \r\n            @move-to-target=\"fotoSilEkle($event)\"\r\n            @move-all-to-target=\"fotoSilEkleHepsi($event)\"\r\n            @reorder=\"fotoSiraDegisim($event)\"\r\n            @move-to-source=\"fotoGeriAl($event)\"\r\n            @move-all-to-source=\"fotoGeriAlHepsi($event)\"\r\n            >\r\n                <template #sourceHeader>\r\n                    Foto Listesi\r\n                </template>\r\n                <template #targetHeader>\r\n                    Silinecek Foto Listesi\r\n                </template>\r\n                <template #item=\"slotProps\">\r\n                    <div class=\"p-caritem\">\r\n                       \r\n                        <img :src=\"slotProps.item.link\">\r\n                        <div>{{slotProps.item.image}}  </div>\r\n                        <span style=\"margin-left:25px;\">{{slotProps.item.sira}}</span>\r\n                    </div>\r\n                  \r\n                </template>\r\n            </PickList>\r\n        </div>\r\n    </div>\r\n    <div class=\"columns is-centered\">\r\n            <div class=\"column is-3\">\r\n                <b-button @click=\"fotoDataDegisim\" \r\n                :loading=\"loading\" \r\n                :disabled=\"iskaydet\" \r\n                type=\"is-success\" expanded> KAYDET </b-button>\r\n            </div>\r\n        </div>\r\n        \r\n</section>\r\n</template>\r\n<script>\r\n\r\nimport depoService from '../../service/DepoService';\r\n\r\nexport default {\r\n    \r\n   \r\n    props : ['urunid','depoPickFotoList'],\r\n    data(){\r\n\r\n        return {\r\n\r\n            fotolist : null,\r\n            fotosillist : [],\r\n            fotodegisimlist:[],\r\n            iskaydet : true,\r\n            loading : false\r\n        }\r\n    },\r\n    created(){\r\n\r\n        this.fotolist = [...this.depoPickFotoList];\r\n        console.log('Pick Image List : ', this.depoPickFotoList)\r\n    },\r\n    methods : {\r\n\r\n        fotoSilEkle(event){\r\n\r\n            \r\n\r\n            for(let key in event.items){\r\n\r\n                const item = event.items[key];\r\n\r\n                this.fotosillist.push(item)\r\n            }\r\n\r\n            this.kayitKontrol();\r\n\r\n           \r\n        },\r\n        fotoSilEkleHepsi(event){\r\n\r\n            \r\n             for(let key in event.items){\r\n\r\n                const item = event.items[key];\r\n\r\n                this.fotosillist.push(item)\r\n            }\r\n            this.kayitKontrol();\r\n           \r\n        },\r\n        fotoSiraDegisim(event){\r\n\r\n           \r\n            let sira = 1;\r\n            for(let key in event.value[0]){\r\n\r\n                const item = event.value[0][key]\r\n\r\n                this.fotodegisimlist.push({...item,sira : sira})\r\n\r\n                sira  += 1\r\n\r\n            }\r\n            this.kayitKontrol();\r\n            \r\n        },\r\n        fotoGeriAl(event){\r\n            \r\n\r\n            for(let key in event.items){\r\n\r\n                const item = event.items[key]\r\n\r\n                for(let key1 in this.fotosillist){\r\n\r\n                    if(this.fotosillist[key1]._id == item._id){\r\n                        \r\n                        this.fotosillist.splice(key1,1)\r\n                    }\r\n                }\r\n            }\r\n            this.kayitKontrol();\r\n            \r\n        },\r\n        fotoGeriAlHepsi(event){\r\n\r\n           for(let key in event.items){\r\n\r\n                const item = event.items[key]\r\n\r\n                for(let key1 in this.fotosillist){\r\n\r\n                    if(this.fotosillist[key1]._id == item._id){\r\n                        \r\n                        this.fotosillist.splice(key1,1)\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.kayitKontrol();\r\n\r\n        },\r\n        kayitKontrol(){\r\n\r\n            this.iskaydet = true;\r\n            let urunsil = this.fotosillist.length;\r\n            let urundegisim = this.fotodegisimlist.length\r\n\r\n            if(urunsil > 0 || urundegisim > 0) this.iskaydet = false;\r\n        },\r\n        fotoDataDegisim(){\r\n\r\n            this.loading = true;\r\n            const fotodata = { 'fotoSilList' : this.fotosillist,'fotoSiraDegisim' : this.fotodegisimlist };\r\n            depoService.depoFotoDegisim(fotodata).then(res => {\r\n\r\n                console.log(res.status)\r\n               depoService.getUrunDetay(this.urunid).then(data => {\r\n                   \r\n                    this.emitter.emit('fotoDegisim',data);\r\n                    this.loading = false;\r\n               })\r\n            })\r\n        }\r\n    }\r\n    \r\n  \r\n}\r\n</script>\r\n<style scoped>\r\n  img {\r\n\r\n      width: 50px;\r\n      height: 50px;\r\n      vertical-align: middle;\r\n  }\r\n  .p-caritem div {\r\n\r\n      float:right;\r\n      vertical-align: middle;\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}