{"ast":null,"code":"/**\r\n * Module dependencies.\r\n */\n\nvar parseuri = require('parseuri');\nvar debug = require('debug')('socket.io-client:url');\n\n/**\r\n * Module exports.\r\n */\n\nmodule.exports = url;\n\n/**\r\n * URL parser.\r\n *\r\n * @param {String} url\r\n * @param {Object} An object meant to mimic window.location.\r\n *                 Defaults to window.location.\r\n * @api public\r\n */\n\nfunction url(uri, loc) {\n  var obj = uri;\n\n  // default to window.location\n  loc = loc || typeof location !== 'undefined' && location;\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' === typeof uri) {\n    if ('/' === uri.charAt(0)) {\n      if ('/' === uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' !== typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    } else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n  obj.path = obj.path || '/';\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  // define unique id\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + host + (loc && loc.port === obj.port ? '' : ':' + obj.port);\n  return obj;\n}","map":{"version":3,"names":["parseuri","require","debug","module","exports","url","uri","loc","obj","location","protocol","host","charAt","test","port","path","ipv6","indexOf","id","href"],"sources":["C:/PROJELER/NewProjects/gitPull/newprojectweb/node_modules/socket.io-client/lib/url.js"],"sourcesContent":["\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar parseuri = require('parseuri');\r\nvar debug = require('debug')('socket.io-client:url');\r\n\r\n/**\r\n * Module exports.\r\n */\r\n\r\nmodule.exports = url;\r\n\r\n/**\r\n * URL parser.\r\n *\r\n * @param {String} url\r\n * @param {Object} An object meant to mimic window.location.\r\n *                 Defaults to window.location.\r\n * @api public\r\n */\r\n\r\nfunction url (uri, loc) {\r\n  var obj = uri;\r\n\r\n  // default to window.location\r\n  loc = loc || (typeof location !== 'undefined' && location);\r\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\r\n\r\n  // relative path support\r\n  if ('string' === typeof uri) {\r\n    if ('/' === uri.charAt(0)) {\r\n      if ('/' === uri.charAt(1)) {\r\n        uri = loc.protocol + uri;\r\n      } else {\r\n        uri = loc.host + uri;\r\n      }\r\n    }\r\n\r\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\r\n      debug('protocol-less url %s', uri);\r\n      if ('undefined' !== typeof loc) {\r\n        uri = loc.protocol + '//' + uri;\r\n      } else {\r\n        uri = 'https://' + uri;\r\n      }\r\n    }\r\n\r\n    // parse\r\n    debug('parse %s', uri);\r\n    obj = parseuri(uri);\r\n  }\r\n\r\n  // make sure we treat `localhost:80` and `localhost` equally\r\n  if (!obj.port) {\r\n    if (/^(http|ws)$/.test(obj.protocol)) {\r\n      obj.port = '80';\r\n    } else if (/^(http|ws)s$/.test(obj.protocol)) {\r\n      obj.port = '443';\r\n    }\r\n  }\r\n\r\n  obj.path = obj.path || '/';\r\n\r\n  var ipv6 = obj.host.indexOf(':') !== -1;\r\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\r\n\r\n  // define unique id\r\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\r\n  // define href\r\n  obj.href = obj.protocol + '://' + host + (loc && loc.port === obj.port ? '' : (':' + obj.port));\r\n\r\n  return obj;\r\n}\r\n"],"mappings":"AACA;AACA;AACA;;AAEA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAClC,IAAIC,KAAK,GAAGD,OAAO,CAAC,OAAO,CAAC,CAAC,sBAAsB,CAAC;;AAEpD;AACA;AACA;;AAEAE,MAAM,CAACC,OAAO,GAAGC,GAAG;;AAEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,GAAG,CAAEC,GAAG,EAAEC,GAAG,EAAE;EACtB,IAAIC,GAAG,GAAGF,GAAG;;EAEb;EACAC,GAAG,GAAGA,GAAG,IAAK,OAAOE,QAAQ,KAAK,WAAW,IAAIA,QAAS;EAC1D,IAAI,IAAI,IAAIH,GAAG,EAAEA,GAAG,GAAGC,GAAG,CAACG,QAAQ,GAAG,IAAI,GAAGH,GAAG,CAACI,IAAI;;EAErD;EACA,IAAI,QAAQ,KAAK,OAAOL,GAAG,EAAE;IAC3B,IAAI,GAAG,KAAKA,GAAG,CAACM,MAAM,CAAC,CAAC,CAAC,EAAE;MACzB,IAAI,GAAG,KAAKN,GAAG,CAACM,MAAM,CAAC,CAAC,CAAC,EAAE;QACzBN,GAAG,GAAGC,GAAG,CAACG,QAAQ,GAAGJ,GAAG;MAC1B,CAAC,MAAM;QACLA,GAAG,GAAGC,GAAG,CAACI,IAAI,GAAGL,GAAG;MACtB;IACF;IAEA,IAAI,CAAC,qBAAqB,CAACO,IAAI,CAACP,GAAG,CAAC,EAAE;MACpCJ,KAAK,CAAC,sBAAsB,EAAEI,GAAG,CAAC;MAClC,IAAI,WAAW,KAAK,OAAOC,GAAG,EAAE;QAC9BD,GAAG,GAAGC,GAAG,CAACG,QAAQ,GAAG,IAAI,GAAGJ,GAAG;MACjC,CAAC,MAAM;QACLA,GAAG,GAAG,UAAU,GAAGA,GAAG;MACxB;IACF;;IAEA;IACAJ,KAAK,CAAC,UAAU,EAAEI,GAAG,CAAC;IACtBE,GAAG,GAAGR,QAAQ,CAACM,GAAG,CAAC;EACrB;;EAEA;EACA,IAAI,CAACE,GAAG,CAACM,IAAI,EAAE;IACb,IAAI,aAAa,CAACD,IAAI,CAACL,GAAG,CAACE,QAAQ,CAAC,EAAE;MACpCF,GAAG,CAACM,IAAI,GAAG,IAAI;IACjB,CAAC,MAAM,IAAI,cAAc,CAACD,IAAI,CAACL,GAAG,CAACE,QAAQ,CAAC,EAAE;MAC5CF,GAAG,CAACM,IAAI,GAAG,KAAK;IAClB;EACF;EAEAN,GAAG,CAACO,IAAI,GAAGP,GAAG,CAACO,IAAI,IAAI,GAAG;EAE1B,IAAIC,IAAI,GAAGR,GAAG,CAACG,IAAI,CAACM,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;EACvC,IAAIN,IAAI,GAAGK,IAAI,GAAG,GAAG,GAAGR,GAAG,CAACG,IAAI,GAAG,GAAG,GAAGH,GAAG,CAACG,IAAI;;EAEjD;EACAH,GAAG,CAACU,EAAE,GAAGV,GAAG,CAACE,QAAQ,GAAG,KAAK,GAAGC,IAAI,GAAG,GAAG,GAAGH,GAAG,CAACM,IAAI;EACrD;EACAN,GAAG,CAACW,IAAI,GAAGX,GAAG,CAACE,QAAQ,GAAG,KAAK,GAAGC,IAAI,IAAIJ,GAAG,IAAIA,GAAG,CAACO,IAAI,KAAKN,GAAG,CAACM,IAAI,GAAG,EAAE,GAAI,GAAG,GAAGN,GAAG,CAACM,IAAK,CAAC;EAE/F,OAAON,GAAG;AACZ"},"metadata":{},"sourceType":"script"}