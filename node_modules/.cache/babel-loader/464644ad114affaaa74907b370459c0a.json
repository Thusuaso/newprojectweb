{"ast":null,"code":"import { mapGetters } from \"vuex\";\nimport service from \"@/service/FinansService\";\n\n//const servis_url = 'http://localhost:5000/'\n//const servis_url = 'https://doktor-servis.mekmar.com/'\n\nexport default {\n  data() {\n    return {\n      depo_odenecek_satis: 0,\n      depo_kalan: 0\n    };\n  },\n  computed: {\n    ...mapGetters([\"depo_ayrinti_list\", \"depo_odeme_ayrinti_list\", \"depo_ayrinti_toplam_ciro\", \"depo_ayrinti_toplam_odenen\", \"depo_ayrinti_toplam_bakiye\", \"depo_ayrinti_baslik\", \"depo_ayrinti_musteriid\", \"servis_adres\"])\n  },\n  created() {\n    for (let key in this.depo_odeme_ayrinti_list) {\n      const item = this.depo_odeme_ayrinti_list[key];\n      this.depo_odenecek_satis += item.toplam;\n      this.depo_kalan += item.toplam - item.odenen;\n    }\n  },\n  methods: {\n    cikti_al() {\n      service.getDepoAyrintiExcelListe(this.depo_ayrinti_list).then(res => {\n        if (res.status) {\n          const link = document.createElement(\"a\");\n          link.href = this.servis_adres + \"finans/listeler/depoAyrintiExcellListe\";\n          link.setAttribute(\"download\", \"depo_ayrinti_listesi.xlsx\");\n          document.body.appendChild(link);\n          link.click();\n        }\n      });\n    },\n    cikti_al2() {\n      service.getDepoAyrintiExcelListe(this.depo_odeme_ayrinti_list).then(res => {\n        if (res.status) {\n          const link = document.createElement(\"a\");\n          link.href = this.servis_adres + \"finans/listeler/depoAyrintiExcellListe\";\n          //link.href = 'localhost:5000/finans/listeler/depoAyrintiExcellListe'\n          link.setAttribute(\"download\", \"depo_ayrinti_listesi.xlsx\");\n          document.body.appendChild(link);\n          link.click();\n        }\n      });\n    },\n    formatPrice(value) {\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    }\n  }\n};","map":{"version":3,"mappings":"AA8PA,SAASA,UAAS,QAAS,MAAM;AACjC,OAAOC,OAAM,MAAO,yBAAyB;;AAE7C;AACA;;AAEA,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,mBAAmB,EAAE,CAAC;MACtBC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EAEDC,QAAQ,EAAE;IACR,GAAGL,UAAU,CAAC,CACZ,mBAAmB,EACnB,yBAAyB,EACzB,0BAA0B,EAC1B,4BAA4B,EAC5B,4BAA4B,EAC5B,qBAAqB,EACrB,wBAAwB,EACxB,cAAc,CACf;EACH,CAAC;EACDM,OAAO,GAAG;IACR,KAAK,IAAIC,GAAE,IAAK,IAAI,CAACC,uBAAuB,EAAE;MAC5C,MAAMC,IAAG,GAAI,IAAI,CAACD,uBAAuB,CAACD,GAAG,CAAC;MAC9C,IAAI,CAACJ,mBAAkB,IAAKM,IAAI,CAACC,MAAM;MACvC,IAAI,CAACN,UAAS,IAAKK,IAAI,CAACC,MAAK,GAAID,IAAI,CAACE,MAAM;IAC9C;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,QAAQ,GAAG;MACTZ,OAAO,CAACa,wBAAwB,CAAC,IAAI,CAACC,iBAAiB,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;QACrE,IAAIA,GAAG,CAACC,MAAM,EAAE;UACd,MAAMC,IAAG,GAAIC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;UACxCF,IAAI,CAACG,IAAG,GACN,IAAI,CAACC,YAAW,GAAI,wCAAwC;UAE9DJ,IAAI,CAACK,YAAY,CAAC,UAAU,EAAE,2BAA2B,CAAC;UAC1DJ,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,IAAI,CAAC;UAC/BA,IAAI,CAACQ,KAAK,EAAE;QACd;MACF,CAAC,CAAC;IACJ,CAAC;IACDC,SAAS,GAAG;MACV3B,OAAM,CACHa,wBAAwB,CAAC,IAAI,CAACN,uBAAuB,EACrDQ,IAAI,CAAEC,GAAG,IAAK;QACb,IAAIA,GAAG,CAACC,MAAM,EAAE;UACd,MAAMC,IAAG,GAAIC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;UACxCF,IAAI,CAACG,IAAG,GACN,IAAI,CAACC,YAAW,GAAI,wCAAwC;UAC9D;UACAJ,IAAI,CAACK,YAAY,CAAC,UAAU,EAAE,2BAA2B,CAAC;UAC1DJ,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,IAAI,CAAC;UAC/BA,IAAI,CAACQ,KAAK,EAAE;QACd;MACF,CAAC,CAAC;IACN,CAAC;IACDE,WAAW,CAACC,KAAK,EAAE;MACjB,IAAIC,GAAE,GAAI,CAACD,KAAI,GAAI,CAAC,EAAEE,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;MAClD,OAAO,GAAE,GAAIF,GAAG,CAACG,QAAQ,EAAE,CAACD,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAC;IACnE;EACF;AACF,CAAC","names":["mapGetters","service","data","depo_odenecek_satis","depo_kalan","computed","created","key","depo_odeme_ayrinti_list","item","toplam","odenen","methods","cikti_al","getDepoAyrintiExcelListe","depo_ayrinti_list","then","res","status","link","document","createElement","href","servis_adres","setAttribute","body","appendChild","click","cikti_al2","formatPrice","value","val","toFixed","replace","toString"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\finans\\DepoAyrintiList.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"columns is-multiline\">\r\n      <div class=\"fluid\">\r\n        <Toast position=\"bottomright\" />\r\n        <div class=\"p-grid\">\r\n          <div class=\"p-col-12 p-lg-12\">\r\n            <TabView>\r\n              <TabPanel header=\"Açık Siparişler\">\r\n                <div class=\"column is-4\">\r\n                  <Button\r\n                    class=\"p-button-primary\"\r\n                    @click=\"cikti_al2\"\r\n                    label=\"EXCELL ÇIKTI\"\r\n                  />\r\n                </div>\r\n                <div class=\"p-col-12 p-lg-12\">\r\n                  <DataTable\r\n                    :value=\"depo_odeme_ayrinti_list\"\r\n                    :scrollable=\"true\"\r\n                    scrollHeight=\"450px\"\r\n                  >\r\n                    <template #header>\r\n                      <div class=\"columns is-multiline\">\r\n                        <div class=\"column is-12\">\r\n                          <span style=\"font-size: 15px\">\r\n                            DOSYASI KAPANMAYAN SİPARİŞLER</span\r\n                          >\r\n                        </div>\r\n                      </div>\r\n                    </template>\r\n                    <Column\r\n                      field=\"orderno\"\r\n                      header=\"Order Numara\"\r\n                      bodyStyle=\"text-align:left;\"\r\n                    >\r\n                      <template #body=\"slotProps\">\r\n                        {{ slotProps.data.orderno }}\r\n                      </template>\r\n                    </Column>\r\n                    <Column\r\n                      field=\"tarih\"\r\n                      header=\"Sipariş Tarihi\"\r\n                      bodyStyle=\"text-align:center;\"\r\n                    >\r\n                      <template #body=\"slotProps\">\r\n                        {{ slotProps.data.tarih }}\r\n                      </template>\r\n                    </Column>\r\n                    <Column\r\n                      field=\"sevktarihi\"\r\n                      header=\"Yüklenme Tarihi\"\r\n                      bodyStyle=\"text-align:center;\"\r\n                    >\r\n                      <template #body=\"slotProps\">\r\n                        {{ slotProps.data.sevktarihi }}\r\n                      </template>\r\n                    </Column>\r\n                    <Column\r\n                      field=\"status\"\r\n                      header=\"Status\"\r\n                      bodyStyle=\"text-align:center;\"\r\n                    >\r\n                      <template #body=\"slotProps\">\r\n                        <div\r\n                          :class=\"\r\n                            slotProps.data.status == 'DEPO'\r\n                              ? 'depo'\r\n                              : 'konteyner'\r\n                          \"\r\n                        >\r\n                          {{ slotProps.data.status }}\r\n                        </div>\r\n                      </template>\r\n                    </Column>\r\n\r\n                    <Column\r\n                      field=\"notlar\"\r\n                      header=\"Notlar\"\r\n                      bodyStyle=\"text-align:left;\"\r\n                    >\r\n                      <template #body=\"slotProps\">\r\n                        {{ slotProps.data.notlar }}\r\n                      </template>\r\n                    </Column>\r\n                    <Column\r\n                      field=\"toplam\"\r\n                      header=\"TOTAL\"\r\n                      bodyStyle=\"text-align:center;\"\r\n                    >\r\n                      <template #body=\"slotProps\">\r\n                        {{ formatPrice(slotProps.data.toplam) }}\r\n                      </template>\r\n                      <template #footer>\r\n                        {{ formatPrice(depo_odenecek_satis) }}\r\n                      </template>\r\n                    </Column>\r\n\r\n                    <Column\r\n                      field=\"bakiye\"\r\n                      header=\"KALAN\"\r\n                      bodyStyle=\"text-align:center;\"\r\n                    >\r\n                      <template #body=\"slotProps\">\r\n                        <div v-if=\"slotProps.data.bakiye == 0\">\r\n                          {{\r\n                            formatPrice(\r\n                              slotProps.data.toplam - slotProps.data.odenen\r\n                            )\r\n                          }}\r\n                        </div>\r\n                        <div v-else>\r\n                          {{ formatPrice(slotProps.data.bakiye) }}\r\n                        </div>\r\n                      </template>\r\n                      <template #footer>\r\n                        {{ formatPrice(depo_kalan) }}\r\n                      </template>\r\n                    </Column>\r\n                  </DataTable>\r\n                </div>\r\n              </TabPanel>\r\n              <TabPanel header=\"Kapalı Siparişler\">\r\n                <div class=\"column is-4\">\r\n                  <Button\r\n                    class=\"p-button-primary\"\r\n                    @click=\"cikti_al\"\r\n                    label=\"EXCELL ÇIKTI\"\r\n                  />\r\n                </div>\r\n                <div class=\"p-col-12 p-lg-12\">\r\n                  <DataTable\r\n                    :value=\"depo_ayrinti_list\"\r\n                    :scrollable=\"true\"\r\n                    scrollHeight=\"450px\"\r\n                  >\r\n                    <template #header>\r\n                      <div class=\"columns is-multiline\">\r\n                        <div class=\"column is-12\">\r\n                          <span style=\"font-size: 15px\">\r\n                            DOSYASI KAPANAN SİPARİŞLER</span\r\n                          >\r\n                        </div>\r\n                      </div>\r\n                    </template>\r\n                    <Column\r\n                      field=\"orderno\"\r\n                      header=\"Order Numara\"\r\n                      bodyStyle=\"text-align:lef;\"\r\n                    >\r\n                      <template #body=\"slotProps\">\r\n                        {{ slotProps.data.orderno }}\r\n                      </template>\r\n                    </Column>\r\n                    <Column\r\n                      field=\"tarih\"\r\n                      header=\"Sipariş Tarihi\"\r\n                      bodyStyle=\"text-align:center;\"\r\n                    >\r\n                      <template #body=\"slotProps\">\r\n                        {{ slotProps.data.tarih }}\r\n                      </template>\r\n                    </Column>\r\n                    <Column\r\n                      field=\"sevktarihi\"\r\n                      header=\"Sevk Tarihi\"\r\n                      bodyStyle=\"text-align:center;\"\r\n                    >\r\n                      <template #body=\"slotProps\">\r\n                        {{ slotProps.data.sevktarihi }}\r\n                      </template>\r\n                    </Column>\r\n                    <Column\r\n                      field=\"odemetarihi\"\r\n                      header=\"Ödeme Tarihi\"\r\n                      bodyStyle=\"text-align:center;\"\r\n                    >\r\n                      <template #body=\"slotProps\">\r\n                        {{ slotProps.data.odemetarihi }}\r\n                      </template>\r\n                    </Column>\r\n                    <Column\r\n                      field=\"status\"\r\n                      header=\"Status\"\r\n                      bodyStyle=\"text-align:center;\"\r\n                    >\r\n                      <template #body=\"slotProps\">\r\n                        <div\r\n                          :class=\"\r\n                            slotProps.data.status == 'DEPO'\r\n                              ? 'depo'\r\n                              : 'konteyner'\r\n                          \"\r\n                        >\r\n                          {{ slotProps.data.status }}\r\n                        </div>\r\n                      </template>\r\n                    </Column>\r\n                    <Column\r\n                      field=\"notlar\"\r\n                      header=\"Notlar\"\r\n                      bodyStyle=\"text-align:left;\"\r\n                    >\r\n                      <template #body=\"slotProps\">\r\n                        {{ slotProps.data.notlar }}\r\n                      </template>\r\n                    </Column>\r\n                    <Column\r\n                      field=\"toplam\"\r\n                      header=\"TOTAL\"\r\n                      bodyStyle=\"text-align:center;\"\r\n                    >\r\n                      <template #body=\"slotProps\">\r\n                        {{ formatPrice(slotProps.data.toplam) }}\r\n                      </template>\r\n                      <template #footer>\r\n                        {{ formatPrice(depo_ayrinti_toplam_ciro) }}\r\n                      </template>\r\n                    </Column>\r\n                    <Column\r\n                      field=\"odenen\"\r\n                      header=\"ÖDENEN\"\r\n                      bodyStyle=\"text-align:center;\"\r\n                    >\r\n                      <template #body=\"slotProps\">\r\n                        {{ formatPrice(slotProps.data.odenen) }}\r\n                      </template>\r\n                      <template #footer>\r\n                        {{ formatPrice(depo_ayrinti_toplam_odenen) }}\r\n                      </template>\r\n                    </Column>\r\n                    <Column\r\n                      field=\"bakiye\"\r\n                      header=\"KALAN\"\r\n                      bodyStyle=\"text-align:center;\"\r\n                    >\r\n                      <template #body=\"slotProps\">\r\n                        {{ formatPrice(slotProps.data.bakiye) }}\r\n                      </template>\r\n                      <template #footer>\r\n                        {{ formatPrice(depo_ayrinti_toplam_bakiye) }}\r\n                      </template>\r\n                    </Column>\r\n                  </DataTable>\r\n                </div>\r\n              </TabPanel>\r\n            </TabView>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport service from \"@/service/FinansService\";\r\n\r\n//const servis_url = 'http://localhost:5000/'\r\n//const servis_url = 'https://doktor-servis.mekmar.com/'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      depo_odenecek_satis: 0,\r\n      depo_kalan: 0,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      \"depo_ayrinti_list\",\r\n      \"depo_odeme_ayrinti_list\",\r\n      \"depo_ayrinti_toplam_ciro\",\r\n      \"depo_ayrinti_toplam_odenen\",\r\n      \"depo_ayrinti_toplam_bakiye\",\r\n      \"depo_ayrinti_baslik\",\r\n      \"depo_ayrinti_musteriid\",\r\n      \"servis_adres\",\r\n    ]),\r\n  },\r\n  created() {\r\n    for (let key in this.depo_odeme_ayrinti_list) {\r\n      const item = this.depo_odeme_ayrinti_list[key];\r\n      this.depo_odenecek_satis += item.toplam;\r\n      this.depo_kalan += item.toplam - item.odenen;\r\n    }\r\n  },\r\n  methods: {\r\n    cikti_al() {\r\n      service.getDepoAyrintiExcelListe(this.depo_ayrinti_list).then((res) => {\r\n        if (res.status) {\r\n          const link = document.createElement(\"a\");\r\n          link.href =\r\n            this.servis_adres + \"finans/listeler/depoAyrintiExcellListe\";\r\n\r\n          link.setAttribute(\"download\", \"depo_ayrinti_listesi.xlsx\");\r\n          document.body.appendChild(link);\r\n          link.click();\r\n        }\r\n      });\r\n    },\r\n    cikti_al2() {\r\n      service\r\n        .getDepoAyrintiExcelListe(this.depo_odeme_ayrinti_list)\r\n        .then((res) => {\r\n          if (res.status) {\r\n            const link = document.createElement(\"a\");\r\n            link.href =\r\n              this.servis_adres + \"finans/listeler/depoAyrintiExcellListe\";\r\n            //link.href = 'localhost:5000/finans/listeler/depoAyrintiExcellListe'\r\n            link.setAttribute(\"download\", \"depo_ayrinti_listesi.xlsx\");\r\n            document.body.appendChild(link);\r\n            link.click();\r\n          }\r\n        });\r\n    },\r\n    formatPrice(value) {\r\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\r\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.depo {\r\n  background-color: #d0f0c0;\r\n  color: #049101;\r\n  font-weight: bold;\r\n}\r\n.konteyner {\r\n  background-color: #e6f7fd;\r\n  color: #4411ee;\r\n  font-weight: bold;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}