{"ast":null,"code":"import { mapGetters } from \"vuex\";\nimport { FilterMatchMode } from \"primevue/api\";\nexport default {\n  data() {\n    return {\n      filters: {\n        tarih: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        musteriAdi: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        siparisNo: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        urunAdi: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        icerik: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        en: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        boy: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        kenar: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        },\n        tedarikciAdi: {\n          value: null,\n          matchMode: FilterMatchMode.STARTS_WITH\n        }\n      },\n      selectedSiparis: null,\n      dtSiparisler: null,\n      yil_listesi: null,\n      select_yil: 0,\n      kontrol: 0,\n      groups: [\"sira\", \"siparisNo\", \"musteriAdi\", \"temsilci\", \"tarih\", \"link\"]\n    };\n  },\n  props: [\"siparisler\", \"loading\", \"siparisTur\", \"hasPage\", \"baslik\", \"arkaPlanRengi\", \"user\", \"desktop\"],\n  computed: {\n    ...mapGetters([\"kasaToplami\", \"siparisToplami\", \"uretimToplami\", \"satisToplami\", \"tonToplami\", \"getMobilWidth\", \"datatableLoading\"])\n  },\n  mounted() {},\n  created() {},\n  methods: {\n    onRowGroupExpand(event) {\n      this.$toast.add({\n        severity: \"info\",\n        summary: \"Row Group Expanded\",\n        detail: \"Value: \" + event.data,\n        life: 3000\n      });\n    },\n    onRowGroupCollapse(event) {\n      this.$toast.add({\n        severity: \"success\",\n        summary: \"Row Group Collapsed\",\n        detail: \"Value: \" + event.data,\n        life: 3000\n      });\n    },\n    formatDecimal(value) {\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\n      return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    },\n    formatPrice(value) {\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    },\n    evrak_indir(dosya_link, dosya_adi) {\n      const link = document.createElement(\"a\");\n      link.href = dosya_link;\n      link.setAttribute(\"download\", `${dosya_adi}.pdf`);\n      document.body.appendChild(link);\n      link.click();\n    },\n    proformaDowload(siparis) {\n      const result = this.siparisler.filter(x => x.siparisNo == siparis);\n      this.evrak_indir(result[0].link, \"Proforma\");\n      /*\r\n      for (var i=0; i < this.siparisler.length; i++)\r\n      {\r\n          if ( this.siparisler[i].siparisNo == siparis){\r\n                  \r\n                  console.log(\"this.siparisler[i].link\",this.siparisler[i].link)\r\n                  \r\n                  this.evrak_indir(this.siparisler[i].link,'Proforma')\r\n                  \r\n          }\r\n              \r\n      }*/\n    },\n\n    siparisSecim(event) {\n      //sipariş seçildiğinde\n      this.selectedSiparis = event.data;\n      this.selectSiparis = true;\n      if (this.selectedSiparis) {\n        this.selectSiparis = false;\n        this.$emit(\"kisitliSiparisSecim\", event.data);\n        this.$store.commit(\"is_new_form_click_reset_mut\", false);\n      }\n    },\n    siparisSecim2(event) {\n      this.selectedSiparis = event.data;\n      this.selectSiparis = true;\n      if (this.selectedSiparis) {\n        this.selectSiparis = false;\n        this.$emit(\"kisitliSiparisSecim\", event.data);\n        this.$store.commit(\"is_new_form_click_reset_mut\", false);\n      }\n    },\n    siparisFilterDegisim(event) {\n      this.toplamGuncelle(event.filteredValue);\n    },\n    toplamGuncelle(liste) {\n      let kasaToplami = 0;\n      let siparisToplami = 0;\n      let uretimToplami = 0;\n      let satisToplami = 0;\n      let tonToplami = 0;\n      for (let key in liste) {\n        const data = liste[key];\n        kasaToplami += data.kasa;\n        siparisToplami += data.siparisMiktari;\n        uretimToplami += data.uretimMiktari;\n        satisToplami += data.satisToplam;\n        tonToplami += data.ton;\n      }\n      const data = {\n        kasaToplami: kasaToplami,\n        siparisToplami: siparisToplami,\n        uretimToplami: uretimToplami,\n        satisToplami: satisToplami,\n        tonToplami: tonToplami\n      };\n      this.$store.dispatch(\"loadToplamGuncelleAct\", data);\n    },\n    gridGizlemeDegisim(event) {\n      this.$emit(\"siparisKisitliEmit\", event);\n    },\n    filterDegisim() {\n      this.toplamGuncelle(this.$refs.siparisData.processedData);\n      //this.servisMetotTest(this.$refs.siparisData.processedData)\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["mapGetters","FilterMatchMode","data","filters","tarih","value","matchMode","STARTS_WITH","musteriAdi","siparisNo","urunAdi","icerik","en","boy","kenar","tedarikciAdi","selectedSiparis","dtSiparisler","yil_listesi","select_yil","kontrol","groups","props","computed","mounted","created","methods","onRowGroupExpand","event","$toast","add","severity","summary","detail","life","onRowGroupCollapse","formatDecimal","val","toFixed","replace","toString","formatPrice","evrak_indir","dosya_link","dosya_adi","link","document","createElement","href","setAttribute","body","appendChild","click","proformaDowload","siparis","result","siparisler","filter","x","siparisSecim","selectSiparis","$emit","$store","commit","siparisSecim2","siparisFilterDegisim","toplamGuncelle","filteredValue","liste","kasaToplami","siparisToplami","uretimToplami","satisToplami","tonToplami","key","kasa","siparisMiktari","uretimMiktari","satisToplam","ton","dispatch","gridGizlemeDegisim","filterDegisim","$refs","siparisData","processedData"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\siparisler\\siparisListeler\\SiparisListeKisitli.vue"],"sourcesContent":["<template>\r\n  <section>\r\n     <!-- <DataTable\r\n      v-model:value=\"siparisler\"\r\n      style=\"font-size: 60%\"\r\n      class=\"p-datatable-responsive\"\r\n      v-model:selection=\"selectedSiparis\"\r\n      selectionMode=\"multiple\"\r\n      @row-select=\"siparisSecim($event)\"\r\n      :paginator=\"hasPage\"\r\n      :rows=\"20\"\r\n      rowGroupMode=\"rowspan\"\r\n      :groupRowsBy=\"groups\"\r\n      :scrollable=\"true\"\r\n      scrollHeight=\"510px\"\r\n      sortMode=\"single\"\r\n      sortField=\"tarih\"\r\n      :sortOrder=\"1\"\r\n      v-model:filters=\"filters\"\r\n      filterDisplay=\"menu\"\r\n      :loading=\"datatableLoading\"\r\n      @filter=\"siparisFilterDegisim\"\r\n    >\r\n      <template #header>\r\n        <div class=\"columns is-multiline\">\r\n          <div\r\n            class=\"column is-8\"\r\n            style=\"\r\n              margin-left: 160px;\r\n              padding-left: 60px;\r\n              font-size: 18px;\r\n              font-weight: normal;\r\n            \"\r\n          >\r\n            {{ baslik }}\r\n          </div>\r\n\r\n\r\n        </div>\r\n      </template>\r\n      <Column\r\n        headerStyle=\"width: 3%\"\r\n        bodyStyle=\"text-align: center;\"\r\n        field=\"sira\"\r\n        header=\"S\"\r\n      >\r\n        <template #body=\"slotProps\">\r\n          <span class=\"p-column-title\">S</span>\r\n          {{ slotProps.data.sira }}\r\n        </template>\r\n      </Column>\r\n\r\n      <Column\r\n        tag=\"1\"\r\n        ref=\"ref_tarih\"\r\n        field=\"tarih\"\r\n        header=\"Tarih\"\r\n        headerStyle=\"width: 13%\"\r\n        :sortable=\"false\"\r\n        bodyStyle=\"\"\r\n      >\r\n        <template #body=\"slotProps\">\r\n          <span class=\"p-column-title\">Tarih</span>\r\n          {{ slotProps.data.tarih }}\r\n        </template>\r\n        <template #filter=\"{ filterModel, filterCallback }\">\r\n          <InputText\r\n            type=\"text\"\r\n            v-model=\"filterModel.value\"\r\n            @input=\"filterCallback()\"\r\n            class=\"p-column-filter\"\r\n            placeholder=\"Search by Date\"\r\n          />\r\n        </template>\r\n      </Column>\r\n\r\n      <Column field=\"temsilci\" header=\"T\" headerStyle=\"width:8%\" bodyStyle=\" \">\r\n        <template #body=\"slotProps\">\r\n          <img\r\n            class=\"dairesel\"\r\n            :src=\"slotProps.data.logo\"\r\n            width=\"50\"\r\n            height=\"50\"\r\n          />\r\n        </template>\r\n      </Column>\r\n\r\n      <Column\r\n        :key=\"1\"\r\n        field=\"musteriAdi\"\r\n        header=\"Kime\"\r\n        headerStyle=\"width: 15%\"\r\n        bodyStyle=\"\"\r\n      >\r\n        <template #body=\"slotProps\">\r\n          <span class=\"p-column-title\">Kime</span>\r\n          <div\r\n            v-if=\"\r\n              slotProps.data.temsilci == user ||\r\n              slotProps.data.operasyon == user\r\n            \"\r\n            :style=\"{ backgroundColor: arkaPlanRengi }\"\r\n          >\r\n            {{ slotProps.data.musteriAdi }}\r\n          </div>\r\n\r\n          <div v-else>\r\n            {{ slotProps.data.musteriAdi }}\r\n          </div>\r\n        </template>\r\n        <template #filter=\"{ filterModel, filterCallback }\">\r\n          <InputText\r\n            type=\"text\"\r\n            v-model=\"filterModel.value\"\r\n            @input=\"filterCallback()\"\r\n            class=\"p-column-filter\"\r\n            placeholder=\"Search by Customer\"\r\n          />\r\n        </template>\r\n      </Column>\r\n      <Column\r\n        field=\"link\"\r\n        :header=\"siparisTur == 'sevk' ? 'CI' : 'PI'\"\r\n        headerStyle=\"width: 8%\"\r\n        bodyStyle=\"text-align:center;\"\r\n      >\r\n        <template #body=\"slotProps\">\r\n          <Button\r\n            type=\"button\"\r\n            :disabled=\"\r\n              siparisTur == 'üretim'\r\n                ? slotProps.data.evrak != 0\r\n                  ? false\r\n                  : true\r\n                : slotProps.data.evrakc != 0\r\n                ? false\r\n                : true\r\n            \"\r\n            @click=\"proformaDowload(slotProps.data.siparisNo)\"\r\n            icon=\"fas fa-download\"\r\n            class=\"\"\r\n            style=\"margin-right: 0.5em\"\r\n          ></Button>\r\n        </template>\r\n      </Column>\r\n\r\n      <Column\r\n        field=\"siparisNo\"\r\n        header=\"Po\"\r\n        headerStyle=\"width: 11%\"\r\n        bodyStyle=\"\"\r\n      >\r\n        <template #body=\"slotProps\">\r\n          <span class=\"p-column-title\"> Po</span>\r\n\r\n          <div\r\n            :style=\"{\r\n              color: slotProps.data.faturaDurumRenk != 'transparent1',\r\n            }\"\r\n          >\r\n            {{ slotProps.data.siparisNo }}\r\n          </div>\r\n        </template>\r\n        <template #filter=\"{ filterModel, filterCallback }\">\r\n          <InputText\r\n            type=\"text\"\r\n            v-model=\"filterModel.value\"\r\n            @input=\"filterCallback()\"\r\n            class=\"p-column-filter\"\r\n            placeholder=\"Search by PO\"\r\n          />\r\n        </template>\r\n      </Column>\r\n      <Column\r\n        field=\"urunAdi\"\r\n        header=\"Ürün Adı\"\r\n        headerStyle=\"width: 13%\"\r\n        bodyStyle=\"\"\r\n      >\r\n        <template #body=\"slotProps\">\r\n          <span class=\"p-column-title\">Ürün Adı</span>\r\n          {{ slotProps.data.urunAdi }}\r\n        </template>\r\n        <template #filter=\"{ filterModel, filterCallback }\">\r\n          <InputText\r\n            type=\"text\"\r\n            v-model=\"filterModel.value\"\r\n            @input=\"filterCallback()\"\r\n            class=\"p-column-filter\"\r\n            placeholder=\"Search by Product\"\r\n          />\r\n        </template>\r\n      </Column>\r\n      <Column\r\n        field=\"icerik\"\r\n        header=\"İçerik\"\r\n        bodyStyle=\"\"\r\n        style=\"min-width: 250px\"\r\n      >\r\n        <template #body=\"slotProps\">\r\n          <div>\r\n            <span class=\"p-column-title\">İçerik</span>\r\n            {{ slotProps.data.icerik }}\r\n          </div>\r\n        </template>\r\n      </Column>\r\n\r\n      <Column\r\n        field=\"en\"\r\n        header=\"E\"\r\n        headerStyle=\"width: 7%\"\r\n        bodyStyle=\"text-align: left;font-size: 10px;\"\r\n      >\r\n        <template #body=\"slotProps\">\r\n          <span class=\"p-column-title\">E</span>\r\n          {{ slotProps.data.en }}\r\n        </template>\r\n        <template #filter=\"{ filterModel, filterCallback }\">\r\n          <InputText\r\n            type=\"text\"\r\n            v-model=\"filterModel.value\"\r\n            @input=\"filterCallback()\"\r\n            class=\"p-column-filter\"\r\n            placeholder=\"Search by Width\"\r\n          />\r\n        </template>\r\n      </Column>\r\n      <Column\r\n        field=\"boy\"\r\n        header=\"B\"\r\n        headerStyle=\"width: 8%\"\r\n        bodyStyle=\"text-align: left;font-size: 10px;\"\r\n      >\r\n        <template #body=\"slotProps\">\r\n          <span class=\"p-column-title\">B</span>\r\n          {{ slotProps.data.boy }}\r\n        </template>\r\n        <template #filter=\"{ filterModel, filterCallback }\">\r\n          <InputText\r\n            type=\"text\"\r\n            v-model=\"filterModel.value\"\r\n            @input=\"filterCallback()\"\r\n            class=\"p-column-filter\"\r\n            placeholder=\"Search by Height\"\r\n          />\r\n        </template>\r\n      </Column>\r\n      <Column\r\n        field=\"kenar\"\r\n        header=\"K\"\r\n        headerStyle=\"width: 7%\"\r\n        bodyStyle=\"text-align: left;font-size: 10px;\"\r\n      >\r\n        <template #body=\"slotProps\">\r\n          <span class=\"p-column-title\">K</span>\r\n          {{ slotProps.data.kenar }}\r\n        </template>\r\n        <template #filter=\"{ filterModel, filterCallback }\">\r\n          <InputText\r\n            type=\"text\"\r\n            v-model=\"filterModel.value\"\r\n            @input=\"filterCallback()\"\r\n            class=\"p-column-filter\"\r\n            placeholder=\"Search by Edge\"\r\n          />\r\n        </template>\r\n      </Column>\r\n      <Column\r\n        field=\"tedarikciAdi\"\r\n        headerStyle=\"width: 11%\"\r\n        header=\"Kimden\"\r\n        bodyStyle=\"\"\r\n      >\r\n        <template #body=\"slotProps\">\r\n          <span class=\"p-column-title\">Kimden</span>\r\n          <div\r\n            :style=\"{\r\n              color:\r\n                slotProps.data.urunDurumRenk != 'transparent' &&\r\n                siparisTur == 'üretim'\r\n                  ? 'white'\r\n                  : 'black',\r\n            }\"\r\n          >\r\n            {{ slotProps.data.tedarikciAdi }}\r\n          </div>\r\n        </template>\r\n        <template #filter=\"{ filterModel, filterCallback }\">\r\n          <InputText\r\n            type=\"text\"\r\n            v-model=\"filterModel.value\"\r\n            @input=\"filterCallback()\"\r\n            class=\"p-column-filter\"\r\n            placeholder=\"Search by Supplier\"\r\n          />\r\n        </template>\r\n      </Column>\r\n\r\n\r\n\r\n      <Column field=\"kasa\" header=\"Kasa\" headerStyle=\"width: 5%\" bodyStyle=\"\">\r\n        <template #body=\"slotProps\">\r\n          <span class=\"p-column-title\">Kasa</span>\r\n          {{ slotProps.data.kasa }}\r\n        </template>\r\n        <template #footer>\r\n          {{ kasaToplami }}\r\n        </template>\r\n      </Column>\r\n      <Column\r\n        field=\"siparisMiktari\"\r\n        header=\"Miktar\"\r\n        headerStyle=\"width: 8%\"\r\n        bodyStyle=\"\"\r\n      >\r\n        <template #body=\"slotProps\">\r\n          <span class=\"p-column-title\">Miktar</span>\r\n          {{ slotProps.data.siparisMiktari }}\r\n        </template>\r\n        <template #footer>\r\n          {{ formatDecimal(siparisToplami) }}\r\n        </template>\r\n      </Column>\r\n\r\n      <Column field=\"birim\" header=\"B\" headerStyle=\"width: 5%\" bodyStyle=\"\">\r\n        <template #body=\"slotProps\">\r\n          <span class=\"p-column-title\">B</span>\r\n          {{ slotProps.data.birim }}\r\n        </template>\r\n      </Column>\r\n\r\n\r\n\r\n      <Column\r\n        field=\"uretimMiktari\"\r\n        header=\"Üretim\"\r\n        headerStyle=\"width: 9%\"\r\n        bodyStyle=\"text-align:center;\"\r\n      >\r\n        <template #body=\"slotProps\">\r\n          <span class=\"p-column-title\">Üretim</span>\r\n          <div\r\n            :style=\"{\r\n              background: slotProps.data.urunDurumRenk,\r\n              color:\r\n                slotProps.data.urunDurumRenk != 'transparent' &&\r\n                siparisTur == 'üretim'\r\n                  ? 'white'\r\n                  : 'black',\r\n            }\"\r\n          >\r\n            {{ slotProps.data.uretimMiktari }}\r\n          </div>\r\n        </template>\r\n        <template #footer>\r\n          {{ formatDecimal(uretimToplami) }}\r\n        </template>\r\n      </Column>\r\n      <Column field=\"ton\" header=\"Ton\" headerStyle=\"width: 8%\" bodyStyle=\"\">\r\n        <template #body=\"slotProps\">\r\n          <span class=\"p-column-title\">Ton</span>\r\n          {{ slotProps.data.ton }}\r\n        </template>\r\n        <template #footer>\r\n          {{ formatDecimal(tonToplami) }}\r\n        </template>\r\n      </Column>\r\n      <Column\r\n        field=\"birimFiyat\"\r\n        header=\"Satis\"\r\n        headerStyle=\"width: 7%\"\r\n        bodyStyle=\"text-align:center;\"\r\n      >\r\n        <template #body=\"slotProps\">\r\n          <span class=\"p-column-title\">Satış</span>\r\n          {{ formatPrice(slotProps.data.birimFiyat) }}\r\n        </template>\r\n      </Column>\r\n\r\n\r\n\r\n      <Column\r\n        field=\"satisToplam\"\r\n        header=\"Toplam\"\r\n        headerStyle=\"width: 10%\"\r\n        bodyStyle=\"text-align: center;\"\r\n      >\r\n        <template #body=\"slotProps\">\r\n          <span class=\"p-column-title\">Toplam</span>\r\n          {{ formatPrice(slotProps.data.satisToplam) }}\r\n        </template>\r\n        <template #footer>\r\n          {{ formatPrice(satisToplami) }}\r\n        </template>\r\n      </Column>\r\n    </DataTable>  -->\r\n    <div class=\"card\">\r\n      <h5>RowSpan Grouping</h5>\r\n      <DataTable\r\n\r\n        :value=\"siparisler\"\r\n        rowGroupMode=\"rowspan\"\r\n        :groupRowsBy=\"groups\"\r\n        sortMode=\"single\"\r\n        sortField=\"tarih\"\r\n        :sortOrder=\"-1\"\r\n        responsiveLayout=\"scroll\"\r\n        class=\"p-datatable-responsive\"\r\n      >\r\n        <Column field=\"sira\" header=\"S\">\r\n          <template #body=\"slotProps\">\r\n            <span class=\"p-column-title\">S</span>\r\n            {{ slotProps.data.sira }}\r\n          </template>\r\n        </Column>\r\n        <Column\r\n          tag=\"1\"\r\n          ref=\"ref_tarih\"\r\n          field=\"tarih\"\r\n          header=\"Tarih\"\r\n          headerStyle=\"width: 13%\"\r\n          :sortable=\"false\"\r\n          bodyStyle=\"\"\r\n        >\r\n          <template #body=\"slotProps\">\r\n            <span class=\"p-column-title\">Tarih</span>\r\n            {{ slotProps.data.tarih }}\r\n          </template>\r\n        </Column>\r\n\r\n        <Column\r\n          field=\"temsilci\"\r\n          header=\"T\"\r\n          headerStyle=\"width:8%\"\r\n          bodyStyle=\" \"\r\n        >\r\n          <template #body=\"slotProps\">\r\n            <img\r\n              class=\"dairesel\"\r\n              :src=\"slotProps.data.logo\"\r\n              width=\"50\"\r\n              height=\"50\"\r\n            />\r\n          </template>\r\n        </Column>\r\n\r\n        <Column\r\n          :key=\"1\"\r\n          field=\"musteriAdi\"\r\n          header=\"Kime\"\r\n          headerStyle=\"width: 15%\"\r\n          bodyStyle=\"\"\r\n        >\r\n          <template #body=\"slotProps\">\r\n            <span class=\"p-column-title\">Kime</span>\r\n            <div\r\n              v-if=\"\r\n                slotProps.data.temsilci == user ||\r\n                slotProps.data.operasyon == user\r\n              \"\r\n              :style=\"{ backgroundColor: arkaPlanRengi }\"\r\n            >\r\n              {{ slotProps.data.musteriAdi }}\r\n            </div>\r\n\r\n            <div v-else>\r\n              {{ slotProps.data.musteriAdi }}\r\n            </div>\r\n          </template>\r\n        </Column>\r\n        <Column\r\n          field=\"link\"\r\n          :header=\"siparisTur == 'sevk' ? 'CI' : 'PI'\"\r\n          headerStyle=\"width: 8%\"\r\n          bodyStyle=\"text-align:center;\"\r\n        >\r\n          <template #body=\"slotProps\">\r\n            <Button\r\n              type=\"button\"\r\n              :disabled=\"\r\n                siparisTur == 'üretim'\r\n                  ? slotProps.data.evrak != 0\r\n                    ? false\r\n                    : true\r\n                  : slotProps.data.evrakc != 0\r\n                  ? false\r\n                  : true\r\n              \"\r\n              @click=\"proformaDowload(slotProps.data.siparisNo)\"\r\n              icon=\"fas fa-download\"\r\n              class=\"\"\r\n              style=\"margin-right: 0.5em\"\r\n            ></Button>\r\n          </template>\r\n        </Column>\r\n\r\n        <Column\r\n          field=\"siparisNo\"\r\n          header=\"Po\"\r\n          headerStyle=\"width: 11%\"\r\n          bodyStyle=\"\"\r\n        >\r\n          <template #body=\"slotProps\">\r\n            <span class=\"p-column-title\"> Po</span>\r\n\r\n            <div\r\n              :style=\"{\r\n                color: slotProps.data.faturaDurumRenk != 'transparent1',\r\n              }\"\r\n            >\r\n              {{ slotProps.data.siparisNo }}\r\n            </div>\r\n          </template>\r\n        </Column>\r\n        <Column field=\"urunAdi\" header=\"Ürün Adı\" headerStyle=\"width: 13%\" bodyStyle=\"\">\r\n          <template #body=\"slotProps\">\r\n            <span class=\"p-column-title\">Ürün Adı</span>\r\n            {{ slotProps.data.urunAdi }}\r\n          </template>\r\n          <template #filter=\"{ filterModel, filterCallback }\">\r\n            <InputText type=\"text\" v-model=\"filterModel.value\" @input=\"filterCallback()\" class=\"p-column-filter\"\r\n              placeholder=\"Search by Product\" />\r\n          </template>\r\n        </Column>\r\n        <Column field=\"icerik\" header=\"İçerik\" bodyStyle=\"\" style=\"min-width: 250px\">\r\n          <template #body=\"slotProps\">\r\n            <div>\r\n              <span class=\"p-column-title\">İçerik</span>\r\n              {{ slotProps.data.icerik }}\r\n            </div>\r\n          </template>\r\n        </Column>\r\n        <Column field=\"en\" header=\"E\" headerStyle=\"width: 7%\" bodyStyle=\"text-align: left;font-size: 10px;\">\r\n          <template #body=\"slotProps\">\r\n            <span class=\"p-column-title\">E</span>\r\n            {{ slotProps.data.en }}\r\n          </template>\r\n          <template #filter=\"{ filterModel, filterCallback }\">\r\n            <InputText type=\"text\" v-model=\"filterModel.value\" @input=\"filterCallback()\" class=\"p-column-filter\"\r\n              placeholder=\"Search by Width\" />\r\n          </template>\r\n        </Column>\r\n        <Column field=\"boy\" header=\"B\" headerStyle=\"width: 8%\" bodyStyle=\"text-align: left;font-size: 10px;\">\r\n          <template #body=\"slotProps\">\r\n            <span class=\"p-column-title\">B</span>\r\n            {{ slotProps.data.boy }}\r\n          </template>\r\n          <template #filter=\"{ filterModel, filterCallback }\">\r\n            <InputText type=\"text\" v-model=\"filterModel.value\" @input=\"filterCallback()\" class=\"p-column-filter\"\r\n              placeholder=\"Search by Height\" />\r\n          </template>\r\n        </Column>\r\n        <Column field=\"kenar\" header=\"K\" headerStyle=\"width: 7%\" bodyStyle=\"text-align: left;font-size: 10px;\">\r\n          <template #body=\"slotProps\">\r\n            <span class=\"p-column-title\">K</span>\r\n            {{ slotProps.data.kenar }}\r\n          </template>\r\n          <template #filter=\"{ filterModel, filterCallback }\">\r\n            <InputText type=\"text\" v-model=\"filterModel.value\" @input=\"filterCallback()\" class=\"p-column-filter\"\r\n              placeholder=\"Search by Edge\" />\r\n          </template>\r\n        </Column>\r\n        <Column field=\"tedarikciAdi\" headerStyle=\"width: 11%\" header=\"Kimden\" bodyStyle=\"\">\r\n          <template #body=\"slotProps\">\r\n            <span class=\"p-column-title\">Kimden</span>\r\n            <div :style=\"{\r\n                      color:\r\n                        slotProps.data.urunDurumRenk != 'transparent' &&\r\n                        siparisTur == 'üretim'\r\n                          ? 'white'\r\n                          : 'black',\r\n                    }\">\r\n              {{ slotProps.data.tedarikciAdi }}\r\n            </div>\r\n          </template>\r\n          <template #filter=\"{ filterModel, filterCallback }\">\r\n            <InputText type=\"text\" v-model=\"filterModel.value\" @input=\"filterCallback()\" class=\"p-column-filter\"\r\n              placeholder=\"Search by Supplier\" />\r\n          </template>\r\n        </Column>\r\n        <Column field=\"kasa\" header=\"Kasa\" headerStyle=\"width: 5%\" bodyStyle=\"\">\r\n          <template #body=\"slotProps\">\r\n            <span class=\"p-column-title\">Kasa</span>\r\n            {{ slotProps.data.kasa }}\r\n          </template>\r\n          <template #footer>\r\n            {{ kasaToplami }}\r\n          </template>\r\n        </Column>\r\n        <Column field=\"siparisMiktari\" header=\"Miktar\" headerStyle=\"width: 8%\" bodyStyle=\"\">\r\n          <template #body=\"slotProps\">\r\n            <span class=\"p-column-title\">Miktar</span>\r\n            {{ slotProps.data.siparisMiktari }}\r\n          </template>\r\n          <template #footer>\r\n            {{ formatDecimal(siparisToplami) }}\r\n          </template>\r\n        </Column>\r\n      </DataTable>\r\n    </div>\r\n  </section>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { FilterMatchMode } from \"primevue/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      filters: {\r\n        tarih: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        musteriAdi: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        siparisNo: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        urunAdi: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        icerik: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        en: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        boy: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        kenar: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n        tedarikciAdi: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      selectedSiparis: null,\r\n      dtSiparisler: null,\r\n      yil_listesi: null,\r\n      select_yil: 0,\r\n      kontrol: 0,\r\n      groups: [\"sira\", \"siparisNo\", \"musteriAdi\",\"temsilci\", \"tarih\",\"link\"],\r\n    };\r\n  },\r\n  props: [\r\n    \"siparisler\",\r\n    \"loading\",\r\n    \"siparisTur\",\r\n    \"hasPage\",\r\n    \"baslik\",\r\n    \"arkaPlanRengi\",\r\n    \"user\",\r\n    \"desktop\",\r\n  ],\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      \"kasaToplami\",\r\n      \"siparisToplami\",\r\n      \"uretimToplami\",\r\n      \"satisToplami\",\r\n      \"tonToplami\",\r\n      \"getMobilWidth\",\r\n      \"datatableLoading\",\r\n    ]),\r\n  },\r\n  mounted() {},\r\n  created() {},\r\n  methods: {\r\n    onRowGroupExpand(event) {\r\n      this.$toast.add({\r\n        severity: \"info\",\r\n        summary: \"Row Group Expanded\",\r\n        detail: \"Value: \" + event.data,\r\n        life: 3000,\r\n      });\r\n    },\r\n    onRowGroupCollapse(event) {\r\n      this.$toast.add({\r\n        severity: \"success\",\r\n        summary: \"Row Group Collapsed\",\r\n        detail: \"Value: \" + event.data,\r\n        life: 3000,\r\n      });\r\n    },\r\n    formatDecimal(value) {\r\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\r\n      return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n    },\r\n    formatPrice(value) {\r\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\r\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n    },\r\n\r\n    evrak_indir(dosya_link, dosya_adi) {\r\n      const link = document.createElement(\"a\");\r\n      link.href = dosya_link;\r\n      link.setAttribute(\"download\", `${dosya_adi}.pdf`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n    },\r\n\r\n    proformaDowload(siparis) {\r\n      const result = this.siparisler.filter((x) => x.siparisNo == siparis);\r\n      this.evrak_indir(result[0].link, \"Proforma\");\r\n      /*\r\n      for (var i=0; i < this.siparisler.length; i++)\r\n      {\r\n          if ( this.siparisler[i].siparisNo == siparis){\r\n                  \r\n                  console.log(\"this.siparisler[i].link\",this.siparisler[i].link)\r\n                  \r\n                  this.evrak_indir(this.siparisler[i].link,'Proforma')\r\n                  \r\n          }\r\n              \r\n      }*/\r\n    },\r\n\r\n    siparisSecim(event) {\r\n      //sipariş seçildiğinde\r\n      this.selectedSiparis = event.data;\r\n\r\n      this.selectSiparis = true;\r\n      if (this.selectedSiparis) {\r\n        this.selectSiparis = false;\r\n        this.$emit(\"kisitliSiparisSecim\", event.data);\r\n        this.$store.commit(\"is_new_form_click_reset_mut\", false);\r\n      }\r\n    },\r\n    siparisSecim2(event) {\r\n      this.selectedSiparis = event.data;\r\n\r\n      this.selectSiparis = true;\r\n      if (this.selectedSiparis) {\r\n        this.selectSiparis = false;\r\n        this.$emit(\"kisitliSiparisSecim\", event.data);\r\n        this.$store.commit(\"is_new_form_click_reset_mut\", false);\r\n      }\r\n    },\r\n    siparisFilterDegisim(event) {\r\n      this.toplamGuncelle(event.filteredValue);\r\n    },\r\n    toplamGuncelle(liste) {\r\n      let kasaToplami = 0;\r\n      let siparisToplami = 0;\r\n      let uretimToplami = 0;\r\n      let satisToplami = 0;\r\n      let tonToplami = 0;\r\n      for (let key in liste) {\r\n        const data = liste[key];\r\n\r\n        kasaToplami += data.kasa;\r\n        siparisToplami += data.siparisMiktari;\r\n        uretimToplami += data.uretimMiktari;\r\n        satisToplami += data.satisToplam;\r\n        tonToplami += data.ton;\r\n      }\r\n\r\n      const data = {\r\n        kasaToplami: kasaToplami,\r\n        siparisToplami: siparisToplami,\r\n        uretimToplami: uretimToplami,\r\n        satisToplami: satisToplami,\r\n        tonToplami: tonToplami,\r\n      };\r\n\r\n      this.$store.dispatch(\"loadToplamGuncelleAct\", data);\r\n    },\r\n    gridGizlemeDegisim(event) {\r\n      this.$emit(\"siparisKisitliEmit\", event);\r\n    },\r\n    filterDegisim() {\r\n      this.toplamGuncelle(this.$refs.siparisData.processedData);\r\n      //this.servisMetotTest(this.$refs.siparisData.processedData)\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.bodyStyle {\r\n  float: left;\r\n  font-size: 6px;\r\n  text-align: left;\r\n  vertical-align: top;\r\n  word-break: break-all;\r\n  margin: -5px;\r\n}\r\n\r\n.genel {\r\n  border: 1px;\r\n  border-style: solid;\r\n  border-color: blue;\r\n  width: 100%;\r\n}\r\n\r\n.rowBorder {\r\n  border: 1px;\r\n  border: solid;\r\n  border-top-color: red;\r\n  border-color: black;\r\n}\r\n\r\n.ui-datatable column {\r\n  border: 1px;\r\n  border-style: solid;\r\n  border-color: blue;\r\n}\r\n\r\n.p-column-filter {\r\n  margin-top: 1em;\r\n}\r\n\r\n.p-datatable-header {\r\n  border: 0 none;\r\n\r\n  text-align: left;\r\n  font-size: 18px;\r\n}\r\n\r\n.p-paginator {\r\n  border: 0 none;\r\n  padding: 1em;\r\n}\r\n\r\n.p-datatable-thead > tr > th {\r\n  border: 0 none;\r\n  text-align: left;\r\n}\r\n\r\n.p-column-title {\r\n  font-size: 10px;\r\n}\r\n\r\n.p-datatable-tbody > tr > td {\r\n  border: 0 none;\r\n}\r\n\r\nspan {\r\n  margin-top: 0.125em;\r\n}\r\n\r\n.ciktiMenu Button {\r\n  margin-left: 5px;\r\n}\r\n\r\n.p-datatable {\r\n  font-size: 11px;\r\n}\r\n\r\n.custom-box {\r\n  width: 100%;\r\n  transition: 0.4s;\r\n  box-shadow: 3px 3px 24px 5px rgba(0, 0, 0, 0.22),\r\n    -3px -3px 24px 5px rgba(0, 0, 0, 0.18);\r\n  margin-right: 20px;\r\n}\r\n\r\n.siparis-form {\r\n  height: 1750px;\r\n}\r\n\r\n.tarih_hide {\r\n  display: none;\r\n}\r\n\r\n.tarih_show {\r\n  display: inline;\r\n}\r\n\r\n.dairesel {\r\n  border-radius: 150px;\r\n\r\n  -webkit-border-radius: 150px;\r\n\r\n  -moz-border-radius: 150px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}