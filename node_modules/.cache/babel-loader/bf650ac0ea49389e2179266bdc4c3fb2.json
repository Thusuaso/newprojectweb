{"ast":null,"code":"import { mapGetters } from \"vuex\";\nimport bgpNetworkDetailFormYeni from \"./bgpNetworkDetailFormYeni.vue\";\nimport bgpNetworkDetailForm from \"./bgpNetworkDetailForm.vue\";\nimport bgpService from \"@/service/BgpProjectService\";\nimport fileService from \"@/service/FileService\";\nimport CustomInputFile from \"@/components/shared/CustomInputFile\";\nexport default {\n  components: {\n    bgpNetworkDetailFormYeni,\n    bgpNetworkDetailForm,\n    customFileInput: CustomInputFile\n  },\n  data() {\n    return {\n      is_form_new: false,\n      is_form_datas: false,\n      isSelectedDetail: null,\n      username: null\n    };\n  },\n  created() {\n    this.username = this.$store.getters.__getUserId;\n  },\n  computed: {\n    ...mapGetters([\"bgpProjectAyrinti\", \"projectName\", \"username_kontrol\", \"projectId\", \"filelink\", \"fileCloud\"])\n  },\n  methods: {\n    proformaDowload(link) {\n      this.evrak_indir(link, \"BgpProject\");\n    },\n    evrak_indir(dosya_link, dosya_adi) {\n      const link = document.createElement(\"a\");\n      link.href = dosya_link;\n      link.setAttribute(\"download\", `${dosya_adi}.pdf`);\n      document.body.appendChild(link);\n      link.click();\n    },\n    bgpProjectDosyaGonder(event) {\n      fileService.bgpProjectGonder(event, this.projectId).then(data => {\n        if (data.Status) {\n          const bgpProject = {\n            id: this.projectId,\n            link: `https://file-service.mekmar.com/file/download/bgpProject/${this.projectId}/${event.name}`\n          };\n          bgpService.setBgpProjectFileData(bgpProject).then(veri => {\n            if (veri) {\n              this.$toast.add({\n                severity: \"success\",\n                summary: \"Dosya Yükleme\",\n                detail: \"Dosya başarıyla yüklendi\",\n                life: 3500\n              });\n            } else {\n              this.$toast.add({\n                severity: \"error\",\n                summary: \"Dosya Yükleme\",\n                detail: \"Dosya yükleme hatası\",\n                life: 3500\n              });\n            }\n          });\n        } else {\n          this.$toast.add({\n            severity: \"error\",\n            summary: \"Dosya Yükleme\",\n            detail: \"Dosya yükleme hatası\",\n            life: 3500\n          });\n        }\n      });\n    },\n    newProjectDetail(event, durum) {\n      if (durum == \"Yeni\") {\n        this.is_form_new = true;\n        this.bgpProjectAyrinti.firmaAdi = \"\";\n        this.bgpProjectAyrinti.kayitTarihi = \"\";\n        this.bgpProjectAyrinti.baslik = \"\";\n        this.bgpProjectAyrinti.aciklama = \"\";\n        this.bgpProjectAyrinti.hatirlatmaAciklama = \"\";\n        this.bgpProjectAyrinti.hatirlatmaTarihi = \"\";\n      } else {\n        bgpService.getBgpProjectDetailForm(event.data.id).then(data => {\n          this.$store.dispatch(\"bgp_project_ayrinti_form_load\", data[0]);\n          this.is_form_datas = true;\n        });\n      }\n    },\n    deleteProject() {\n      if (confirm(\"Silmek istiyor musunuz?\")) {\n        bgpService.setBgpProjecDelete(this.username, this.projectName).then(data => {\n          if (data.status) {\n            this.$toast.add({\n              severity: \"success\",\n              summary: \"Project Delete\",\n              detail: \"Proje Başarıyla Silindi\",\n              life: 3500\n            });\n            this.$store.dispatch(\"bgp_projects_list_load\", data.result);\n            this.emitter.emit(\"project_delete_form\", false);\n            this.emitter.emit(\"notificationUpdate\", true);\n          } else {\n            this.$toast.add({\n              severity: \"error\",\n              summary: \"Project Delete\",\n              detail: \"Proje Silme Başarısız\",\n              life: 3500\n            });\n            this.$store.dispatch(\"bgp_projects_list_load\", data.result);\n          }\n        });\n      }\n    }\n  },\n  mounted() {\n    this.emitter.on(\"ayrinti_form_closed\", data => {\n      this.is_form_datas = data;\n    });\n  }\n};","map":{"version":3,"mappings":"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","names":["mapGetters","bgpNetworkDetailFormYeni","bgpNetworkDetailForm","bgpService","fileService","CustomInputFile","components","customFileInput","data","is_form_new","is_form_datas","isSelectedDetail","username","created","$store","getters","__getUserId","computed","methods","proformaDowload","link","evrak_indir","dosya_link","dosya_adi","document","createElement","href","setAttribute","body","appendChild","click","bgpProjectDosyaGonder","event","bgpProjectGonder","projectId","then","Status","bgpProject","id","name","setBgpProjectFileData","veri","$toast","add","severity","summary","detail","life","newProjectDetail","durum","bgpProjectAyrinti","firmaAdi","kayitTarihi","baslik","aciklama","hatirlatmaAciklama","hatirlatmaTarihi","getBgpProjectDetailForm","dispatch","deleteProject","confirm","setBgpProjecDelete","projectName","status","result","emitter","emit","mounted","on"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\bgpproject\\bgpNetworkDetail.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"\" style=\"height: 500px\">\r\n      <div class=\"columns\">\r\n        <div class=\"column is-2\">\r\n          <Button\r\n            class=\"p-button-secondary\"\r\n            @click=\"newProjectDetail('', 'Yeni')\"\r\n            :disabled=\"username_kontrol\"\r\n            label=\"Yeni\"\r\n          ></Button>\r\n        </div>\r\n        <div class=\"column is-2\">\r\n          <Button\r\n            class=\"p-button-danger\"\r\n            :disabled=\"username_kontrol\"\r\n            @click=\"deleteProject\"\r\n            >Delete Project</Button\r\n          >\r\n        </div>\r\n        <div class=\"column is-2\">\r\n          <custom-file-input\r\n            baslik=\"Gönder\"\r\n            @sunucuDosyaYolla=\"bgpProjectDosyaGonder($event)\"\r\n          />\r\n        </div>\r\n        <div class=\"column is-2\">\r\n          <Button\r\n            type=\"button\"\r\n            :disabled=\"!fileCloud\"\r\n            @click=\"proformaDowload(filelink)\"\r\n            icon=\"fas fa-download\"\r\n            class=\"\"\r\n            v-greenButton:mousemove\r\n            style=\"margin-right: 0.5em\"\r\n          ></Button>\r\n        </div>\r\n      </div>\r\n\r\n      <br />\r\n      <div>\r\n        <DataTable\r\n          :value=\"bgpProjectAyrinti\"\r\n          :selected=\"isSelectedDetail\"\r\n          responsiveLayout=\"scroll\"\r\n          selectionMode=\"single\"\r\n          @row-select=\"newProjectDetail($event, '')\"\r\n        >\r\n          <template #header> Proje Ayrıntı Tablosu </template>\r\n          <Column\r\n            field=\"firmaAdi\"\r\n            header=\"Firma Adı\"\r\n            headerStyle=\"width:10%;\"\r\n            bodyStyle=\"text-align:center;\"\r\n          >\r\n          </Column>\r\n          <Column\r\n            field=\"kayitTarihi\"\r\n            header=\"Kayıt Tarihi\"\r\n            headerStyle=\"width:6%;\"\r\n            bodyStyle=\"text-align:center;\"\r\n          ></Column>\r\n          <Column\r\n            field=\"baslik\"\r\n            header=\"Başlık\"\r\n            headerStyle=\"width:10%;\"\r\n            bodyStyle=\"text-align:center;\"\r\n          ></Column>\r\n          <Column\r\n            field=\"aciklama\"\r\n            header=\"Açıklama\"\r\n            headerStyle=\"width:10%;\"\r\n            bodyStyle=\"text-align:center;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.aciklama }}\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"hatirlatmaTarihi\"\r\n            header=\"Hatırlatma Tarihi\"\r\n            headerStyle=\"width:6%;\"\r\n            bodyStyle=\"text-align:center;\"\r\n          ></Column>\r\n          <Column\r\n            field=\"hatirlatmaAciklama\"\r\n            header=\"Hatırlatma Açıklama\"\r\n            headerStyle=\"width:10%;\"\r\n            bodyStyle=\"text-align:center;\"\r\n          ></Column>\r\n          <Column\r\n            field=\"email\"\r\n            header=\"Email\"\r\n            headerStyle=\"width:13%;\"\r\n            bodyStyle=\"word-break:break-all;text-align:center;\"\r\n          ></Column>\r\n          <Column\r\n            field=\"phoneNumber\"\r\n            header=\"Telefon No\"\r\n            headerStyle=\"width:5%;\"\r\n            bodyStyle=\"text-align:center;\"\r\n          ></Column>\r\n          <Column\r\n            field=\"unvan\"\r\n            header=\"Ünvan\"\r\n            headerStyle=\"width:7%;\"\r\n            bodyStyle=\"text-align:center;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ slotProps.data.unvan }}\r\n            </template>\r\n          </Column>\r\n        </DataTable>\r\n      </div>\r\n      <div>\r\n        <Dialog\r\n          v-model:visible=\"is_form_new\"\r\n          header=\"Yeni Giriş\"\r\n          :modal=\"true\"\r\n          maximizable\r\n          position=\"top\"\r\n        >\r\n          <bgpNetworkDetailFormYeni\r\n            :projectName=\"projectName\"\r\n          ></bgpNetworkDetailFormYeni>\r\n        </Dialog>\r\n      </div>\r\n      <div>\r\n        <Dialog\r\n          v-model:visible=\"is_form_datas\"\r\n          :header=\"projectName + ' Ayrıntı'\"\r\n          :modal=\"true\"\r\n          maximizable\r\n          position=\"top\"\r\n        >\r\n          <bgpNetworkDetailForm> </bgpNetworkDetailForm>\r\n        </Dialog>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport bgpNetworkDetailFormYeni from \"./bgpNetworkDetailFormYeni.vue\";\r\nimport bgpNetworkDetailForm from \"./bgpNetworkDetailForm.vue\";\r\nimport bgpService from \"@/service/BgpProjectService\";\r\nimport fileService from \"@/service/FileService\";\r\nimport CustomInputFile from \"@/components/shared/CustomInputFile\";\r\nexport default {\r\n  components: {\r\n    bgpNetworkDetailFormYeni,\r\n    bgpNetworkDetailForm,\r\n    customFileInput: CustomInputFile,\r\n  },\r\n  data() {\r\n    return {\r\n      is_form_new: false,\r\n      is_form_datas: false,\r\n      isSelectedDetail: null,\r\n      username: null,\r\n    };\r\n  },\r\n  created() {\r\n    this.username = this.$store.getters.__getUserId;\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      \"bgpProjectAyrinti\",\r\n      \"projectName\",\r\n      \"username_kontrol\",\r\n      \"projectId\",\r\n      \"filelink\",\r\n      \"fileCloud\"\r\n\r\n    ]),\r\n  },\r\n  methods: {\r\n    proformaDowload(link) {\r\n      this.evrak_indir(link, \"BgpProject\");\r\n    },\r\n    evrak_indir(dosya_link, dosya_adi) {\r\n      const link = document.createElement(\"a\");\r\n      link.href = dosya_link;\r\n      link.setAttribute(\"download\", `${dosya_adi}.pdf`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n    },\r\n    bgpProjectDosyaGonder(event) {\r\n      fileService.bgpProjectGonder(event, this.projectId).then((data) => {\r\n        if (data.Status) {\r\n          const bgpProject = {\r\n            id: this.projectId,\r\n            link: `https://file-service.mekmar.com/file/download/bgpProject/${this.projectId}/${event.name}`,\r\n          };\r\n\r\n          bgpService.setBgpProjectFileData(bgpProject).then((veri) => {\r\n            if (veri) {\r\n              this.$toast.add({\r\n                severity: \"success\",\r\n                summary: \"Dosya Yükleme\",\r\n                detail: \"Dosya başarıyla yüklendi\",\r\n                life: 3500,\r\n              });\r\n            } else {\r\n              this.$toast.add({\r\n                severity: \"error\",\r\n                summary: \"Dosya Yükleme\",\r\n                detail: \"Dosya yükleme hatası\",\r\n                life: 3500,\r\n              });\r\n            }\r\n          });\r\n        } else {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Dosya Yükleme\",\r\n            detail: \"Dosya yükleme hatası\",\r\n            life: 3500,\r\n          });\r\n        }\r\n      });\r\n    },\r\n    newProjectDetail(event, durum) {\r\n      if (durum == \"Yeni\") {\r\n        this.is_form_new = true;\r\n        this.bgpProjectAyrinti.firmaAdi = \"\";\r\n        this.bgpProjectAyrinti.kayitTarihi = \"\";\r\n        this.bgpProjectAyrinti.baslik = \"\";\r\n        this.bgpProjectAyrinti.aciklama = \"\";\r\n        this.bgpProjectAyrinti.hatirlatmaAciklama = \"\";\r\n        this.bgpProjectAyrinti.hatirlatmaTarihi = \"\";\r\n      } else {\r\n        bgpService.getBgpProjectDetailForm(event.data.id).then((data) => {\r\n          this.$store.dispatch(\"bgp_project_ayrinti_form_load\", data[0]);\r\n          this.is_form_datas = true;\r\n        });\r\n      }\r\n    },\r\n    deleteProject() {\r\n      if (confirm(\"Silmek istiyor musunuz?\")) {\r\n        bgpService\r\n          .setBgpProjecDelete(this.username, this.projectName)\r\n          .then((data) => {\r\n            if (data.status) {\r\n              this.$toast.add({\r\n                severity: \"success\",\r\n                summary: \"Project Delete\",\r\n                detail: \"Proje Başarıyla Silindi\",\r\n                life: 3500,\r\n              });\r\n              this.$store.dispatch(\"bgp_projects_list_load\", data.result);\r\n              this.emitter.emit(\"project_delete_form\", false);\r\n              this.emitter.emit(\"notificationUpdate\", true);\r\n            } else {\r\n              this.$toast.add({\r\n                severity: \"error\",\r\n                summary: \"Project Delete\",\r\n                detail: \"Proje Silme Başarısız\",\r\n                life: 3500,\r\n              });\r\n              this.$store.dispatch(\"bgp_projects_list_load\", data.result);\r\n            }\r\n          });\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.emitter.on(\"ayrinti_form_closed\", (data) => {\r\n      this.is_form_datas = data;\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"]},"metadata":{},"sourceType":"module"}