{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n//import { mapGetters } from 'vuex';\n//import mekmarService from '../../service/MekmarService';\nimport service from \"@/service/MekmarPanelService\";\nexport default {\n  props: [\"productlist\", \"urunid\", \"kategori_id\"],\n  data() {\n    return {\n      filters: {},\n      product: null,\n      loading: false,\n      disekle: true,\n      dissil: true,\n      onerilenUrun: null,\n      silinenler: [],\n      eklenenler: [],\n      diskayit: true,\n      onerilenUrunList: null\n    };\n  },\n  methods: {\n    urunSec(event) {\n      this.product = event.data;\n      this.disekle = false;\n    },\n    onerilenUrunSec(event) {\n      this.onerilenUrun = event.data;\n      this.dissil = false;\n    },\n    urunEkle() {\n      if (this.product) {\n        let kontrol = this.onerilenUrunList.find(x => x.urunid == this.product.urunid);\n        if (!kontrol) {\n          const data = this.product;\n          this.onerilenUrunList.push({\n            ...data,\n            nocdn: data.foto,\n            onerilenurunid: data.urunid,\n            urunid: this.urunid\n          });\n          const customData = {\n            urunid: this.urunid,\n            benzerurunid: data.urunid,\n            kategori_id: this.kategori_id\n          };\n          this.eklenenler.push(customData);\n          this.product = null;\n          this.disekle = true;\n        }\n        this.urunDegisiklikDurum();\n      }\n    },\n    urunSil() {\n      if (this.onerilenUrun) {\n        const data = {\n          ...this.onerilenUrun,\n          benzerurunid: this.onerilenUrun.onerilenurunid\n        };\n        //eklenen ürünler de varsa silinmesi\n\n        for (let key in this.eklenenler) {\n          if (this.eklenenler[key].benzerurunid == this.onerilenUrun.urunid) {\n            this.eklenenler.splice(key, 1);\n          }\n        }\n\n        //silinen ürünlere eklenmesi\n        const customData = {\n          urunid: this.urunid,\n          onerilenurunid: data.onerilenurunid,\n          kategori_id: this.kategori_id\n        };\n        for (let key in this.onerilenUrunList) {\n          if (this.onerilenUrunList[key].onerilenurunid == customData.onerilenurunid) {\n            this.onerilenUrunList.splice(key, 1);\n          }\n        }\n        this.silinenler.push(customData);\n        this.onerilenUrunler = null;\n        this.urunDegisiklikDurum();\n      }\n    },\n    urunDegisiklikDurum() {\n      this.diskayit = true;\n      if (this.eklenenler.length > 0 || this.silinenler.length > 0) this.diskayit = false;\n    },\n    urunKaydet() {\n      const data = {\n        eklenenler: this.eklenenler,\n        silinenler: this.silinenler\n      };\n      this.diskayit = true;\n      service.onerilenUrunKayitIslem(data).then(res => {\n        if (res) {\n          alert(\"Önerilen Ürün Kaydı Yapıldı.\");\n          this.eklenenler = [];\n          this.silinenler = [];\n        } else {\n          this.diskayit = false;\n        }\n      });\n    }\n  },\n  created() {\n    this.onerilenUrunList = this.$store.getters.onerilenUrunler;\n  }\n};","map":{"version":3,"mappings":"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","names":["service","props","data","filters","product","loading","disekle","dissil","onerilenUrun","silinenler","eklenenler","diskayit","onerilenUrunList","methods","urunSec","event","onerilenUrunSec","urunEkle","kontrol","find","x","urunid","push","nocdn","foto","onerilenurunid","customData","benzerurunid","kategori_id","urunDegisiklikDurum","urunSil","key","splice","onerilenUrunler","length","urunKaydet","onerilenUrunKayitIslem","then","res","alert","created","$store","getters"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\mekmarcom\\OnerilenUrun.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"columns is-multiline\">\r\n      <div class=\"column is-5\">\r\n        <div class=\"columns is-multiline is-centered\">\r\n          <div class=\"column is-12\">\r\n            <h4 class=\"has-text-center\">Products List</h4>\r\n          </div>\r\n          <div class=\"column is-4\">\r\n            <Button\r\n              class=\"p-button-primary\"\r\n              :disabled=\"disekle\"\r\n              @click=\"urunEkle\"\r\n              label=\"Ekle\"\r\n            />\r\n          </div>\r\n          <div class=\"column is-12\">\r\n            <DataTable\r\n              class=\"p-datatable-responsive\"\r\n              :value=\"productlist\"\r\n              selectionMode=\"single\"\r\n              v-model:selection=\"product\"\r\n              v-model:filters=\"filters\"\r\n              @row-select=\"urunSec($event)\"\r\n              :scrollable=\"true\"\r\n              scrollHeight=\"450px\"\r\n            >\r\n              <Column\r\n                field=\"urunid\"\r\n                header=\"Id\"\r\n                headerStyle=\"width:60px;\"\r\n                bodyStyle=\"text-align:center;vertical-align:middle;\"\r\n              >\r\n                <template #body=\"slotProps\">\r\n                  {{ slotProps.data.urunid }}\r\n                </template>\r\n\r\n              </Column>\r\n              <Column\r\n                field=\"urunadi_en\"\r\n                header=\"Ürün\"\r\n                bodyStyle=\"text-align:center;vertical-align:middle;\"\r\n              >\r\n                <template #body=\"slotProps\">\r\n                  {{ slotProps.data.urunadi_en }}\r\n                </template>\r\n\r\n              </Column>\r\n              <Column\r\n                field=\"foto\"\r\n                header=\"Foto\"\r\n                headerStyle=\"width:120px;\"\r\n                bodyStyle=\"text-align:center;vertical-align:middle;\"\r\n              >\r\n                <template #body=\"slotProps\">\r\n                  <img :src=\"slotProps.data.foto\" width=\"100\" height=\"100\" />\r\n                </template>\r\n              </Column>\r\n            </DataTable>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"column is-5\">\r\n        <div class=\"columns is-multiline is-centered\">\r\n          <div class=\"column is-12\">\r\n            <h4>Suggested List</h4>\r\n          </div>\r\n          <div class=\"column is-4\">\r\n            <Button\r\n              class=\"p-button-danger\"\r\n              :disabled=\"dissil\"\r\n              @click=\"urunSil\"\r\n              label=\"Sil\"\r\n            />\r\n             \r\n          </div>\r\n          <div class=\"column is-12\">\r\n            <DataTable\r\n              class=\"p-datatable-responsive\"\r\n              :value=\"onerilenUrunList\"\r\n              @row-select=\"onerilenUrunSec($event)\"\r\n              dataKey=\"onerilenurunid\"\r\n              selectionMode=\"simple\"\r\n              v-model:selection=\"onerilenUrun\"\r\n              :scrollable=\"true\"\r\n              scrollHeight=\"450px\"\r\n            >\r\n              <Column\r\n                field=\"onerilenurunid\"\r\n                header=\"Id\"\r\n                headerStyle=\"width:60px;\"\r\n                bodyStyle=\"text-align:center;vertical-align:middle;\"\r\n              >\r\n                <template #body=\"slotProps\">\r\n                  {{ slotProps.data.onerilenurunid }}\r\n                </template>\r\n              </Column>\r\n              <Column\r\n                field=\"urunadi_en\"\r\n                header=\"Ürün\"\r\n                bodyStyle=\"text-align:center;vertical-align:middle;\"\r\n              >\r\n                <template #body=\"slotProps\">\r\n                  {{ slotProps.data.urunadi_en }}\r\n                </template>\r\n              </Column>\r\n              <Column\r\n                field=\"foto\"\r\n                header=\"Foto\"\r\n                headerStyle=\"width:150px;\"\r\n                bodyStyle=\"text-align:center;vertical-align:middle;\"\r\n              >\r\n                <template #body=\"slotProps\">\r\n                  <img :src=\"slotProps.data.nocdn\" width=\"100\" height=\"100\" />\r\n                </template>\r\n              </Column>\r\n            </DataTable>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"column is-2\" style=\"margin-top: 50px\">\r\n        <Button\r\n          class=\"p-button-success\"\r\n          @click=\"urunKaydet\"\r\n          :disabled=\"diskayit\"\r\n          label=\"Kaydet\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n<script>\r\n//import { mapGetters } from 'vuex';\r\n//import mekmarService from '../../service/MekmarService';\r\nimport service from \"@/service/MekmarPanelService\";\r\n\r\nexport default {\r\n  props: [\"productlist\", \"urunid\", \"kategori_id\"],\r\n\r\n  data() {\r\n    return {\r\n      filters: {},\r\n      product: null,\r\n      loading: false,\r\n      disekle: true,\r\n      dissil: true,\r\n      onerilenUrun: null,\r\n      silinenler: [],\r\n      eklenenler: [],\r\n      diskayit: true,\r\n      onerilenUrunList: null,\r\n    };\r\n  },\r\n  methods: {\r\n    urunSec(event) {\r\n      this.product = event.data;\r\n      this.disekle = false;\r\n    },\r\n    onerilenUrunSec(event) {\r\n      this.onerilenUrun = event.data;\r\n      this.dissil = false;\r\n    },\r\n    urunEkle() {\r\n      if (this.product) {\r\n        let kontrol = this.onerilenUrunList.find(\r\n          (x) => x.urunid == this.product.urunid\r\n        );\r\n\r\n        if (!kontrol) {\r\n          const data = this.product;\r\n\r\n          this.onerilenUrunList.push({\r\n            ...data,\r\n            nocdn: data.foto,\r\n            onerilenurunid: data.urunid,\r\n            urunid: this.urunid,\r\n          });\r\n\r\n          const customData = {\r\n            urunid: this.urunid,\r\n            benzerurunid: data.urunid,\r\n            kategori_id: this.kategori_id,\r\n          };\r\n\r\n          this.eklenenler.push(customData);\r\n\r\n          this.product = null;\r\n          this.disekle = true;\r\n        }\r\n\r\n        this.urunDegisiklikDurum();\r\n      }\r\n    },\r\n    urunSil() {\r\n      if (this.onerilenUrun) {\r\n        const data = {\r\n          ...this.onerilenUrun,\r\n          benzerurunid: this.onerilenUrun.onerilenurunid,\r\n        };\r\n        //eklenen ürünler de varsa silinmesi\r\n\r\n        for (let key in this.eklenenler) {\r\n          if (this.eklenenler[key].benzerurunid == this.onerilenUrun.urunid) {\r\n            this.eklenenler.splice(key, 1);\r\n          }\r\n        }\r\n\r\n        //silinen ürünlere eklenmesi\r\n        const customData = {\r\n          urunid: this.urunid,\r\n          onerilenurunid: data.onerilenurunid,\r\n          kategori_id: this.kategori_id,\r\n        };\r\n        for (let key in this.onerilenUrunList) {\r\n          if (\r\n            this.onerilenUrunList[key].onerilenurunid ==\r\n            customData.onerilenurunid\r\n          ) {\r\n            this.onerilenUrunList.splice(key, 1);\r\n          }\r\n        }\r\n        this.silinenler.push(customData);\r\n        this.onerilenUrunler = null;\r\n\r\n        this.urunDegisiklikDurum();\r\n      }\r\n    },\r\n    urunDegisiklikDurum() {\r\n      this.diskayit = true;\r\n      if (this.eklenenler.length > 0 || this.silinenler.length > 0)\r\n        this.diskayit = false;\r\n    },\r\n    urunKaydet() {\r\n      const data = {\r\n        eklenenler: this.eklenenler,\r\n        silinenler: this.silinenler,\r\n      };\r\n\r\n      this.diskayit = true;\r\n\r\n      service.onerilenUrunKayitIslem(data).then((res) => {\r\n        if (res) {\r\n          alert(\"Önerilen Ürün Kaydı Yapıldı.\");\r\n          this.eklenenler = [];\r\n          this.silinenler = [];\r\n        } else {\r\n          this.diskayit = false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.onerilenUrunList = this.$store.getters.onerilenUrunler;\r\n    },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}