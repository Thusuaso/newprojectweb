{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-1b213e70\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"columns is-multiline\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"column\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  style: {\n    \"text-decoration\": \"underline\",\n    \"font-size\": \"17px\"\n  }\n}, \" Dosya Yükleme: \")], -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"column\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"column\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  style: {\n    \"text-decoration\": \"underline\",\n    \"font-size\": \"17px\"\n  }\n}, \" İndir \")], -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"column\"\n};\nconst _hoisted_6 = [\"href\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_custom_file_input = _resolveComponent(\"custom-file-input\");\n  const _component_Button = _resolveComponent(\"Button\");\n  const _directive_tooltip = _resolveDirective(\"tooltip\");\n  return _openBlock(), _createElementBlock(\"section\", null, [_createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_custom_file_input, {\n    multiple: \"\",\n    modelValue: $data.files,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.files = $event),\n    state: Boolean($data.files),\n    baslik: \"Upload2\",\n    onSunucuDosyaYolla: _cache[1] || (_cache[1] = $event => $options.faturaDosyaGonder($event))\n  }, null, 8 /* PROPS */, [\"modelValue\", \"state\"])]), _hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"a\", {\n    href: $data.evrakLink,\n    target: \"_blank\"\n  }, [_withDirectives(_createVNode(_component_Button, {\n    style: {\n      \"width\": \"150px\"\n    },\n    disabled: $data.dis_download,\n    iconPos: \"left\",\n    icon: \"fas fa-download\",\n    class: \"p-button-success\",\n    label: \"Aç\"\n  }, null, 8 /* PROPS */, [\"disabled\"]), [[_directive_tooltip, 'Aç']])], 8 /* PROPS */, _hoisted_6)])])]);\n}","map":{"version":3,"mappings":";;;EAESA,KAAK,EAAC;AAAsB;gEAC/BC,oBAIM;EAJDD,KAAK,EAAC;AAAQ,iBACjBC,oBAEO;EAFDC,KAAmD,EAAnD;IAAA;IAAA;EAAA;AAAmD,GAAC,kBAE1D;;EAEGF,KAAK,EAAC;AAAQ;gEAUnBC,oBAEM;EAFDD,KAAK,EAAC;AAAQ,iBACjBC,oBAAwE;EAAlEC,KAAmD,EAAnD;IAAA;IAAA;EAAA;AAAmD,GAAC,SAAO;;EAE9DF,KAAK,EAAC;AAAQ;;;;;;uBApBvBG,oBAkCU,kBAjCRF,oBAgCM,OAhCNG,UAgCM,GA/BJC,UAIM,EACNJ,oBAQM,OARNK,UAQM,GAPJC,aAMEC;IALAC,QAAQ,EAAR,EAAQ;gBACCC,WAAK;+DAALA,WAAK;IACbC,KAAK,EAAEC,OAAO,CAACF,WAAK;IACrBG,MAAM,EAAC,SAAS;IACfC,kBAAgB,sCAAEC,0BAAiB,CAACC,MAAM;sDAI/CC,UAEM,EACNhB,oBAYM,OAZNiB,UAYM,GAXJjB,oBAUI;IAVAkB,IAAI,EAAET,eAAS;IAAEU,MAAM,EAAC;sBAC1Bb,aAQEc;IAPAnB,KAAoB,EAApB;MAAA;IAAA,CAAoB;IACnBoB,QAAQ,EAAEZ,kBAAY;IACvBa,OAAO,EAAC,MAAM;IACdC,IAAI,EAAC,iBAAiB;IACtBxB,KAAK,EAAC,kBAAkB;IAExByB,KAAK,EAAC;+DADK,IAAI","names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_custom_file_input","multiple","$data","state","Boolean","baslik","onSunucuDosyaYolla","$options","$event","_hoisted_4","_hoisted_5","href","target","_component_Button","disabled","iconPos","icon","label"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\evrakgiris\\EvrakDigerForm.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"columns is-multiline\">\r\n      <div class=\"column\">\r\n        <span style=\"text-decoration: underline; font-size: 17px\">\r\n          Dosya Yükleme:\r\n        </span>\r\n      </div>\r\n      <div class=\"column\">\r\n        <custom-file-input\r\n          multiple\r\n          v-model=\"files\"\r\n          :state=\"Boolean(files)\"\r\n          baslik=\"Upload2\"\r\n          @sunucuDosyaYolla=\"faturaDosyaGonder($event)\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"column\">\r\n        <span style=\"text-decoration: underline; font-size: 17px\"> İndir </span>\r\n      </div>\r\n      <div class=\"column\">\r\n        <a :href=\"evrakLink\" target=\"_blank\">\r\n          <Button\r\n            style=\"width: 150px\"\r\n            :disabled=\"dis_download\"\r\n            iconPos=\"left\"\r\n            icon=\"fas fa-download\"\r\n            class=\"p-button-success\"\r\n            v-tooltip=\"'Aç'\"\r\n            label=\"Aç\"\r\n          />\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n<script>\r\nimport service from \"@/service/OperasyonService\";\r\n\r\nimport CustomInputFile from \"@/components/shared/CustomInputFile\";\r\nimport { mapGetters } from \"vuex\";\r\nimport fileService from \"@/service/FileService\";\r\nexport default {\r\n  components: {\r\n    customFileInput: CustomInputFile,\r\n  },\r\n\r\n  mounted() {\r\n    this.yeniKayitBaslangicIslemler();\r\n  },\r\n  data() {\r\n    return {\r\n      evrakLink: \"\",\r\n      files: \"\",\r\n      dis_download: true,\r\n      evrak: null,\r\n      id: null,\r\n      siparisno: null,\r\n    };\r\n  },\r\n  localService: null,\r\n\r\n  computed: {\r\n    ...mapGetters([\"SiparisEvrakList\"]),\r\n  },\r\n  created() {\r\n    if (this.SiparisEvrakList.Listem != null) {\r\n      this.evrakLink = `${this.SiparisEvrakList.Listem.Draft}`;\r\n      this.dis_download = false;\r\n    } else {\r\n      this.dis_download = true;\r\n    }\r\n  },\r\n  methods: {\r\n    faturaDosyaGonder(event) {\r\n      if (event.size > 1000000) {\r\n        alert(\"Evrak Boyutunu Kontrol Ediniz.\");\r\n      } else {\r\n        fileService\r\n          .faturaDosyaGonder(\r\n            event,\r\n            this.SiparisEvrakList.ID,\r\n            this.SiparisEvrakList.siparisno\r\n          )\r\n          .then((data) => {\r\n            console.log(\"faturaDosyaGonder \", data);\r\n          });\r\n        this.KayitIslemi();\r\n      }\r\n    },\r\n\r\n    KayitIslemi() {\r\n      this.evrak.id = this.SiparisEvrakList.ID;\r\n      this.evrak.siparisno = this.SiparisEvrakList.siparisno; //this.evrak verileri koydum\r\n      this.evrak.kullaniciAdi = this.$store.getters.__getUsername;\r\n\r\n      this.yeniKayit();\r\n    },\r\n    yeniKayitBaslangicIslemler() {\r\n      service.getEvrakFaturaModel().then((data) => {\r\n        this.evrak = data.evrak;\r\n        this.id = null;\r\n        this.siparisno = null;\r\n        this.kullaniciAdi = this.$store.getters.__getUsername;\r\n      });\r\n    },\r\n    yeniKayit() {\r\n      const veri = {\r\n        evrak: this.evrak,\r\n      };\r\n      service.setEvrakFaturaKayit(veri.evrak).then((data) => {\r\n        if (data.status) {\r\n          //socket.siparis.emit('teklif_yeni_event',veri.kullaniciAdi);\r\n          this.evrak.id = data.id;\r\n          this.evrak.siparisno = data.siparisno;\r\n          this.evrak.kullaniciAdi = this.$store.getters.__getUsername;\r\n          this.evrakLink = `https://file-service.mekmar.com/file/download/${this.SiparisEvrakList.ID}/${this.SiparisEvrakList.siparisno}`;\r\n          this.dis_download = false;\r\n          alert(\"Başarılı şekilde yüklendi.\");\r\n          return;\r\n        } else {\r\n          alert(\"Ops! Lütfen Yeniden Deneyiniz.\");\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.card {\r\n  font-size: 20px;\r\n}\r\n.columns {\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  margin-top: 195px;\r\n  width: 70%;\r\n}\r\n\r\n/* Clear floats after the columns */\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}