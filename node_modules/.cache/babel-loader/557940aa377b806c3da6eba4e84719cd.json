{"ast":null,"code":"import service from \"../../service/RaporService\";\nimport { mapGetters } from 'vuex';\nexport default {\n  computed: {\n    ...mapGetters(['byMarketingMonthLoadIcPiyasaList', 'byMarketingMonthLoadMekmerList', 'icPiyasaSumFob', 'icPiyasaSumDdp', 'mekmerSumFob', 'mekmerSumDdp', 'servis_adres'])\n  },\n  data() {\n    return {\n      selectedIcPiyasa: null,\n      selectedMekmer: null,\n      icPiyasaAyrinti: null,\n      mekmerAyrinti: null,\n      isIcPiyasaForm: false,\n      isMekmerForm: false,\n      icPiyasaFobAyrintiSum: 0,\n      icPiyasaDdpAyrintiSum: 0,\n      icPiyasaNavlunAyrintiSum: 0,\n      icPiyasaDetay1AyrintiSum: 0,\n      icPiyasaDetay2AyrintiSum: 0,\n      icPiyasaDetay3AyrintiSum: 0,\n      icPiyasaDetay4AyrintiSum: 0,\n      mekmerFobAyrintiSum: 0,\n      mekmerDdpAyrintiSum: 0,\n      mekmerNavlunAyrintiSum: 0,\n      mekmerDetay1AyrintiSum: 0,\n      mekmerDetay2AyrintiSum: 0,\n      mekmerDetay3AyrintiSum: 0,\n      mekmerDetay4AyrintiSum: 0,\n      year: null,\n      ayrintiData: null\n    };\n  },\n  methods: {\n    get_excell_cikti() {\n      const data = {\n        'icPiyasa': this.byMarketingMonthLoadIcPiyasaList,\n        'mekmer': this.byMarketingMonthLoadMekmerList\n      };\n      this.$store.dispatch('loadBegin');\n      service.get_month_marketing_excell_cikti(data).then(response => {\n        if (response.status) {\n          const link = document.createElement(\"a\");\n          link.href = this.servis_adres + 'raporlar/musteri/monthMarketingExcell';\n          //link.href = \"http://localhost:5000/raporlar/musteri/musteriexcellCikti\"\n          link.setAttribute('download', 'aylik_marketing.xlsx');\n          document.body.appendChild(link);\n          link.click();\n          this.is_excel = false;\n          this.$store.dispatch('loadEnd'); // loading sonlandırma png\n        }\n      });\n    },\n\n    get_excell_cikti_ayrinti() {\n      this.$store.dispatch('loadBegin');\n      if (this.icPiyasaAyrinti != null) {\n        this.ayrintiData = this.icPiyasaAyrinti;\n      } else if (this.mekmerAyrinti != null) {\n        this.ayrintiData = this.mekmerAyrinti;\n      }\n      service.get_month_marketing_ayrinti_excell_cikti(this.ayrintiData).then(response => {\n        if (response.status) {\n          const link = document.createElement(\"a\");\n          link.href = this.servis_adres + 'raporlar/musteri/monthMarketingAyrintiExcell';\n          //link.href = \"http://localhost:5000/raporlar/musteri/musteriexcellCikti\"\n          link.setAttribute('download', 'aylik_marketing.xlsx');\n          document.body.appendChild(link);\n          link.click();\n          this.is_excel = false;\n          this.$store.dispatch('loadEnd'); // loading sonlandırma png\n          this.isIcPiyasaForm = false;\n          this.isMekmerForm = false;\n          this.icPiyasaAyrinti = null;\n          this.mekmerAyrinti = null;\n        }\n      });\n    },\n    isSelectedIcPiyasa(event) {\n      service.getAyBazindaMarketingIcPiyasaYuklemeler(event.data.monthNum).then(data => {\n        this.icPiyasaAyrinti = data;\n        this.icPiyasaFobAyrintiSum = 0;\n        this.icPiyasaDdpAyrintiSum = 0;\n        this.icPiyasaNavlunAyrintiSum = 0;\n        this.icPiyasaDetay1AyrintiSum = 0;\n        this.icPiyasaDetay2AyrintiSum = 0;\n        this.icPiyasaDetay3AyrintiSum = 0;\n        this.icPiyasaDetay4AyrintiSum = 0;\n        for (let i of data) {\n          this.icPiyasaFobAyrintiSum += i.fob;\n          this.icPiyasaDdpAyrintiSum += i.ddp;\n          this.icPiyasaDetay1AyrintiSum += i.detay1;\n          this.icPiyasaDetay2AyrintiSum += i.detay2;\n          this.icPiyasaDetay3AyrintiSum += i.detay3;\n          this.icPiyasaDetay4AyrintiSum += i.detay4;\n          this.icPiyasaNavlunAyrintiSum += i.navlun;\n        }\n        this.isIcPiyasaForm = true;\n      });\n    },\n    isSelectedMekmer(event) {\n      service.getAyBazindaMarketingMekmerYuklemeler(event.data.monthNum).then(data => {\n        this.mekmerAyrinti = data;\n        this.mekmerFobAyrintiSum = 0;\n        this.mekmerDdpAyrintiSum = 0;\n        this.mekmerNavlunAyrintiSum = 0;\n        this.mekmerDetay1AyrintiSum = 0;\n        this.mekmerDetay2AyrintiSum = 0;\n        this.mekmerDetay3AyrintiSum = 0;\n        this.mekmerDetay4AyrintiSum = 0;\n        for (let i of data) {\n          this.mekmerFobAyrintiSum += i.fob;\n          this.mekmerDdpAyrintiSum += i.ddp;\n          this.mekmerNavlunAyrintiSum += i.navlun;\n          this.mekmerDetay1AyrintiSum += i.detay1;\n          this.mekmerDetay2AyrintiSum += i.detay2;\n          this.mekmerDetay3AyrintiSum += i.detay3;\n          this.mekmerDetay4AyrintiSum += i.detay4;\n        }\n        this.isMekmerForm = true;\n      });\n    },\n    formatPrice(value) {\n      let val = (value / 1).toFixed(2).replace('.', ',');\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    },\n    icPiyasaTop(data) {\n      this.icPiyasaSumFob = 0;\n      for (let i of data) {\n        this.icPiyasaSumFob += i.fob;\n        this.icPiyasaSumDdp += i.ddp;\n      }\n    },\n    mekmerTop(data) {\n      this.mekmerSumFob = 0;\n      for (let i of data) {\n        this.mekmerSumFob += i.fob;\n        this.mekmerSumDdp += i.ddp;\n      }\n    }\n  },\n  created() {\n    const date = new Date();\n    this.year = date.getFullYear();\n    service.getAyBazindaMarketingYuklemeler().then(data => {\n      this.$store.dispatch(\"byMarketingLoadMonthListAct\", data);\n    });\n  }\n};","map":{"version":3,"mappings":"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","names":["service","mapGetters","computed","data","selectedIcPiyasa","selectedMekmer","icPiyasaAyrinti","mekmerAyrinti","isIcPiyasaForm","isMekmerForm","icPiyasaFobAyrintiSum","icPiyasaDdpAyrintiSum","icPiyasaNavlunAyrintiSum","icPiyasaDetay1AyrintiSum","icPiyasaDetay2AyrintiSum","icPiyasaDetay3AyrintiSum","icPiyasaDetay4AyrintiSum","mekmerFobAyrintiSum","mekmerDdpAyrintiSum","mekmerNavlunAyrintiSum","mekmerDetay1AyrintiSum","mekmerDetay2AyrintiSum","mekmerDetay3AyrintiSum","mekmerDetay4AyrintiSum","year","ayrintiData","methods","get_excell_cikti","byMarketingMonthLoadIcPiyasaList","byMarketingMonthLoadMekmerList","$store","dispatch","get_month_marketing_excell_cikti","then","response","status","link","document","createElement","href","servis_adres","setAttribute","body","appendChild","click","is_excel","get_excell_cikti_ayrinti","get_month_marketing_ayrinti_excell_cikti","isSelectedIcPiyasa","event","getAyBazindaMarketingIcPiyasaYuklemeler","monthNum","i","fob","ddp","detay1","detay2","detay3","detay4","navlun","isSelectedMekmer","getAyBazindaMarketingMekmerYuklemeler","formatPrice","value","val","toFixed","replace","toString","icPiyasaTop","icPiyasaSumFob","icPiyasaSumDdp","mekmerTop","mekmerSumFob","mekmerSumDdp","created","date","Date","getFullYear","getAyBazindaMarketingYuklemeler"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\newyuklemeraporlari\\ayBazindaMarketingYuklemeler.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <br />\r\n        <b-button @click=\"get_excell_cikti\"\r\n            style=\"background-color:#fff;border:none;width:15px;margin-top:-7px;margin-right:5px;\"><i\r\n                class=\"fa-solid fa-file-excel fa-2xl\"></i></b-button>\r\n        <div class=\"columns\">\r\n            <div class=\"column is-6\">\r\n                <DataTable :value=\"byMarketingMonthLoadIcPiyasaList\" responsiveLayout=\"scroll\" :selection=\"selectedIcPiyasa\" selectionMode=\"single\" @row-select=\"isSelectedIcPiyasa\">\r\n                    <template #header>\r\n                        <div class=\"table-header\">\r\n                            İç Piyasa Yükleme ({{ year }})\r\n                        </div>\r\n                    </template>\r\n                    <Column field=\"month\" header=\"AY\" bodyStyle=\"text-align:center\"></Column>\r\n                    <Column field=\"fob\" header=\"FOB\" bodyStyle=\"text-align:center\">\r\n                        <template #body=\"slotProps\">\r\n                            {{ formatPrice(slotProps.data.fob)}}\r\n                        </template>\r\n                        <template #footer>\r\n                            {{ formatPrice(icPiyasaSumFob)}}\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"ddp\" header=\"DDP\" bodyStyle=\"text-align:center\">\r\n                        <template #body=\"slotProps\">\r\n                            {{ formatPrice(slotProps.data.ddp)}}\r\n                        </template>\r\n                        <template #footer>\r\n                            {{ formatPrice(icPiyasaSumDdp)}}\r\n                        </template>\r\n                    </Column>\r\n                </DataTable>\r\n            </div>\r\n            <div class=\"column is-6\">\r\n                <DataTable :value=\"byMarketingMonthLoadMekmerList\" responsiveLayout=\"scroll\" :selection=\"selectedMekmer\" selectionMode=\"single\" @row-select=\"isSelectedMekmer\">\r\n                    <template #header>\r\n                        <div class=\"table-header\">\r\n                            Mekmer Yükleme ({{ year }})\r\n                        </div>\r\n                    </template>\r\n                    <Column field=\"month\" header=\"AY\" bodyStyle=\"text-align:center\"></Column>\r\n                    <Column field=\"fob\" header=\"FOB\" bodyStyle=\"text-align:center\">\r\n                        <template #body=\"slotProps\">\r\n                            {{ formatPrice(slotProps.data.fob)}}\r\n                        </template>\r\n                        <template #footer>\r\n                            {{ formatPrice(mekmerSumFob)}}\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"ddp\" header=\"DDP\" bodyStyle=\"text-align:center\">\r\n                        <template #body=\"slotProps\">\r\n                            {{ formatPrice(slotProps.data.ddp)}}\r\n                        </template>\r\n                        <template #footer>\r\n                            {{ formatPrice(mekmerSumDdp)}}\r\n                        </template>\r\n                    </Column>\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n        <Dialog :visible.sync=\"isIcPiyasaForm\" header=\"İç Piyasa Yükleme Ayrinti\" :modal=\"true\">\r\n            <Button label=\"Excel\" @click=\"get_excell_cikti_ayrinti\" icon=\"fa-solid fa-file-excel\"/>\r\n            <DataTable :value=\"icPiyasaAyrinti\" responsiveLayout=\"scroll\">\r\n                <Column field=\"siparisNo\" header=\"Sipariş No\" bodyStyle=\"text-align:center\"></Column>\r\n                <Column field=\"fob\" header=\"Fob\" bodyStyle=\"text-align:center\">\r\n                    <template #body=\"slotProps\">\r\n                        {{formatPrice(slotProps.data.fob)}}\r\n                    </template>\r\n                    <template #footer>\r\n                        {{ formatPrice(icPiyasaFobAyrintiSum)}}\r\n                    </template>\r\n                </Column>\r\n                <Column field=\"navlun\" header=\"Navlun\" bodyStyle=\"text-align:center\">\r\n                    <template #body=\"slotProps\">\r\n                        {{formatPrice(slotProps.data.navlun)}}\r\n                    </template>\r\n                    <template #footer>\r\n                        {{ formatPrice(icPiyasaNavlunAyrintiSum)}}\r\n                    </template>\r\n                </Column>\r\n                <Column field=\"detay1\" header=\"Detay Tutar 1\" bodyStyle=\"text-align:center\">\r\n                    <template #body=\"slotProps\">\r\n                        {{ formatPrice(slotProps.data.detay1)}}\r\n                    </template>\r\n                    <template #footer>\r\n                        {{ formatPrice(icPiyasaDetay1AyrintiSum)}}\r\n                    </template>\r\n                </Column>\r\n                <Column field=\"detay2\" header=\"Detay Tutar 2\" bodyStyle=\"text-align:center\">\r\n                    <template #body=\"slotProps\">\r\n                        {{ formatPrice(slotProps.data.detay2)}}\r\n                    </template>\r\n                    <template #footer>\r\n                        {{ formatPrice(icPiyasaDetay2AyrintiSum)}}\r\n                    </template>\r\n                </Column>\r\n                <Column field=\"detay3\" header=\"Detay Tutar 3\" bodyStyle=\"text-align:center\">\r\n                    <template #body=\"slotProps\">\r\n                        {{ formatPrice(slotProps.data.detay3)}}\r\n                    </template>\r\n                    <template #footer>\r\n                        {{ formatPrice(icPiyasaDetay3AyrintiSum)}}\r\n                    </template>\r\n                </Column>\r\n                <Column field=\"detay4\" header=\"Detay Tutar 4\" bodyStyle=\"text-align:center\">\r\n                    <template #body=\"slotProps\">\r\n                        {{ formatPrice(slotProps.data.detay4)}}\r\n                    </template>\r\n                    <template #footer>\r\n                        {{ formatPrice(icPiyasaDetay4AyrintiSum)}}\r\n                    </template>\r\n                </Column>\r\n\r\n                <Column field=\"ddp\" header=\"Ddp\" bodyStyle=\"text-align:center\">\r\n                    <template #body=\"slotProps\">\r\n                        {{ formatPrice(slotProps.data.ddp)}}\r\n                    </template>\r\n                    <template #footer>\r\n                        {{ formatPrice(icPiyasaDdpAyrintiSum)}}\r\n                    </template>\r\n                </Column>\r\n            </DataTable>\r\n        </Dialog>\r\n        <Dialog :visible.sync=\"isMekmerForm\" header=\"Mekmer Yükleme Ayrinti\" :modal=\"true\">\r\n            <Button label=\"Excel\" @click=\"get_excell_cikti_ayrinti\" icon=\"fa-solid fa-file-excel\" />\r\n            <DataTable :value=\"mekmerAyrinti\" responsiveLayout=\"scroll\">\r\n                <Column field=\"siparisNo\" header=\"Sipariş No\" bodyStyle=\"text-align:center\">\r\n                </Column>\r\n                <Column field=\"fob\" header=\"Fob\" bodyStyle=\"text-align:center\">\r\n                    <template #body=\"slotProps\">\r\n                        {{ formatPrice(slotProps.data.fob)}}\r\n                    </template>\r\n                    <template #footer>\r\n                        {{ formatPrice(mekmerFobAyrintiSum)}}\r\n                    </template>\r\n                </Column>\r\n                <Column field=\"navlun\" header=\"Navlun\" bodyStyle=\"text-align:center\">\r\n                    <template #body=\"slotProps\">\r\n                        {{formatPrice(slotProps.data.navlun)}}\r\n                    </template>\r\n                    <template #footer>\r\n                        {{ formatPrice(mekmerNavlunAyrintiSum)}}\r\n\r\n                    </template>\r\n                </Column>\r\n                <Column field=\"detay1\" header=\"Detay Tutar 1\" bodyStyle=\"text-align:center\">\r\n                    <template #body=\"slotProps\">\r\n                        {{ formatPrice(slotProps.data.detay1)}}\r\n                    </template>\r\n                    <template #footer>\r\n                        {{ formatPrice(mekmerDetay1AyrintiSum)}}\r\n                    \r\n                    </template>\r\n                </Column>\r\n                <Column field=\"detay2\" header=\"Detay Tutar 2\" bodyStyle=\"text-align:center\">\r\n                    <template #body=\"slotProps\">\r\n                        {{ formatPrice(slotProps.data.detay2)}}\r\n                    </template>\r\n                    <template #footer>\r\n                        {{ formatPrice(mekmerDetay2AyrintiSum)}}\r\n                    \r\n                    </template>\r\n                </Column>\r\n                <Column field=\"detay3\" header=\"Detay Tutar 3\" bodyStyle=\"text-align:center\">\r\n                    <template #body=\"slotProps\">\r\n                        {{ formatPrice(slotProps.data.detay3)}}\r\n                    </template>\r\n                    <template #footer>\r\n                        {{ formatPrice(mekmerDetay3AyrintiSum)}}\r\n                    \r\n                    </template>\r\n                </Column>\r\n                <Column field=\"detay4\" header=\"Detay Tutar 4\" bodyStyle=\"text-align:center\">\r\n                    <template #body=\"slotProps\">\r\n                        {{ formatPrice(slotProps.data.detay4)}}\r\n                    </template>\r\n                    <template #footer>\r\n                        {{ formatPrice(mekmerDetay4AyrintiSum)}}\r\n                    \r\n                    </template>\r\n                </Column>\r\n                <Column field=\"ddp\" header=\"Ddp\" bodyStyle=\"text-align:center\">\r\n                    <template #body=\"slotProps\">\r\n                        {{ formatPrice(slotProps.data.ddp)}}\r\n                    </template>\r\n                    <template #footer>\r\n                        {{ formatPrice(mekmerDdpAyrintiSum)}}\r\n                    </template>\r\n                </Column>\r\n            </DataTable>\r\n        </Dialog>\r\n    </div>\r\n    \r\n</template>\r\n\r\n<script>\r\nimport service from \"../../service/RaporService\"\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n    computed: {\r\n        ...mapGetters([\r\n            'byMarketingMonthLoadIcPiyasaList',\r\n            'byMarketingMonthLoadMekmerList',\r\n            'icPiyasaSumFob',\r\n            'icPiyasaSumDdp',\r\n            'mekmerSumFob',\r\n            'mekmerSumDdp',\r\n            'servis_adres'\r\n        ])\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            \r\n            selectedIcPiyasa: null,\r\n            selectedMekmer: null,\r\n            icPiyasaAyrinti: null,\r\n            mekmerAyrinti: null,\r\n            isIcPiyasaForm: false,\r\n            isMekmerForm: false,\r\n            icPiyasaFobAyrintiSum: 0,\r\n            icPiyasaDdpAyrintiSum: 0,\r\n            icPiyasaNavlunAyrintiSum: 0,\r\n            icPiyasaDetay1AyrintiSum: 0,\r\n            icPiyasaDetay2AyrintiSum: 0,\r\n            icPiyasaDetay3AyrintiSum: 0,\r\n            icPiyasaDetay4AyrintiSum: 0,\r\n\r\n            mekmerFobAyrintiSum: 0,\r\n            mekmerDdpAyrintiSum: 0,\r\n            mekmerNavlunAyrintiSum: 0,\r\n            mekmerDetay1AyrintiSum: 0,\r\n            mekmerDetay2AyrintiSum: 0,\r\n            mekmerDetay3AyrintiSum: 0,\r\n            mekmerDetay4AyrintiSum: 0,\r\n\r\n            year:null,\r\n            ayrintiData:null,\r\n        }\r\n    },\r\n    methods: {\r\n        get_excell_cikti() {\r\n            const data = {\r\n                'icPiyasa': this.byMarketingMonthLoadIcPiyasaList,\r\n                'mekmer': this.byMarketingMonthLoadMekmerList\r\n            }\r\n            this.$store.dispatch('loadBegin')\r\n            service.get_month_marketing_excell_cikti(data).then(response => {\r\n\r\n                if (response.status) {\r\n                    const link = document.createElement(\"a\")\r\n                    link.href = this.servis_adres + 'raporlar/musteri/monthMarketingExcell'\r\n                    //link.href = \"http://localhost:5000/raporlar/musteri/musteriexcellCikti\"\r\n                    link.setAttribute('download', 'aylik_marketing.xlsx')\r\n                    document.body.appendChild(link)\r\n                    link.click()\r\n                    this.is_excel = false\r\n                    this.$store.dispatch('loadEnd') // loading sonlandırma png\r\n                }\r\n            })\r\n        },\r\n        get_excell_cikti_ayrinti() {\r\n            this.$store.dispatch('loadBegin')\r\n\r\n            if (this.icPiyasaAyrinti != null) {\r\n                this.ayrintiData = this.icPiyasaAyrinti\r\n            } else if (this.mekmerAyrinti != null) {\r\n                this.ayrintiData = this.mekmerAyrinti\r\n            }\r\n            service.get_month_marketing_ayrinti_excell_cikti(this.ayrintiData).then(response => {\r\n\r\n                if (response.status) {\r\n                    const link = document.createElement(\"a\")\r\n                    link.href = this.servis_adres + 'raporlar/musteri/monthMarketingAyrintiExcell'\r\n                    //link.href = \"http://localhost:5000/raporlar/musteri/musteriexcellCikti\"\r\n                    link.setAttribute('download', 'aylik_marketing.xlsx')\r\n                    document.body.appendChild(link)\r\n                    link.click()\r\n                    this.is_excel = false\r\n                    this.$store.dispatch('loadEnd') // loading sonlandırma png\r\n                    this.isIcPiyasaForm= false\r\n                    this.isMekmerForm= false\r\n                    this.icPiyasaAyrinti = null\r\n                    this.mekmerAyrinti = null\r\n                    \r\n\r\n                }\r\n            })\r\n        },\r\n        isSelectedIcPiyasa(event) {\r\n            service.getAyBazindaMarketingIcPiyasaYuklemeler(event.data.monthNum).then(data => {\r\n                this.icPiyasaAyrinti = data\r\n                this.icPiyasaFobAyrintiSum= 0\r\n                this.icPiyasaDdpAyrintiSum = 0\r\n                this.icPiyasaNavlunAyrintiSum = 0\r\n                this.icPiyasaDetay1AyrintiSum = 0\r\n                this.icPiyasaDetay2AyrintiSum = 0\r\n                this.icPiyasaDetay3AyrintiSum = 0\r\n                this.icPiyasaDetay4AyrintiSum = 0\r\n                for (let i of data) {\r\n                    this.icPiyasaFobAyrintiSum += i.fob\r\n                    this.icPiyasaDdpAyrintiSum += i.ddp\r\n                    this.icPiyasaDetay1AyrintiSum += i.detay1\r\n                    this.icPiyasaDetay2AyrintiSum += i.detay2\r\n                    this.icPiyasaDetay3AyrintiSum += i.detay3\r\n                    this.icPiyasaDetay4AyrintiSum += i.detay4\r\n                    this.icPiyasaNavlunAyrintiSum += i.navlun\r\n                }\r\n                this.isIcPiyasaForm = true\r\n\r\n            })\r\n        },\r\n        isSelectedMekmer(event) {\r\n            service.getAyBazindaMarketingMekmerYuklemeler(event.data.monthNum).then(data => {\r\n                this.mekmerAyrinti = data\r\n                this.mekmerFobAyrintiSum= 0\r\n                this.mekmerDdpAyrintiSum = 0\r\n                this.mekmerNavlunAyrintiSum= 0\r\n                this.mekmerDetay1AyrintiSum= 0\r\n                this.mekmerDetay2AyrintiSum= 0\r\n                this.mekmerDetay3AyrintiSum= 0\r\n                this.mekmerDetay4AyrintiSum= 0\r\n                for (let i of data) {\r\n                    this.mekmerFobAyrintiSum += i.fob\r\n                    this.mekmerDdpAyrintiSum += i.ddp\r\n                    this.mekmerNavlunAyrintiSum += i.navlun\r\n                    this.mekmerDetay1AyrintiSum += i.detay1\r\n                    this.mekmerDetay2AyrintiSum += i.detay2\r\n                    this.mekmerDetay3AyrintiSum += i.detay3\r\n                    this.mekmerDetay4AyrintiSum += i.detay4\r\n                }\r\n                this.isMekmerForm = true\r\n            })\r\n        },\r\n        \r\n        formatPrice(value) {\r\n            let val = (value / 1).toFixed(2).replace('.', ',')\r\n            return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")\r\n        },\r\n        icPiyasaTop(data) {\r\n            this.icPiyasaSumFob = 0\r\n            for (let i of data) {\r\n                this.icPiyasaSumFob += i.fob\r\n                this.icPiyasaSumDdp += i.ddp\r\n            }\r\n        },\r\n        mekmerTop(data) {\r\n            this.mekmerSumFob = 0\r\n            for (let i of data) {\r\n                this.mekmerSumFob += i.fob\r\n                this.mekmerSumDdp += i.ddp\r\n            }\r\n        }\r\n        \r\n    },\r\n    created() {\r\n        const date = new Date()\r\n        this.year = date.getFullYear()\r\n        service.getAyBazindaMarketingYuklemeler().then(data => {\r\n            this.$store.dispatch(\"byMarketingLoadMonthListAct\", data)\r\n        })\r\n    }\r\n\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}