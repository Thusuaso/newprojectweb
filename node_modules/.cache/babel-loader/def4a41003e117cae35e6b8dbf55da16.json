{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport service from \"@/service/CeyreklikSatislarService\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  computed: {\n    ...mapGetters([\"ceyreklikSatislarList\", \"chartData\", \"statisticsData\"])\n  },\n  data() {\n    return {\n      satisToplamiSum: 0,\n      navlunSatisSum: 0,\n      navlunAlisSum: 0,\n      ekTutarlarSum: 0,\n      masraflarSum: 0,\n      genelToplamSum: 0,\n      selectedQuarter: {\n        id: 0,\n        quarter: \"Hepsi\"\n      },\n      quarters: [],\n      selectedYear: {\n        year: new Date().getFullYear()\n      },\n      yearOld: 0,\n      yearNow: 0,\n      years: [],\n      lightOptions: {\n        plugins: {\n          legend: {\n            labels: {\n              color: \"#495057\"\n            }\n          }\n        }\n      },\n      quarterDatas: null\n    };\n  },\n  methods: {\n    quarterChange(event) {\n      if (event.value.id == 0) {\n        this.$store.dispatch(\"ceyreklik_satislar_load\", this.quarterDatas);\n        this.toplama(this.quarterDatas);\n      } else if (event.value.id == 1) {\n        const data = this.quarterDatas.filter(x => x.ay <= 3);\n        this.toplama(data);\n        this.$store.dispatch(\"ceyreklik_satislar_load\", data);\n      } else if (event.value.id == 2) {\n        const data = this.quarterDatas.filter(x => x.ay > 3 && x.ay <= 6);\n        this.toplama(data);\n        this.$store.dispatch(\"ceyreklik_satislar_load\", data);\n      } else if (event.value.id == 3) {\n        const data = this.quarterDatas.filter(x => x.ay > 6 && x.ay <= 9);\n        this.toplama(data);\n        this.$store.dispatch(\"ceyreklik_satislar_load\", data);\n      } else if (event.value.id == 4) {\n        const data = this.quarterDatas.filter(x => x.ay > 9 && x.ay <= 12);\n        this.toplama(data);\n        this.$store.dispatch(\"ceyreklik_satislar_load\", data);\n      }\n    },\n    yearChange(event) {\n      service.getCeyreklikSatislar(event.value.year).then(data => {\n        this.quarterDatas = data.satislar;\n        this.$store.dispatch(\"ceyreklik_satislar_load\", data.satislar);\n        this.$store.dispatch(\"chart_data_load\", data.chart);\n        this.$store.dispatch(\"statistics_data_load\", data.statistics);\n        const month = new Date().getMonth();\n        const year = new Date().getFullYear();\n        if (year == event.value.year) {\n          this.quarters = [];\n          if (month < 4) {\n            this.quarters.push({\n              id: 0,\n              quarter: \"Hepsi\"\n            }, {\n              id: 1,\n              quarter: \"1. Çeyrek\"\n            });\n          } else if (month < 7) {\n            this.quarters.push({\n              id: 0,\n              quarter: \"Hepsi\"\n            }, {\n              id: 1,\n              quarter: \"1. Çeyrek\"\n            }, {\n              id: 2,\n              quarter: \"2. Çeyrek\"\n            });\n          } else if (month < 10) {\n            this.quarters.push({\n              id: 0,\n              quarter: \"Hepsi\"\n            }, {\n              id: 1,\n              quarter: \"1. Çeyrek\"\n            }, {\n              id: 2,\n              quarter: \"2. Çeyrek\"\n            }, {\n              id: 3,\n              quarter: \"3. Çeyrek\"\n            });\n          } else {\n            this.quarters.push({\n              id: 0,\n              quarter: \"Hepsi\"\n            }, {\n              id: 1,\n              quarter: \"1. Çeyrek\"\n            }, {\n              id: 2,\n              quarter: \"2. Çeyrek\"\n            }, {\n              id: 3,\n              quarter: \"3. Çeyrek\"\n            }, {\n              id: 4,\n              quarter: \"4. Çeyrek\"\n            });\n          }\n        } else {\n          this.quarters = [];\n          this.quarters.push({\n            id: 0,\n            quarter: \"Hepsi\"\n          }, {\n            id: 1,\n            quarter: \"1. Çeyrek\"\n          }, {\n            id: 2,\n            quarter: \"2. Çeyrek\"\n          }, {\n            id: 3,\n            quarter: \"3. Çeyrek\"\n          }, {\n            id: 4,\n            quarter: \"4. Çeyrek\"\n          });\n        }\n        this.toplama(data.satislar);\n      });\n    },\n    formatPrice(value) {\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    },\n    toplama(data) {\n      this.satisToplamiSum = 0;\n      this.navlunSatisSum = 0;\n      this.navlunAlisSum = 0;\n      this.ekTutarlarSum = 0;\n      this.masraflarSum = 0;\n      this.genelToplamSum = 0;\n      for (let i in data) {\n        this.satisToplamiSum += data[i].satisToplami;\n        this.navlunSatisSum += data[i].navlunSatis;\n        this.navlunAlisSum += data[i].navlunAlis;\n        this.ekTutarlarSum += data[i].ekTutarlar;\n        this.masraflarSum += data[i].masraflar;\n        this.genelToplamSum += data[i].genelToplam;\n      }\n    },\n    formatDecimal(value) {\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\n      return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    }\n  },\n  created() {\n    const month = new Date().getMonth();\n    if (month < 4) {\n      this.quarters.push({\n        id: 0,\n        quarter: \"Hepsi\"\n      }, {\n        id: 1,\n        quarter: \"1. Çeyrek\"\n      });\n    } else if (month < 7) {\n      this.quarters.push({\n        id: 0,\n        quarter: \"Hepsi\"\n      }, {\n        id: 1,\n        quarter: \"1. Çeyrek\"\n      }, {\n        id: 2,\n        quarter: \"2. Çeyrek\"\n      });\n    } else if (month < 10) {\n      this.quarters.push({\n        id: 0,\n        quarter: \"Hepsi\"\n      }, {\n        id: 1,\n        quarter: \"1. Çeyrek\"\n      }, {\n        id: 2,\n        quarter: \"2. Çeyrek\"\n      }, {\n        id: 3,\n        quarter: \"3. Çeyrek\"\n      });\n    } else {\n      this.quarters.push({\n        id: 0,\n        quarter: \"Hepsi\"\n      }, {\n        id: 1,\n        quarter: \"1. Çeyrek\"\n      }, {\n        id: 2,\n        quarter: \"2. Çeyrek\"\n      }, {\n        id: 3,\n        quarter: \"3. Çeyrek\"\n      }, {\n        id: 4,\n        quarter: \"4. Çeyrek\"\n      });\n    }\n    this.yearOld = new Date().getFullYear() - 5;\n    this.yearNow = new Date().getFullYear();\n    while (this.yearOld <= this.yearNow) {\n      this.years.push({\n        year: this.yearOld\n      });\n      this.yearOld++;\n    }\n    this.$store.dispatch(\"loadingBeginAct\");\n    service.getCeyreklikSatislar(new Date().getFullYear()).then(data => {\n      this.quarterDatas = data.satislar;\n      this.$store.dispatch(\"ceyreklik_satislar_load\", data.satislar);\n      this.$store.dispatch(\"chart_data_load\", data.chart);\n      this.$store.dispatch(\"statistics_data_load\", data.statistics);\n      this.toplama(data.satislar);\n      this.$store.dispatch(\"loadingEndAct\");\n    });\n  }\n};","map":{"version":3,"mappings":"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","names":["service","mapGetters","computed","data","satisToplamiSum","navlunSatisSum","navlunAlisSum","ekTutarlarSum","masraflarSum","genelToplamSum","selectedQuarter","id","quarter","quarters","selectedYear","year","Date","getFullYear","yearOld","yearNow","years","lightOptions","plugins","legend","labels","color","quarterDatas","methods","quarterChange","event","value","$store","dispatch","toplama","filter","x","ay","yearChange","getCeyreklikSatislar","then","satislar","chart","statistics","month","getMonth","push","formatPrice","val","toFixed","replace","toString","i","satisToplami","navlunSatis","navlunAlis","ekTutarlar","masraflar","genelToplam","formatDecimal","created"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\views\\CeyreklikSatislar.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"columns is-centered\">\r\n      <div class=\"column\">\r\n        <Dropdown\r\n          v-model=\"selectedYear\"\r\n          :options=\"years\"\r\n          optionLabel=\"year\"\r\n          @change=\"yearChange\"\r\n          placeholder=\"Select a Year\"\r\n        />\r\n      </div>\r\n      <div class=\"column\">\r\n        <Dropdown\r\n          v-model=\"selectedQuarter\"\r\n          style=\"width: 150px\"\r\n          :options=\"quarters\"\r\n          optionLabel=\"quarter\"\r\n          @change=\"quarterChange\"\r\n          placeholder=\"Select a Quarter\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"columns\">\r\n      <div class=\"column is-8\">\r\n        <DataTable :value=\"ceyreklikSatislarList\" responsiveLayout=\"scroll\">\r\n          <Column field=\"ayStr\" header=\"Ay\"></Column>\r\n          <Column\r\n            field=\"satisToplami\"\r\n            header=\"Satış Toplamı\"\r\n            bodyStyle=\"text-align:center;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ formatPrice(slotProps.data.satisToplami) }}\r\n            </template>\r\n            <template #footer>\r\n              {{ formatPrice(satisToplamiSum) }}\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"navlunSatis\"\r\n            header=\"Navlun Satış\"\r\n            bodyStyle=\"text-align:center;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ formatPrice(slotProps.data.navlunSatis) }}\r\n            </template>\r\n            <template #footer>\r\n              {{ formatPrice(navlunSatisSum) }}\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"navlunAlis\"\r\n            header=\"Navlun Alış\"\r\n            bodyStyle=\"text-align:center;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ formatPrice(slotProps.data.navlunAlis) }}\r\n            </template>\r\n            <template #footer>\r\n              {{ formatPrice(navlunAlisSum) }}\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"ekTutarlar\"\r\n            header=\"Ek Tutarlar\"\r\n            bodyStyle=\"text-align:center;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ formatPrice(slotProps.data.ekTutarlar) }}\r\n            </template>\r\n            <template #footer>\r\n              {{ formatPrice(ekTutarlarSum) }}\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"masraflar\"\r\n            header=\"Masraflar\"\r\n            bodyStyle=\"text-align:center;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ formatPrice(slotProps.data.masraflar) }}\r\n            </template>\r\n            <template #footer>\r\n              {{ formatPrice(masraflarSum) }}\r\n            </template>\r\n          </Column>\r\n          <Column\r\n            field=\"genelToplam\"\r\n            header=\"Genel Toplam\"\r\n            bodyStyle=\"text-align:center;\"\r\n          >\r\n            <template #body=\"slotProps\">\r\n              {{ formatPrice(slotProps.data.genelToplam) }}\r\n            </template>\r\n            <template #footer>\r\n              {{ formatPrice(genelToplamSum) }}\r\n            </template>\r\n          </Column>\r\n        </DataTable>\r\n      </div>\r\n      <div class=\"column is-4\">\r\n        <Chart type=\"pie\" :data=\"chartData\" :options=\"lightOptions\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"columns is-centered\">\r\n      <div class=\"column is-12\">\r\n        <table style=\"width: 100%\">\r\n          <tr>\r\n            <th>Çeyrekler</th>\r\n            <th>Ortalama</th>\r\n            <th>Varyans</th>\r\n            <th>Standart Sapma</th>\r\n            <th>Yükleme Yüzdesi (%)</th>\r\n          </tr>\r\n          <tr>\r\n            <td>1. Çeyrek</td>\r\n            <td>{{ formatDecimal(statisticsData[0].ortalamaOne) }}</td>\r\n            <td>{{ formatDecimal(statisticsData[0].varyansOne) }}</td>\r\n            <td>{{ formatDecimal(statisticsData[0].stdOne) }}</td>\r\n            <td>% {{ formatDecimal(statisticsData[0].yuzdeOne) }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>2. Çeyrek</td>\r\n            <td>{{ formatDecimal(statisticsData[0].ortalamaTwo) }}</td>\r\n            <td>{{ formatDecimal(statisticsData[0].varyansTwo) }}</td>\r\n            <td>{{ formatDecimal(statisticsData[0].stdTwo) }}</td>\r\n            <td>% {{ formatDecimal(statisticsData[0].yuzdeTwo) }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>3. Çeyrek</td>\r\n            <td>{{ formatDecimal(statisticsData[0].ortalamaThree) }}</td>\r\n            <td>{{ formatDecimal(statisticsData[0].varyansThree) }}</td>\r\n            <td>{{ formatDecimal(statisticsData[0].stdThree) }}</td>\r\n            <td>% {{ formatDecimal(statisticsData[0].yuzdeThree) }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>4. Çeyrek</td>\r\n            <td>{{ formatDecimal(statisticsData[0].ortalamaFour) }}</td>\r\n            <td>{{ formatDecimal(statisticsData[0].varyansFour) }}</td>\r\n            <td>{{ formatDecimal(statisticsData[0].stdFour) }}</td>\r\n            <td>% {{ formatDecimal(statisticsData[0].yuzdeFour) }}</td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n    </div>\r\n    <br />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport service from \"@/service/CeyreklikSatislarService\";\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  computed: {\r\n    ...mapGetters([\"ceyreklikSatislarList\", \"chartData\", \"statisticsData\"]),\r\n  },\r\n  data() {\r\n    return {\r\n      satisToplamiSum: 0,\r\n      navlunSatisSum: 0,\r\n      navlunAlisSum: 0,\r\n      ekTutarlarSum: 0,\r\n      masraflarSum: 0,\r\n      genelToplamSum: 0,\r\n      selectedQuarter: { id: 0, quarter: \"Hepsi\" },\r\n      quarters: [],\r\n      selectedYear: { year: new Date().getFullYear() },\r\n      yearOld: 0,\r\n      yearNow: 0,\r\n      years: [],\r\n      lightOptions: {\r\n        plugins: {\r\n          legend: {\r\n            labels: {\r\n              color: \"#495057\",\r\n            },\r\n          },\r\n        },\r\n      },\r\n      quarterDatas: null,\r\n    };\r\n  },\r\n  methods: {\r\n    quarterChange(event) {\r\n      if (event.value.id == 0) {\r\n        this.$store.dispatch(\"ceyreklik_satislar_load\", this.quarterDatas);\r\n        this.toplama(this.quarterDatas);\r\n      } else if (event.value.id == 1) {\r\n        const data = this.quarterDatas.filter((x) => x.ay <= 3);\r\n        this.toplama(data);\r\n        this.$store.dispatch(\"ceyreklik_satislar_load\", data);\r\n      } else if (event.value.id == 2) {\r\n        const data = this.quarterDatas.filter((x) => x.ay > 3 && x.ay <= 6);\r\n        this.toplama(data);\r\n\r\n        this.$store.dispatch(\"ceyreklik_satislar_load\", data);\r\n      } else if (event.value.id == 3) {\r\n        const data = this.quarterDatas.filter((x) => x.ay > 6 && x.ay <= 9);\r\n        this.toplama(data);\r\n        this.$store.dispatch(\"ceyreklik_satislar_load\", data);\r\n      } else if (event.value.id == 4) {\r\n        const data = this.quarterDatas.filter((x) => x.ay > 9 && x.ay <= 12);\r\n        this.toplama(data);\r\n        this.$store.dispatch(\"ceyreklik_satislar_load\", data);\r\n      }\r\n    },\r\n    yearChange(event) {\r\n      service.getCeyreklikSatislar(event.value.year).then((data) => {\r\n        this.quarterDatas = data.satislar;\r\n        this.$store.dispatch(\"ceyreklik_satislar_load\", data.satislar);\r\n        this.$store.dispatch(\"chart_data_load\", data.chart);\r\n        this.$store.dispatch(\"statistics_data_load\", data.statistics);\r\n\r\n        const month = new Date().getMonth();\r\n        const year = new Date().getFullYear();\r\n        if (year == event.value.year) {\r\n          this.quarters = [];\r\n          if (month < 4) {\r\n            this.quarters.push(\r\n              { id: 0, quarter: \"Hepsi\" },\r\n              { id: 1, quarter: \"1. Çeyrek\" }\r\n            );\r\n          } else if (month < 7) {\r\n            this.quarters.push(\r\n              { id: 0, quarter: \"Hepsi\" },\r\n              { id: 1, quarter: \"1. Çeyrek\" },\r\n              { id: 2, quarter: \"2. Çeyrek\" }\r\n            );\r\n          } else if (month < 10) {\r\n            this.quarters.push(\r\n              { id: 0, quarter: \"Hepsi\" },\r\n              { id: 1, quarter: \"1. Çeyrek\" },\r\n              { id: 2, quarter: \"2. Çeyrek\" },\r\n              { id: 3, quarter: \"3. Çeyrek\" }\r\n            );\r\n          } else {\r\n            this.quarters.push(\r\n              { id: 0, quarter: \"Hepsi\" },\r\n              { id: 1, quarter: \"1. Çeyrek\" },\r\n              { id: 2, quarter: \"2. Çeyrek\" },\r\n              { id: 3, quarter: \"3. Çeyrek\" },\r\n              { id: 4, quarter: \"4. Çeyrek\" }\r\n            );\r\n          }\r\n        } else {\r\n          this.quarters = [];\r\n          this.quarters.push(\r\n            { id: 0, quarter: \"Hepsi\" },\r\n            { id: 1, quarter: \"1. Çeyrek\" },\r\n            { id: 2, quarter: \"2. Çeyrek\" },\r\n            { id: 3, quarter: \"3. Çeyrek\" },\r\n            { id: 4, quarter: \"4. Çeyrek\" }\r\n          );\r\n        }\r\n\r\n        this.toplama(data.satislar);\r\n      });\r\n    },\r\n    formatPrice(value) {\r\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\r\n      return \"$\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n    },\r\n    toplama(data) {\r\n      this.satisToplamiSum = 0;\r\n      this.navlunSatisSum = 0;\r\n      this.navlunAlisSum = 0;\r\n      this.ekTutarlarSum = 0;\r\n      this.masraflarSum = 0;\r\n      this.genelToplamSum = 0;\r\n      for (let i in data) {\r\n        this.satisToplamiSum += data[i].satisToplami;\r\n        this.navlunSatisSum += data[i].navlunSatis;\r\n        this.navlunAlisSum += data[i].navlunAlis;\r\n        this.ekTutarlarSum += data[i].ekTutarlar;\r\n        this.masraflarSum += data[i].masraflar;\r\n        this.genelToplamSum += data[i].genelToplam;\r\n      }\r\n    },\r\n    formatDecimal(value) {\r\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\r\n      return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n    },\r\n  },\r\n  created() {\r\n    const month = new Date().getMonth();\r\n    if (month < 4) {\r\n      this.quarters.push(\r\n        { id: 0, quarter: \"Hepsi\" },\r\n        { id: 1, quarter: \"1. Çeyrek\" }\r\n      );\r\n    } else if (month < 7) {\r\n      this.quarters.push(\r\n        { id: 0, quarter: \"Hepsi\" },\r\n        { id: 1, quarter: \"1. Çeyrek\" },\r\n        { id: 2, quarter: \"2. Çeyrek\" }\r\n      );\r\n    } else if (month < 10) {\r\n      this.quarters.push(\r\n        { id: 0, quarter: \"Hepsi\" },\r\n        { id: 1, quarter: \"1. Çeyrek\" },\r\n        { id: 2, quarter: \"2. Çeyrek\" },\r\n        { id: 3, quarter: \"3. Çeyrek\" }\r\n      );\r\n    } else {\r\n      this.quarters.push(\r\n        { id: 0, quarter: \"Hepsi\" },\r\n        { id: 1, quarter: \"1. Çeyrek\" },\r\n        { id: 2, quarter: \"2. Çeyrek\" },\r\n        { id: 3, quarter: \"3. Çeyrek\" },\r\n        { id: 4, quarter: \"4. Çeyrek\" }\r\n      );\r\n    }\r\n\r\n    this.yearOld = new Date().getFullYear() - 5;\r\n    this.yearNow = new Date().getFullYear();\r\n    while (this.yearOld <= this.yearNow) {\r\n      this.years.push({ year: this.yearOld });\r\n      this.yearOld++;\r\n    }\r\n    this.$store.dispatch(\"loadingBeginAct\");\r\n    service.getCeyreklikSatislar(new Date().getFullYear()).then((data) => {\r\n      this.quarterDatas = data.satislar;\r\n      this.$store.dispatch(\"ceyreklik_satislar_load\", data.satislar);\r\n      this.$store.dispatch(\"chart_data_load\", data.chart);\r\n      this.$store.dispatch(\"statistics_data_load\", data.statistics);\r\n      this.toplama(data.satislar);\r\n      this.$store.dispatch(\"loadingEndAct\");\r\n\r\n    });\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\nth,\r\ntd {\r\n  padding: 15px;\r\n  border: 1px solid #dfdfdf;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}