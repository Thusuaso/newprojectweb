{"ast":null,"code":"import SiparisService from \"../../../service/SiparisService\";\nimport KullaniciService from \"../../../service/KullaniciService\";\nimport service from '../../../service/MusteriIslemService';\nimport fileUpload from '@/components/shared/CustomInputFile';\nimport { mapGetters } from \"vuex\";\nimport digitalOcean from '../../../service/DigitalOceanService';\nexport default {\n  components: {\n    fileUpload\n  },\n  computed: {\n    ...mapGetters(['fuarMusteri'])\n  },\n  data() {\n    return {\n      filters: {},\n      fuarCustForm: false,\n      fuarList: [],\n      select_ulke: \"\",\n      newCustForm: false,\n      newFuarMusteri: {\n        customer: \"\",\n        company: \"\",\n        email: \"\",\n        phone: \"\",\n        country: 0,\n        user: 0,\n        adress: \"\",\n        orderer: \"\",\n        linkArka: \"\",\n        linkOn: \"\"\n      },\n      filter_ulke_list: [],\n      musteri_ulke_list: [],\n      fuarMusteriAyrinti: [],\n      userId: null,\n      button_disable: true\n    };\n  },\n  created() {\n    service.getFuarMusterilerList().then(data => {\n      this.$store.dispatch(\"fuar_musteri_load_act\", data);\n    });\n    this.serviceSip = new SiparisService();\n    this.kullaniciService = new KullaniciService();\n    this.serviceSip.getUlkeList().then(data => {\n      this.musteri_ulke_list = data;\n    });\n    this.kullaniciService.getKullaniciList().then(data => {\n      this.kullaniciList = data;\n    });\n    this.userId = JSON.parse(localStorage.getItem('user')).id;\n  },\n  methods: {\n    fuarDosyaGonder(event) {\n      digitalOcean.fotoGonderFuar(event, this.newFuarMusteri.customer);\n      this.newFuarMusteri.linkOn = `https://mekmar-image.fra1.digitaloceanspaces.com/fuar/${this.newFuarMusteri.customer + ' ' + event.name}`;\n    },\n    fuarDosyaGonder2(event) {\n      digitalOcean.fotoGonderFuar(event, this.newFuarMusteri.customer);\n      this.newFuarMusteri.linkArka = `https://mekmar-image.fra1.digitaloceanspaces.com/fuar/${this.newFuarMusteri.customer + ' ' + event.name}`;\n      this.button_disable = false;\n    },\n    deleteMust(event) {\n      service.setNewFuarMusterileSil(event).then(data => {\n        if (data.status) {\n          this.$toast.add({\n            severity: 'success',\n            summary: 'Sil',\n            detail: 'Silme İşlemi Başarılı',\n            life: 3000\n          });\n          this.$store.dispatch(\"fuar_musteri_load_act\", data.liste);\n          this.fuarCustForm = false;\n        } else {\n          this.$toast.add({\n            severity: 'error',\n            summary: 'Sil',\n            detail: 'Silme İşlemi Hatalı',\n            life: 3000\n          });\n        }\n      });\n    },\n    newCust() {\n      this.newCustForm = true;\n      this.select_ulke = \"\";\n    },\n    fuar_musteri_secim_event(event) {\n      service.getFuarMusterilerListAyrinti(event.data.id).then(data => {\n        this.fuarMusteriAyrinti = data[0];\n        this.select_ulke = this.musteri_ulke_list.filter(x => x.id == this.fuarMusteriAyrinti.country)[0];\n        this.fuarCustForm = true;\n      });\n    },\n    ulke_complete_event(event) {\n      this.filter_ulke_list = this.musteri_ulke_list.filter(x => {\n        return x.ulkeAdi.toString().toLowerCase().indexOf(event.query.toString().toLowerCase()) >= 0;\n      });\n    },\n    save() {\n      this.newFuarMusteri.country = this.select_ulke.id;\n      this.newFuarMusteri.user = this.userId;\n      service.setNewFuarMusteriler(this.newFuarMusteri).then(data => {\n        if (data.status) {\n          this.$toast.add({\n            severity: 'success',\n            summary: 'Kayıt',\n            detail: 'Kayıt İşlemi Başarılı',\n            life: 3000\n          });\n          this.$store.dispatch(\"fuar_musteri_load_act\", data.liste);\n        } else {\n          this.$toast.add({\n            severity: 'error',\n            summary: 'Kayıt',\n            detail: 'Kayıt İşlemi Hatalı',\n            life: 3000\n          });\n        }\n      });\n    },\n    update() {\n      this.fuarMusteriAyrinti.country = this.select_ulke.id;\n      service.setNewFuarMusterilerGuncelle(this.fuarMusteriAyrinti).then(data => {\n        if (data.status) {\n          this.$toast.add({\n            severity: 'success',\n            summary: 'Güncelleme',\n            detail: 'Güncelleme İşlemi Başarılı',\n            life: 3000\n          });\n          this.$store.dispatch(\"fuar_musteri_load_act\", data.liste);\n        } else {\n          this.$toast.add({\n            severity: 'error',\n            summary: 'Güncelleme',\n            detail: 'Güncelleme İşlemi Hatalı',\n            life: 3000\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["SiparisService","KullaniciService","service","fileUpload","mapGetters","digitalOcean","components","computed","data","filters","fuarCustForm","fuarList","select_ulke","newCustForm","newFuarMusteri","customer","company","email","phone","country","user","adress","orderer","linkArka","linkOn","filter_ulke_list","musteri_ulke_list","fuarMusteriAyrinti","userId","button_disable","created","getFuarMusterilerList","then","$store","dispatch","serviceSip","kullaniciService","getUlkeList","getKullaniciList","kullaniciList","JSON","parse","localStorage","getItem","id","methods","fuarDosyaGonder","event","fotoGonderFuar","name","fuarDosyaGonder2","deleteMust","setNewFuarMusterileSil","status","$toast","add","severity","summary","detail","life","liste","newCust","fuar_musteri_secim_event","getFuarMusterilerListAyrinti","filter","x","ulke_complete_event","ulkeAdi","toString","toLowerCase","indexOf","query","save","setNewFuarMusteriler","update","setNewFuarMusterilerGuncelle"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\musteriler\\FuarMusterileri.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <Button class=\"p-button-primary\" @click=\"newCust\" label=\"Yeni\"></Button>\r\n        <DataTable :value=\"fuarMusteri\" v-if=\"(fuarMusteri.length > 0)\" responsiveLayout=\"scroll\" v-model:filters=\"filters\"\r\n      selectionMode=\"single\"\r\n      v-model:selection=\"select_fuar_musteri\"\r\n                @row-select=\"fuar_musteri_secim_event($event)\">\r\n            <Column field=\"customer\" header=\"Müşteri Adı\">\r\n                <template #filter>\r\n                    <b-input v-model=\"filters['customer']\" />\r\n                </template>\r\n            </Column>\r\n            <Column field=\"company\" header=\"Şirket\"></Column>\r\n            <Column field=\"email\" header=\"Mail\"></Column>\r\n            <Column field=\"phone\" header=\"Telefon\"></Column>\r\n            <Column field=\"adress\" header=\"Adres\"></Column>\r\n            <Column field=\"satisci\" header=\"Satışçı\"></Column>\r\n\r\n\r\n\r\n        </DataTable>\r\n    \r\n        <Dialog v-model:visible=\"fuarCustForm\" header=\"Fuar Müşteri Ayrıntı\" :modal=\"true\" :breakpoints=\"{'960px': '75vw', '640px': '100vw'}\" :style=\"{width: '55vw'}\">\r\n            <br/>\r\n            <div class=\"columns\">\r\n                <div class=\"column is-4\">\r\n                    <span class=\"p-float-label\">\r\n                        <InputText id=\"musteri\" type=\"text\" v-model=\"fuarMusteriAyrinti.customer\" />\r\n                        <label for=\"musteri\">Müşteri Adı</label>\r\n                    </span>\r\n                </div>\r\n                <div class=\"column is-4\">\r\n                    <span class=\"p-float-label\">\r\n                        <InputText id=\"company\" type=\"text\" v-model=\"fuarMusteriAyrinti.company\" />\r\n                        <label for=\"company\">Şirket</label>\r\n                    </span>\r\n                </div>\r\n                <div class=\"column is-4\">\r\n                    <span class=\"p-float-label\">\r\n                        <b-field label=\"ÜLKE\" label-position=\"on-border\">\r\n                            <AutoComplete v-model=\"select_ulke\" :suggestions=\"filter_ulke_list\" @complete=\"ulke_complete_event($event)\"\r\n                                field=\"ulkeAdi\" />\r\n                        </b-field>\r\n                    </span>\r\n                </div>\r\n                \r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column is-4\">\r\n                    <span class=\"p-float-label\">\r\n                        <InputText id=\"email\" type=\"text\" v-model=\"fuarMusteriAyrinti.email\" />\r\n                        <label for=\"email\">Email</label>\r\n                    </span>\r\n                </div>\r\n                <div class=\"column is-4\">\r\n                    <span class=\"p-float-label\">\r\n                        <InputText id=\"phone\" type=\"text\" v-model=\"fuarMusteriAyrinti.phone\" />\r\n                        <label for=\"phone\">Telefon</label>\r\n                    </span>\r\n                </div>\r\n                <div class=\"column is-4\">\r\n                    <span class=\"p-float-label\">\r\n                        <Textarea id=\"address\" type=\"text\" rows=\"5\" cols=\"30\" v-model=\"fuarMusteriAyrinti.adress\" />\r\n                        <label for=\"address\">Adres</label>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <span class=\"p-float-label\">\r\n                        <InputText id=\"satisci\" type=\"text\" v-model=\"fuarMusteriAyrinti.satisci\" />\r\n                        <label for=\"satisci\">Satışçı</label>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column is-6\">\r\n                    <img id=\"onYuz\" :src=\"fuarMusteriAyrinti.linkOn\" />\r\n                </div>\r\n                <div class=\"column is-6\">\r\n                    <img id=\"arkaYuz\" :src=\"fuarMusteriAyrinti.linkArka\" />\r\n                \r\n                </div>\r\n            </div>\r\n            <Button class=\"p-button-info\" @click=\"update\" label=\"Güncelle\"></Button>\r\n            <Button class=\"p-button-danger\" @click=\"deleteMust(fuarMusteriAyrinti.id)\" label=\"Sil\"></Button>\r\n\r\n        </Dialog>\r\n        \r\n        \r\n        <Dialog v-model:visible=\"newCustForm\" header=\"Fuar Yeni Müşteri Kayıt\" :modal=\"true\"\r\n            :breakpoints=\"{'960px': '75vw', '640px': '100vw'}\" :style=\"{width: '55vw'}\">\r\n            <br />\r\n\r\n            <div class=\"columns\">\r\n                <div class=\"column is-4\">\r\n                    <span class=\"p-float-label\">\r\n                        <InputText id=\"musteri\" type=\"text\" v-model=\"newFuarMusteri.customer\" />\r\n                        <label for=\"musteri\">Müşteri Adı</label>\r\n                    </span>\r\n                </div>\r\n                <div class=\"column is-4\">\r\n                    <span class=\"p-float-label\">\r\n                        <InputText id=\"company\" type=\"text\" v-model=\"newFuarMusteri.company\" />\r\n                        <label for=\"company\">Şirket</label>\r\n                    </span>\r\n                </div>\r\n                <div class=\"column is-4\">\r\n                    <span class=\"p-float-label\">\r\n                        <b-field label=\"ÜLKE\" label-position=\"on-border\">\r\n                            <AutoComplete v-model=\"select_ulke\" :suggestions=\"filter_ulke_list\" @complete=\"ulke_complete_event($event)\"\r\n                                field=\"ulkeAdi\" />\r\n                        </b-field>\r\n                    </span>\r\n                </div>\r\n        \r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column is-4\">\r\n                    <span class=\"p-float-label\">\r\n                        <InputText id=\"email\" type=\"text\" v-model=\"newFuarMusteri.email\" />\r\n                        <label for=\"email\">Email</label>\r\n                    </span>\r\n                </div>\r\n                <div class=\"column is-4\">\r\n                    <span class=\"p-float-label\">\r\n                        <InputText id=\"phone\" type=\"text\" v-model=\"newFuarMusteri.phone\" />\r\n                        <label for=\"phone\">Telefon</label>\r\n                    </span>\r\n                </div>\r\n                <div class=\"column is-4\">\r\n                    <span class=\"p-float-label\">\r\n                        <Textarea id=\"address\" type=\"text\" rows=\"5\" cols=\"30\" v-model=\"newFuarMusteri.adress\" />\r\n                        <label for=\"address\">Adres</label>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <span class=\"p-float-label\">\r\n                        <InputText id=\"satisci\" type=\"text\" v-model=\"newFuarMusteri.orderer\" />\r\n                        <label for=\"satisci\">Satışçı</label>\r\n                    </span>\r\n                </div>\r\n                <div class=\"column\">\r\n                    <fileUpload :baslik=\"'Ön Yüz'\" @sunucuDosyaYolla=\"fuarDosyaGonder($event)\"></fileUpload>\r\n                    <fileUpload :baslik=\"'Arka Yüz'\" @sunucuDosyaYolla=\"fuarDosyaGonder2($event)\"></fileUpload>\r\n                    \r\n                </div>\r\n            </div>\r\n            <Button class=\"p-button-info\" :disabled=\"button_disable\" @click=\"save\" label=\"Kaydet\"></Button>\r\n\r\n        </Dialog>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport SiparisService from \"../../../service/SiparisService\"\r\nimport KullaniciService from \"../../../service/KullaniciService\"\r\n\r\nimport service from '../../../service/MusteriIslemService'\r\nimport fileUpload from '@/components/shared/CustomInputFile';\r\nimport { mapGetters } from \"vuex\"\r\nimport digitalOcean from '../../../service/DigitalOceanService';\r\n\r\nexport default {\r\n    components: {\r\n        fileUpload  \r\n    },\r\n    computed: {\r\n        ...mapGetters([\r\n        'fuarMusteri'\r\n      ])  \r\n    },\r\n    data() {\r\n        return {\r\n            filters:{},\r\n            fuarCustForm:false,\r\n            fuarList:[],\r\n            select_ulke: \"\",\r\n            newCustForm: false,\r\n            newFuarMusteri: {\r\n                customer: \"\",\r\n                company: \"\",\r\n                email: \"\",\r\n                phone: \"\",\r\n                country: 0,\r\n                user: 0,\r\n                adress: \"\",\r\n                orderer: \"\",\r\n                linkArka: \"\",\r\n                linkOn:\"\"\r\n            },\r\n            filter_ulke_list: [],\r\n            musteri_ulke_list: [],\r\n            fuarMusteriAyrinti: [],\r\n            userId: null,\r\n            button_disable:true,\r\n            \r\n        }\r\n    },\r\n    created() {\r\n        service.getFuarMusterilerList().then(data => {\r\n            this.$store.dispatch(\"fuar_musteri_load_act\",data)\r\n        })\r\n\r\n        this.serviceSip = new SiparisService()\r\n        this.kullaniciService = new KullaniciService()\r\n        this.serviceSip.getUlkeList().then(data => {\r\n            this.musteri_ulke_list = data\r\n        })\r\n        this.kullaniciService.getKullaniciList().then(data => {\r\n            this.kullaniciList = data\r\n        })\r\n        this.userId = JSON.parse(localStorage.getItem('user')).id\r\n    },\r\n    methods: {\r\n        fuarDosyaGonder(event) {\r\n            digitalOcean.fotoGonderFuar(event, this.newFuarMusteri.customer)\r\n            this.newFuarMusteri.linkOn = `https://mekmar-image.fra1.digitaloceanspaces.com/fuar/${this.newFuarMusteri.customer + ' ' + event.name}`\r\n        },\r\n        fuarDosyaGonder2(event) {\r\n            digitalOcean.fotoGonderFuar(event, this.newFuarMusteri.customer)\r\n            this.newFuarMusteri.linkArka = `https://mekmar-image.fra1.digitaloceanspaces.com/fuar/${this.newFuarMusteri.customer + ' ' + event.name}`\r\n            this.button_disable = false\r\n        },\r\n        deleteMust(event) {\r\n            service.setNewFuarMusterileSil(event).then(data => {\r\n                if (data.status) {\r\n                    this.$toast.add({ severity: 'success', summary: 'Sil', detail: 'Silme İşlemi Başarılı', life: 3000 });\r\n                    this.$store.dispatch(\"fuar_musteri_load_act\", data.liste)\r\n\r\n                    this.fuarCustForm = false\r\n                } else {\r\n                    this.$toast.add({ severity: 'error', summary: 'Sil', detail: 'Silme İşlemi Hatalı', life: 3000 });\r\n                }\r\n            })\r\n        },\r\n        newCust() {\r\n            this.newCustForm = true\r\n            this.select_ulke = \"\"\r\n        },\r\n        fuar_musteri_secim_event(event) {\r\n            service.getFuarMusterilerListAyrinti(event.data.id).then(data => {\r\n                this.fuarMusteriAyrinti = data[0]\r\n                this.select_ulke = this.musteri_ulke_list.filter(x => x.id == this.fuarMusteriAyrinti.country)[0]\r\n\r\n                this.fuarCustForm = true\r\n            })\r\n        },\r\n        ulke_complete_event(event) {\r\n\r\n            this.filter_ulke_list = this.musteri_ulke_list.filter(x => {\r\n\r\n\r\n                return x.ulkeAdi\r\n                    .toString()\r\n                    .toLowerCase()\r\n                    .indexOf(event.query.toString().toLowerCase()) >= 0\r\n            })\r\n        },\r\n        save() {\r\n            this.newFuarMusteri.country = this.select_ulke.id\r\n            this.newFuarMusteri.user = this.userId\r\n            service.setNewFuarMusteriler(this.newFuarMusteri).then(data => {\r\n                if (data.status) {\r\n                    this.$toast.add({ severity: 'success', summary: 'Kayıt', detail: 'Kayıt İşlemi Başarılı', life: 3000 });\r\n                    this.$store.dispatch(\"fuar_musteri_load_act\", data.liste)\r\n                } else {\r\n                    this.$toast.add({ severity: 'error', summary: 'Kayıt', detail: 'Kayıt İşlemi Hatalı', life: 3000 });\r\n                }\r\n            })\r\n        },\r\n        update() {\r\n            this.fuarMusteriAyrinti.country = this.select_ulke.id\r\n            service.setNewFuarMusterilerGuncelle(this.fuarMusteriAyrinti).then(data => {\r\n                if (data.status) {\r\n                    this.$toast.add({ severity: 'success', summary: 'Güncelleme', detail: 'Güncelleme İşlemi Başarılı', life: 3000 });\r\n                    this.$store.dispatch(\"fuar_musteri_load_act\", data.liste)\r\n\r\n                } else {\r\n                    this.$toast.add({ severity: 'error', summary: 'Güncelleme', detail: 'Güncelleme İşlemi Hatalı', life: 3000 });\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}