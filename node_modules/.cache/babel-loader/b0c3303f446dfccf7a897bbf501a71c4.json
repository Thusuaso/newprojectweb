{"ast":null,"code":"import service from '../../service/RaporService';\nimport LocalService from '../../service/LocalService';\nimport { mapGetters } from 'vuex';\nimport UrunKartMenu from '../../components/shared/UrunKartMenu.vue';\nimport UrunKartService from '../../service/UrunKartService';\nexport default {\n  components: {\n    UrunKartMenu\n  },\n  data() {\n    return {\n      isMobile: null,\n      yeniUrunKartID: 0,\n      kasaNo: 0,\n      is_uretim_form: false,\n      urunKartGuncelleButtonForm: true,\n      username: \"\",\n      isAll: false,\n      filters: {},\n      sevkiyat_listesi: null,\n      filter_sevkiyat_listesi: null,\n      is_filter_sevkiyat: false,\n      loading: false,\n      ilk_tarih: null,\n      son_tarih: null,\n      is_form: true,\n      is_excel: true,\n      is_islem: true,\n      miktar_toplam: 0,\n      tutar_toplam: 0,\n      select_yil: null,\n      yil_listesi: ['2022', '2021', '2020', '2019', '2018', '2017', '2016', '2015', '2014', '2013', '2012'],\n      kategori: \"\",\n      urunBilgisi: \"\",\n      yuzey: \"\",\n      olcu: \"\"\n    };\n  },\n  computed: {\n    ...mapGetters(['stok_rapor_list_all'])\n  },\n  localService: null,\n  created() {\n    this.isMobile = window.innerWidth;\n    this.allThisYearFirstLoad();\n    this.username = this.$store.getters.getUser;\n  },\n  methods: {\n    urunkart_change_event(event) {\n      this.yeniUrunKartID = event;\n      UrunKartService.getUrunKart(event).then(data => {\n        this.kategori = data.kategoriAdi;\n        this.urunBilgisi = data.urunAdi;\n        this.yuzey = data.yuzeyIslem;\n        this.olcu = data.en + 'x' + data.boy + 'x' + data.kenar;\n        this.urunKartGuncelleButtonForm = false;\n      });\n    },\n    guncelle() {\n      UrunKartService.setKasaYeniUrunKart(this.kasaNo, this.yeniUrunKartID, this.username).then(data => {\n        if (data.status) {\n          this.$toast.add({\n            severity: 'success',\n            summary: 'Bilgi Ekranı',\n            detail: 'Kasa Ürün Kartı Güncellendi.',\n            life: 5000\n          });\n          this.allThisYearFirstLoad();\n          this.is_uretim_form = false;\n        } else {\n          this.$toast.add({\n            severity: 'danger',\n            summary: 'Bilgi Ekranı',\n            detail: 'Kasa Ürün Kartı Güncelleme Hata.',\n            life: 5000\n          });\n        }\n      });\n      this.urunKartGuncelleButtonForm = true;\n    },\n    showUrunKartList() {\n      this.$emit('uretimRaporUrunKartShow');\n    },\n    isSevkiyatListSelected(event) {\n      if (this.username == 'Semih' || this.username == 'Gizem') {\n        this.kategori = event.data.kategori;\n        this.urunBilgisi = event.data.urunadi;\n        this.yuzey = event.data.yuzeyadi;\n        this.olcu = event.data.en + 'x' + event.data.boy + 'x' + event.data.kenar;\n        this.kasaNo = event.data.kasano;\n        this.yeniUrunKartID = event.data.urunKartID;\n        this.is_uretim_form = true;\n      }\n    },\n    allThisYearFirstLoad() {\n      this.isAll = false;\n      this.loading = true;\n      this.localService = new LocalService();\n      this.select_yil = '2022';\n      service.getSevkiyatRaporHepsiMekmar(this.select_yil).then(data => {\n        this.$store.dispatch('stok_rapor_list_load_act', data);\n        this.loading = false;\n        this.ilk_tarih = false;\n        this.son_tarih = false;\n        this.is_excel = false;\n        this.is_islem = false;\n        this.is_form = false;\n        this.tablo_toplam_guncelle(data);\n      });\n    },\n    isAllSelected() {\n      if (this.isAll == true) {\n        this.loading = true;\n        service.getYuklemeAllMekmar().then(data => {\n          this.$store.dispatch('stok_rapor_list_load_act', data);\n          this.loading = false;\n          this.ilk_tarih = false;\n          this.son_tarih = false;\n          this.is_excel = false;\n          this.is_islem = false;\n          this.is_form = false;\n          this.tablo_toplam_guncelle(data);\n        });\n      } else {\n        this.allThisYearFirstLoad();\n      }\n    },\n    excel_cikti_click() {\n      this.loading = true;\n      this.is_excel = true;\n      const data = this.$refs.sevkiyat_tablo.value;\n      service.getSevkiyatExcelCikti(data).then(responce => {\n        if (responce.status) {\n          const link = document.createElement('a');\n          link.href = this.$store.getters.servis_adres + 'raporlar/dosyalar/sevkiyatRaporExcelListe';\n          link.setAttribute('download', 'sevkiyat_rapor_listesi.xlsx');\n          document.body.appendChild(link);\n          link.click();\n          this.loading = false;\n          this.is_excel = false;\n        }\n      });\n    },\n    YilSecim(select_yil) {\n      this.isAll = false;\n      this.loading = true;\n      this.localService = new LocalService();\n      service.getSevkiyatRaporTekTarihMekmar(select_yil).then(data => {\n        this.$store.dispatch('stok_rapor_list_load_act', data);\n        this.loading = false;\n        this.ilk_tarih = false;\n        this.son_tarih = false;\n        this.is_excel = false;\n        this.is_islem = false;\n        this.is_form = false;\n        this.tablo_toplam_guncelle(data);\n      });\n    },\n    tablo_toplam_guncelle(liste) {\n      this.miktar_toplam = 0;\n      this.tutar_toplam = 0;\n      for (let key in liste) {\n        this.miktar_toplam += liste[key].miktar;\n        this.tutar_toplam += liste[key].toplam;\n      }\n    },\n    sevkiyat_tablo_filter_event(event) {\n      this.tablo_toplam_guncelle(event.filterValue);\n    },\n    rapor_tarih_suz_click() {\n      if (this.son_tarih && !this.ilk_tarih) {\n        this.loading = true;\n        this.is_islem = true;\n        let tarih = this.localService.getDateString(this.son_tarih);\n        service.getSevkiyatRaporTarihMekmar(tarih).then(data => {\n          this.$store.dispatch('stok_rapor_list_load_act', data);\n          this.loading = false;\n          this.is_filter_sevkiyat = true;\n          this.$refs.sevkiyat_tablo.value = data;\n          this.tablo_toplam_guncelle(data);\n          this.is_islem = false;\n        });\n      }\n      if (!this.son_tarih && !this.ilk_tarih) {\n        this.is_filter_sevkiyat = false;\n        this.$refs.sevkiyat_tablo.value = this.sevkiyat_listesi;\n        this.tablo_toplam_guncelle(this.sevkiyat_listesi);\n      }\n      if (this.ilk_tarih && !this.son_tarih) {\n        this.is_filter_sevkiyat = false;\n        this.$refs.sevkiyat_tablo.value = this.sevkiyat_listesi;\n        this.tablo_toplam_guncelle(this.sevkiyat_listesi);\n      }\n      if (this.ilk_tarih && this.son_tarih) {\n        this.loading = true;\n        this.is_islem = true;\n        let son_tarih = this.localService.getDateString(this.son_tarih);\n        let ilk_tarih = this.localService.getDateString(this.ilk_tarih);\n        service.getSevkiyatRaporIkiTarihMekmar(ilk_tarih, son_tarih).then(data => {\n          this.is_filter_sevkiyat = true;\n          this.$store.dispatch('stok_rapor_list_load_act', data);\n          this.$refs.sevkiyat_tablo.value = data;\n          this.tablo_toplam_guncelle(data);\n          this.loading = false;\n          this.is_islem = false;\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["service","LocalService","mapGetters","UrunKartMenu","UrunKartService","components","data","isMobile","yeniUrunKartID","kasaNo","is_uretim_form","urunKartGuncelleButtonForm","username","isAll","filters","sevkiyat_listesi","filter_sevkiyat_listesi","is_filter_sevkiyat","loading","ilk_tarih","son_tarih","is_form","is_excel","is_islem","miktar_toplam","tutar_toplam","select_yil","yil_listesi","kategori","urunBilgisi","yuzey","olcu","computed","localService","created","window","innerWidth","allThisYearFirstLoad","$store","getters","getUser","methods","urunkart_change_event","event","getUrunKart","then","kategoriAdi","urunAdi","yuzeyIslem","en","boy","kenar","guncelle","setKasaYeniUrunKart","status","$toast","add","severity","summary","detail","life","showUrunKartList","$emit","isSevkiyatListSelected","urunadi","yuzeyadi","kasano","urunKartID","getSevkiyatRaporHepsiMekmar","dispatch","tablo_toplam_guncelle","isAllSelected","getYuklemeAllMekmar","excel_cikti_click","$refs","sevkiyat_tablo","value","getSevkiyatExcelCikti","responce","link","document","createElement","href","servis_adres","setAttribute","body","appendChild","click","YilSecim","getSevkiyatRaporTekTarihMekmar","liste","key","miktar","toplam","sevkiyat_tablo_filter_event","filterValue","rapor_tarih_suz_click","tarih","getDateString","getSevkiyatRaporTarihMekmar","getSevkiyatRaporIkiTarihMekmar"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\views\\SevkiyatRaporuMekmar.vue"],"sourcesContent":["<template>\r\n    <section>\r\n        <div class=\"columns is-multiline is-centered\">\r\n\r\n            <span style=\"margin-right:5px;margin-top:48px;\">Hepsi</span>\r\n            <Checkbox style=\"margin-top:48px;margin-right:15px;\" v-model=\"isAll\" @change=\"isAllSelected\"\r\n                :binary=\"true\" />\r\n\r\n\r\n\r\n            <b-select size=\"is-small\" v-model=\"select_yil\" @input=\"YilSecim(select_yil)\"\r\n                style=\"margin-top:44px;margin-right:10px;\">\r\n                <option v-for=\"item in yil_listesi\" :key=\"item.id\">\r\n                    {{item}}\r\n                </option>\r\n            </b-select>\r\n\r\n\r\n\r\n\r\n\r\n            <div class=\"column is-2\">\r\n                <b-field label=\"İlk Tarih\">\r\n                    <b-datepicker :disabled=\"is_form\" size=\"is-small\" v-model=\"ilk_tarih\" icon=\"calendar-today\">\r\n                        <button class=\"button is-danger\" @click=\"ilk_tarih = null\">\r\n                            <span>Temizle</span>\r\n                        </button>\r\n                    </b-datepicker>\r\n                </b-field>\r\n            </div>\r\n            <div class=\"column is-2\">\r\n                <b-field label=\"Son Tarih\">\r\n                    <b-datepicker :disabled=\"is_form\" size=\"is-small\" v-model=\"son_tarih\" icon=\"calendar-today\">\r\n                        <button icon-pack=\"fas\" icon-left=\"fa-times\" class=\"button is-danger\" @click=\"son_tarih = null\">\r\n                            <span>Temizle</span>\r\n                        </button>\r\n                    </b-datepicker>\r\n                </b-field>\r\n            </div>\r\n            <div class=\"column is-3 page-button\">\r\n                <b-button :disabled=\"is_islem\" type=\"is-info\" v-blueButton @click=\"rapor_tarih_suz_click\">İşlem Yap\r\n                </b-button>\r\n            </div>\r\n            <div class=\"column is-3 page-button page-button-excell\">\r\n                <b-button :disabled=\"is_excel\" style=\"background-color:#edf0f5;border:none;width:15px;margin-top:-1px;\"\r\n                    @click=\"excel_cikti_click\"><i class=\"fa-solid fa-file-excel fa-2xl\"></i></b-button>\r\n            </div>\r\n        </div>\r\n        <div class=\"columns is-centered\" v-if=\"isMobile>576\">\r\n            <div class=\"column is-12\">\r\n                <DataTable :filters=\"filters\" :value=\"stok_rapor_list_all\" :loading=\"loading\" :paginator=\"true\"\r\n                    :rows=\"15\" ref=\"sevkiyat_tablo\" @filter=\"sevkiyat_tablo_filter_event\"\r\n                    @row-select=\"isSevkiyatListSelected\" selectionMode=\"single\" dataKey=\"id\">\r\n                    <Column field=\"tarih\" header=\"Tarih\" bodyStyle=\"text-align:center\" headerStyle=\"width:14%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.tarih}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['tarih']\" class=\"p-column-filter\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"musteriadi\" header=\"Kime\" headerStyle=\"width:15%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.musteriadi}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['musteriadi']\" class=\"p-column-filter\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"kimden\" header=\"Kimden\" headerStyle=\"width:14%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.kimden}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['kimden']\" class=\"p-column-filter\" />\r\n                        </template>\r\n                    </Column>\r\n\r\n                    <Column field=\"urunKartID\" header=\"Ürün Kart Id\" headerStyle=\"width:14%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{ slotProps.data.urunKartID }}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['urunKartID']\" class=\"p-column-filter\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"kategori\" header=\"Kategori\" headerStyle=\"width:14%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.kategori}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['kategori']\" class=\"p-column-filter\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"kasano\" header=\"No\" headerStyle=\"width:13%\" bodyStyle=\"text-align:center\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.kasano}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['kasano']\" class=\"p-column-filter\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"urunadi\" header=\"Ürün\" headerStyle=\"width:15%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.urunadi}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['urunadi']\" class=\"p-column-filter\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"ocakadi\" header=\"Ocak\" headerStyle=\"width:15%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.ocakadi}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['ocakadi']\" class=\"p-column-filter\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"yuzeyadi\" header=\"İşlem\" headerStyle=\"width:27%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.yuzeyadi}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['yuzeyadi']\" class=\"p-column-filter\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"en\" header=\"E\" bodyStyle=\"text-align:center\" headerStyle=\"width:11%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.en}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['en']\" class=\"p-column-filter\"\r\n                                headerStyle=\"width:11%\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"boy\" header=\"B\" bodyStyle=\"text-align:center\" headerStyle=\"width:11%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.boy}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['boy']\" class=\"p-column-filter\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"kenar\" header=\"K\" bodyStyle=\"text-align:center\" headerStyle=\"width:10%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.kenar}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['kenar']\" headerStyle=\"width:11%\"\r\n                                class=\"p-column-filter\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"adet\" header=\"K.Adet\" bodyStyle=\"text-align:center\" headerStyle=\"width:11%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.adet}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['adet']\" class=\"p-column-filter\" />\r\n                        </template>\r\n                    </Column>\r\n\r\n                    <Column field=\"miktar\" header=\"Miktar\" bodyStyle=\"text-align:center\" headerStyle=\"width:13%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.miktar | toDecimal}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['miktar']\" class=\"p-column-filter\" />\r\n                        </template>\r\n                        <template #footer>\r\n                            {{miktar_toplam | toDecimal}}\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"birimadi\" header=\"Birim\" bodyStyle=\"text-align:center\" headerStyle=\"width:11%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.birimadi}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['birimadi']\" class=\"p-column-filter\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"siparisno\" header=\"Po\" headerStyle=\"width:15%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.siparisno}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['siparisno']\" class=\"p-column-filter\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"birimfiyat\" header=\"B.Fiyat\" headerStyle=\"width:11%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.birimfiyat | toCurrency}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['birimfiyat']\" class=\"p-column-filter\" />\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"toplam\" header=\"Toplam\" headerStyle=\"width:16%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.toplam | toCurrency}}\r\n                        </template>\r\n                        <template #filter>\r\n                            <InputText type=\"text\" v-model=\"filters['toplam']\" class=\"p-column-filter\" />\r\n                        </template>\r\n                        <template #footer>\r\n                            {{tutar_toplam | toCurrency}}\r\n                        </template>\r\n                    </Column>\r\n\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n        <div class=\"columns is-centered\" v-else>\r\n            <DataTable :filters=\"filters\" :value=\"stok_rapor_list_all\" :loading=\"loading\" :paginator=\"true\" :rows=\"15\"\r\n                ref=\"sevkiyat_tablo\" @filter=\"sevkiyat_tablo_filter_event\" @row-select=\"isSevkiyatListSelected\"\r\n                selectionMode=\"single\" dataKey=\"id\">\r\n                \r\n\r\n                <Column field=\"kasano\" header=\"No\" headerStyle=\"width:15%\" >\r\n                    <template #body=\"slotProps\">\r\n                        <div class=\"mobil\">\r\n                            {{slotProps.data.kasano}}\r\n                        </div>\r\n\r\n                    </template>\r\n                    <template #filter>\r\n                        <InputText type=\"text\" v-model=\"filters['kasano']\" class=\"p-column-filter\" />\r\n                    </template>\r\n                </Column>\r\n                <Column field=\"urunadi\" header=\"Ürün\" headerStyle=\"width:15%\">\r\n                    <template #body=\"slotProps\">\r\n                        <div class=\"mobil\">\r\n                            {{ slotProps.data.urunadi }}\r\n                        </div>\r\n                    </template>\r\n                    <template #filter>\r\n                        <InputText type=\"text\" v-model=\"filters['urunadi']\" class=\"p-column-filter\" />\r\n                    </template>\r\n                </Column>\r\n\r\n                <Column field=\"yuzeyadi\" header=\"İşlem\" headerStyle=\"width:27%\">\r\n                    <template #body=\"slotProps\">\r\n                        <div class=\"mobil\">\r\n                            {{ slotProps.data.yuzeyadi }}\r\n                        </div>\r\n                    </template>\r\n                    <template #filter>\r\n                        <InputText type=\"text\" v-model=\"filters['yuzeyadi']\" class=\"p-column-filter\" />\r\n                    </template>\r\n                </Column>\r\n                <Column field=\"en\" header=\"E\" bodyStyle=\"text-align:center\" headerStyle=\"width:11%\">\r\n                    <template #body=\"slotProps\">\r\n                        <div class=\"mobil\">\r\n                            {{ slotProps.data.en }}\r\n                        </div>\r\n                    </template>\r\n                    <template #filter>\r\n                        <InputText type=\"text\" v-model=\"filters['en']\" class=\"p-column-filter\"\r\n                            headerStyle=\"width:11%\" />\r\n                    </template>\r\n                </Column>\r\n                <Column field=\"boy\" header=\"B\" bodyStyle=\"text-align:center\" headerStyle=\"width:11%\">\r\n                    <template #body=\"slotProps\">\r\n                        <div class=\"mobil\">\r\n                            {{ slotProps.data.boy }}\r\n                        </div>\r\n                    </template>\r\n                    <template #filter>\r\n                        <InputText type=\"text\" v-model=\"filters['boy']\" class=\"p-column-filter\" />\r\n                    </template>\r\n                </Column>\r\n                <Column field=\"kenar\" header=\"K\" bodyStyle=\"text-align:center\" headerStyle=\"width:10%\">\r\n                    <template #body=\"slotProps\">\r\n                        <div class=\"mobil\">\r\n                            {{ slotProps.data.kenar }}\r\n                        </div>\r\n                    </template>\r\n                    <template #filter>\r\n                        <InputText type=\"text\" v-model=\"filters['kenar']\" headerStyle=\"width:11%\"\r\n                            class=\"p-column-filter\" />\r\n                    </template>\r\n                </Column>\r\n\r\n                <Column field=\"miktar\" header=\"Miktar\" bodyStyle=\"text-align:center\" headerStyle=\"width:13%\">\r\n                    <template #body=\"slotProps\">\r\n\r\n                        <div class=\"mobil\">\r\n                            {{slotProps.data.miktar | toDecimal}}\r\n                        </div>\r\n                    </template>\r\n                    <template #filter>\r\n                        <InputText type=\"text\" v-model=\"filters['miktar']\" class=\"p-column-filter\" />\r\n                    </template>\r\n                    <template #footer>\r\n                        {{miktar_toplam | toDecimal}}\r\n\r\n                    </template>\r\n                </Column>\r\n                <Column field=\"birimadi\" header=\"Birim\" bodyStyle=\"text-align:center\" headerStyle=\"width:11%\">\r\n                    <template #body=\"slotProps\">\r\n                        <div class=\"mobil\">\r\n                            {{slotProps.data.birimadi}}\r\n                        </div>\r\n                    </template>\r\n                    <template #filter>\r\n                        <InputText type=\"text\" v-model=\"filters['birimadi']\" class=\"p-column-filter\" />\r\n                    </template>\r\n                </Column>\r\n                <Column field=\"siparisno\" header=\"Po\" headerStyle=\"width:15%\">\r\n                    <template #body=\"slotProps\">\r\n                        <div class=\"mobil\">\r\n                            {{ slotProps.data.siparisno }}\r\n                        </div>\r\n                    </template>\r\n                    <template #filter>\r\n                        <InputText type=\"text\" v-model=\"filters['siparisno']\" class=\"p-column-filter\" />\r\n                    </template>\r\n                </Column>\r\n\r\n            </DataTable>\r\n        </div>\r\n\r\n        <div>\r\n            <Dialog :visible.sync=\"is_uretim_form\" :modal=\"true\" :style=\"{width: '150vw'}\"\r\n                header=\"Kasa Bilgisi Değiştirme\">\r\n                <div style=\"text-align:center;\"> {{kasaNo}} Kasasına Ait Ürün Kart Id : {{ yeniUrunKartID }}\r\n                </div>\r\n                <div class=\"columns gridline\" style=\"margin-top:10px;margin-left:70px;\">\r\n                    <div class=\"column\">\r\n                        <span class=\"p-float-label\">\r\n                            <InputText id=\"kategori\" type=\"text\" v-model=\"kategori\" :disabled=\"true\" />\r\n                            <label for=\"kategori\">Kategori</label>\r\n                        </span>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <span class=\"p-float-label\">\r\n                            <InputText id=\"urunBilgisi\" type=\"text\" v-model=\"urunBilgisi\" :disabled=\"true\" />\r\n                            <label for=\"urunBilgisi\">Ürün Bilgisi</label>\r\n                        </span>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <span class=\"p-float-label\">\r\n                            <InputText id=\"yuzey\" type=\"text\" v-model=\"yuzey\" :disabled=\"true\" />\r\n                            <label for=\"yuzey\">Yüzey</label>\r\n                        </span>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <span class=\"p-float-label\">\r\n                            <InputText id=\"olcu\" type=\"text\" v-model=\"olcu\" :disabled=\"true\" />\r\n                            <label for=\"olcu\">Ölçü</label>\r\n                        </span>\r\n                    </div>\r\n\r\n\r\n\r\n                </div>\r\n                <div class=\"columns is-centered\">\r\n                    <div class=\"column is-2\">\r\n                        <Button @click=\"showUrunKartList\" label=\"Yeni Ürün Kartı Seç\"></Button>\r\n                    </div>\r\n                    <div class=\"column is-2\">\r\n                        <Button class=\"p-button-warning\" @click=\"guncelle\" :disabled=\"urunKartGuncelleButtonForm\"\r\n                            label=\"Ürün Kartını Güncelle\"></Button>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </Dialog>\r\n        </div>\r\n        <UrunKartMenu @urunKartSelect=\"urunkart_change_event($event)\" />\r\n    </section>\r\n</template>\r\n<script>\r\nimport service from '../../service/RaporService'\r\nimport LocalService from '../../service/LocalService'\r\nimport { mapGetters } from 'vuex'\r\nimport UrunKartMenu from '../../components/shared/UrunKartMenu.vue'\r\nimport UrunKartService from '../../service/UrunKartService'\r\nexport default {\r\n    components: {\r\n        UrunKartMenu\r\n    },\r\n    data(){\r\n        return {\r\n            isMobile:null,\r\n            yeniUrunKartID:0,\r\n            kasaNo:0,\r\n            is_uretim_form:false,\r\n            urunKartGuncelleButtonForm:true,\r\n            username:\"\",\r\n            isAll: false,\r\n            filters : {},\r\n            sevkiyat_listesi : null,\r\n            filter_sevkiyat_listesi : null,\r\n            is_filter_sevkiyat : false,\r\n            loading : false,\r\n            ilk_tarih : null,\r\n            son_tarih : null,\r\n            is_form : true,\r\n            is_excel : true,\r\n            is_islem : true, \r\n            miktar_toplam : 0,\r\n            tutar_toplam : 0,\r\n            select_yil : null,\r\n            yil_listesi: ['2022', '2021', '2020', '2019', '2018', '2017', '2016', '2015', '2014', '2013', '2012'],\r\n            kategori: \"\",\r\n            urunBilgisi: \"\",\r\n            yuzey: \"\",\r\n            olcu:\"\",\r\n            \r\n\r\n            \r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters(['stok_rapor_list_all'])\r\n    },\r\n    localService : null,\r\n    created() {\r\n        this.isMobile = window.innerWidth\r\n        this.allThisYearFirstLoad()\r\n        this.username = (this.$store.getters.getUser);\r\n        \r\n    },\r\n    methods: {\r\n        urunkart_change_event(event) {\r\n            this.yeniUrunKartID = event\r\n            UrunKartService.getUrunKart(event).then(data => {\r\n                this.kategori = data.kategoriAdi\r\n                this.urunBilgisi = data.urunAdi\r\n                this.yuzey = data.yuzeyIslem\r\n                this.olcu = data.en + 'x' + data.boy + 'x' + data.kenar\r\n                this.urunKartGuncelleButtonForm = false\r\n            })\r\n\r\n        },\r\n        guncelle() {\r\n            UrunKartService.setKasaYeniUrunKart(this.kasaNo, this.yeniUrunKartID, this.username).then(data => {\r\n                if (data.status) {\r\n                    this.$toast.add({ severity: 'success', summary: 'Bilgi Ekranı', detail: 'Kasa Ürün Kartı Güncellendi.', life: 5000 });\r\n                    this.allThisYearFirstLoad()\r\n                    this.is_uretim_form = false\r\n                } else {\r\n                    this.$toast.add({ severity: 'danger', summary: 'Bilgi Ekranı', detail: 'Kasa Ürün Kartı Güncelleme Hata.', life: 5000 });\r\n                }\r\n            })\r\n            this.urunKartGuncelleButtonForm = true\r\n        },\r\n        showUrunKartList() {\r\n            this.$emit('uretimRaporUrunKartShow')\r\n        },\r\n        isSevkiyatListSelected(event) {\r\n            if (this.username == 'Semih' || this.username == 'Gizem') {\r\n                this.kategori = event.data.kategori\r\n                this.urunBilgisi = event.data.urunadi\r\n                this.yuzey = event.data.yuzeyadi\r\n                this.olcu = event.data.en + 'x' + event.data.boy + 'x' + event.data.kenar\r\n                this.kasaNo = event.data.kasano\r\n                this.yeniUrunKartID = event.data.urunKartID\r\n                this.is_uretim_form = true\r\n            }\r\n\r\n        },\r\n        allThisYearFirstLoad() {\r\n            this.isAll = false\r\n            this.loading = true\r\n            this.localService = new LocalService()\r\n            this.select_yil = '2022'\r\n            service.getSevkiyatRaporHepsiMekmar(this.select_yil).then(data => {\r\n                this.$store.dispatch('stok_rapor_list_load_act',data)\r\n                this.loading = false\r\n                this.ilk_tarih = false\r\n                this.son_tarih = false\r\n                this.is_excel = false\r\n                this.is_islem = false\r\n                this.is_form = false\r\n                this.tablo_toplam_guncelle(data)\r\n            })\r\n        },\r\n        isAllSelected() {\r\n            if (this.isAll == true) {\r\n                this.loading = true\r\n                service.getYuklemeAllMekmar().then(data => {\r\n                    this.$store.dispatch('stok_rapor_list_load_act',data)\r\n                    this.loading = false\r\n                    this.ilk_tarih = false\r\n                    this.son_tarih = false\r\n                    this.is_excel = false\r\n                    this.is_islem = false\r\n                    this.is_form = false\r\n                    this.tablo_toplam_guncelle(data)\r\n                })\r\n\r\n            } else {\r\n                this.allThisYearFirstLoad()\r\n            }\r\n            \r\n\r\n        },\r\n        excel_cikti_click(){\r\n           \r\n           this.loading= true\r\n           this.is_excel=true\r\n            const data= this.$refs.sevkiyat_tablo.value\r\n            service.getSevkiyatExcelCikti(data).then(responce=>{\r\n\r\n                if(responce.status)\r\n                {\r\n                    const link = document.createElement('a')\r\n                    link.href = this.$store.getters.servis_adres + 'raporlar/dosyalar/sevkiyatRaporExcelListe' \r\n                    \r\n                    link.setAttribute('download','sevkiyat_rapor_listesi.xlsx')\r\n                    document.body.appendChild(link)\r\n                    link.click()\r\n                    this.loading=false\r\n                     this.is_excel=false\r\n\r\n                }\r\n            })\r\n        },\r\n        \r\n        YilSecim(select_yil){\r\n\r\n            this.isAll=false\r\n            this.loading = true\r\n            this.localService = new LocalService()\r\n            service.getSevkiyatRaporTekTarihMekmar(select_yil).then(data => {\r\n                this.$store.dispatch('stok_rapor_list_load_act', data)\r\n                this.loading = false\r\n                this.ilk_tarih = false\r\n                this.son_tarih = false\r\n                this.is_excel = false\r\n                this.is_islem = false\r\n                this.is_form = false\r\n                this.tablo_toplam_guncelle(data)\r\n            })\r\n\r\n            },\r\n\r\n        \r\n\r\n\r\n\r\n        tablo_toplam_guncelle(liste){\r\n\r\n            this.miktar_toplam = 0\r\n            this.tutar_toplam = 0\r\n\r\n            for(let key in liste){\r\n\r\n                this.miktar_toplam += liste[key].miktar\r\n                this.tutar_toplam += liste[key].toplam\r\n            }\r\n        },\r\n        sevkiyat_tablo_filter_event(event){\r\n\r\n            this.tablo_toplam_guncelle(event.filterValue)\r\n        },\r\n        rapor_tarih_suz_click(){\r\n            \r\n            if(this.son_tarih && !this.ilk_tarih ){\r\n                this.loading = true\r\n                this.is_islem = true\r\n                let tarih = this.localService.getDateString(this.son_tarih)\r\n                service.getSevkiyatRaporTarihMekmar(tarih).then(data => {\r\n\r\n\r\n                    this.$store.dispatch('stok_rapor_list_load_act', data)\r\n                    this.loading = false\r\n                    this.is_filter_sevkiyat = true\r\n                    this.$refs.sevkiyat_tablo.value = data\r\n                    this.tablo_toplam_guncelle(data)\r\n                    this.is_islem = false\r\n                })\r\n            }\r\n            if(!this.son_tarih && !this.ilk_tarih){\r\n\r\n                this.is_filter_sevkiyat = false\r\n                this.$refs.sevkiyat_tablo.value = this.sevkiyat_listesi\r\n                this.tablo_toplam_guncelle(this.sevkiyat_listesi)\r\n            }\r\n            if(this.ilk_tarih && !this.son_tarih){\r\n\r\n                this.is_filter_sevkiyat = false\r\n                this.$refs.sevkiyat_tablo.value = this.sevkiyat_listesi\r\n                this.tablo_toplam_guncelle(this.sevkiyat_listesi)\r\n            }\r\n            if(this.ilk_tarih && this.son_tarih){\r\n\r\n                this.loading = true\r\n                this.is_islem = true\r\n                \r\n                let son_tarih = this.localService.getDateString(this.son_tarih)\r\n                let ilk_tarih = this.localService.getDateString(this.ilk_tarih)\r\n\r\n                service.getSevkiyatRaporIkiTarihMekmar(ilk_tarih,son_tarih).then(data => {\r\n\r\n                    this.is_filter_sevkiyat = true\r\n                    this.$store.dispatch('stok_rapor_list_load_act', data)\r\n                    this.$refs.sevkiyat_tablo.value = data\r\n                    this.tablo_toplam_guncelle(data)\r\n                    this.loading = false\r\n                    this.is_islem = false\r\n                })\r\n            }\r\n\r\n        }\r\n        \r\n    }\r\n    \r\n}\r\n</script>\r\n<style  scoped>\r\n\r\n    .p-datatable{\r\n\r\n        font-size:10px;\r\n    }\r\n    .p-column-filter {\r\n\r\n        font-size: 10px;\r\n    }\r\n    .page-button{\r\n\r\n        margin-top:25px;\r\n    }\r\n    .page-button-excell {\r\n\r\n        margin-left: -100px;\r\n    }\r\n    .mobil{\r\n        text-align:left;\r\n        margin-left:-5px;\r\n        word-break:break-all;\r\n        font-size:9px;\r\n    }\r\n   \r\n</style>"]},"metadata":{},"sourceType":"module"}