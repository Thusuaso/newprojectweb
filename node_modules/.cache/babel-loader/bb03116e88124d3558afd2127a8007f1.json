{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport urunKartService from \"@/service/UrunKartService\";\nimport socket from \"@/service/SocketService\";\nimport { useVuelidate } from \"@vuelidate/core\";\nimport { required } from \"@vuelidate/validators\";\nexport default {\n  setup() {\n    return {\n      v$: useVuelidate()\n    };\n  },\n  validations() {\n    return {\n      kategori: {\n        required\n      },\n      urun: {\n        required\n      },\n      en: {\n        required\n      },\n      boy: {\n        required\n      },\n      kenar: {\n        required\n      },\n      yuzeyIslem: {\n        required\n      }\n    };\n  },\n  data() {\n    return {\n      submitted: false,\n      kontrolText: \"Bu ürün kartına ait kasa bulunmaktadır!\",\n      kategori: null,\n      kategoriList: null,\n      filterKategoriList: null,\n      urunKart: null,\n      musteriSatisListesi: null,\n      urun: null,\n      filterUrunList: null,\n      urunList: null,\n      en: null,\n      filterEnList: null,\n      enList: null,\n      boy: null,\n      filterBoyList: null,\n      boyList: null,\n      kenar: null,\n      filterKenarList: null,\n      kenarList: null,\n      yuzeyIslem: null,\n      filterYuzeyIslemList: null,\n      yuzeyIslemList: null,\n      seleksiyonKasaKontrol: null,\n      username: null\n    };\n  },\n  props: {\n    yeniKayit: {\n      type: Boolean,\n      default: true\n    },\n    urunKartId: {\n      type: Number,\n      default: 0\n    },\n    isMobile: {\n      type: Number\n    }\n  },\n  methods: {\n    formatDecimal(value) {\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\n      return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    },\n    isChangeEn(event) {\n      this.en = event.replace(\".\", \",\").trim();\n    },\n    isChangeBoy(event) {\n      this.boy = event.replace(\".\", \",\").trim();\n    },\n    isChangeKenar(event) {\n      this.kenar = event.replace(\".\", \",\").trim();\n    },\n    isYuzeyBosluk(event) {\n      this.yuzeyIslem = event.trim();\n    },\n    aramaKategori(event) {\n      setTimeout(() => {\n        let result;\n        if (event.query.length == 0) result = this.kategoriList;else {\n          result = this.kategoriList.filter(x => {\n            return x.kategoriAdi.toLowerCase().startsWith(event.query.toLowerCase());\n          });\n        }\n        this.filterKategoriList = result;\n      }, 250);\n    },\n    kategoriDegisim() {\n      this.urunKart.kategoriId = this.kategori.id;\n    },\n    aramaUrun(event) {\n      setTimeout(() => {\n        let result;\n        if (event.query.length == 0) result = [...this.urunList];else {\n          result = this.urunList.filter(x => {\n            return x.urunAdi.toLowerCase().startsWith(event.query.toLowerCase());\n          });\n        }\n        this.filterUrunList = result;\n      }, 250);\n    },\n    urunDegisim() {\n      this.urunKart.urunId = this.urun.id;\n    },\n    aramaEn(event) {\n      setTimeout(() => {\n        let result;\n        if (event.query.length == 0) result = [...this.enList];else {\n          result = this.enList.filter(x => {\n            return x.en.toLowerCase().startsWith(event.query.toLowerCase());\n          });\n        }\n        this.filterEnList = result;\n      }, 250);\n    },\n    aramaBoy(event) {\n      setTimeout(() => {\n        let result;\n        if (event.query.length == 0) result = [...this.boyList];else {\n          result = this.boyList.filter(x => {\n            return x.boy.toLowerCase().startsWith(event.query.toLowerCase());\n          });\n        }\n        this.filterBoyList = result;\n      }, 250);\n    },\n    aramaKenar(event) {\n      setTimeout(() => {\n        let result;\n        if (event.query.length == 0) result = [...this.kenarList];else {\n          result = this.kenarList.filter(x => {\n            return x.kenar.toLowerCase().startsWith(event.query.toLowerCase());\n          });\n        }\n        this.filterKenarList = result;\n      }, 250);\n    },\n    kenarDegisim(event) {\n      console.log(\"Kenar Değişim : \", event.value);\n    },\n    kenarUnSelect(event) {\n      console.log(\"Kenar item-unselect event\", event);\n    },\n    aramaYuzeyIslem(event) {\n      setTimeout(() => {\n        let result;\n        if (event.query.length == 0) result = [...this.yuzeyIslemList];else {\n          result = this.yuzeyIslemList.filter(x => {\n            return x.yuzeyIslemAdi.toLowerCase().startsWith(event.query.toLowerCase());\n          });\n        }\n        this.filterYuzeyIslemList = result;\n      }, 250);\n    },\n    yuzeyIslemDegisim() {\n      this.urunKart.yuzeyId = this.yuzeyIslem.id;\n    },\n    urunKartKayitIslemi() {\n      this.submitted = true;\n      if (this.v$.$invalid) {\n        this.$toast.add({\n          severity: \"error\",\n          summary: \"Zorunlu Alanlar\",\n          detail: \"Zorunlu alanları doldurunuz!\",\n          life: 3000\n        });\n      } else {\n        this.urunKart.en = this.en.en ? this.en.en : this.en;\n        this.urunKart.boy = this.boy.boy ? this.boy.boy : this.boy;\n        this.urunKart.kategoriAdi = this.kategori.kategoriAdi ? this.kategori.kategoriAdi : this.kategori;\n        this.urunKart.yuzeyIslem = this.yuzeyIslem.yuzeyIslemAdi ? this.yuzeyIslem.yuzeyIslemAdi : this.yuzeyIslem;\n        this.urunKart.urunAdi = this.urun.urunAdi ? this.urun.urunAdi : this.urun;\n        if (this.kenar) {\n          this.urunKart.kenar = this.kenar.kenar ? this.kenar.kenar : this.kenar;\n        }\n        if (this.yeniKayit) this.yeniKayitIslem();else this.guncellemeIslem();\n      }\n    },\n    yeniKayitIslem() {\n      this.urunKart.username = this.username;\n      urunKartService.setUrunKaydet(this.urunKart).then(data => {\n        if (data.kayitDurum) {\n          this.$toast.add({\n            severity: \"success\",\n            summary: \"Bilgi Ekranı\",\n            detail: \"Ürün Kartı Kaydedildi.\",\n            life: 5000\n          });\n          socket.siparis.emit(\"urunkart_yeni_event\", data.data);\n          socket.siparis.emit(\"anaSayfaDegisiklikEvent\", data.anaSayfaDegisiklik);\n        } else {\n          let mesaj = \"Sunucu Kayıt İşlemini Yapamadı . Sunucudan dönen hata : \" + data.hataMesaj;\n          this.$toast.add({\n            severity: \"error\",\n            summary: \"Uyarı Ekranı\",\n            detail: mesaj,\n            life: 5000\n          });\n        }\n      });\n    },\n    guncellemeIslem() {\n      this.urunKart.username = this.username;\n      urunKartService.setUrunGuncelle(this.urunKart).then(data => {\n        if (data.kayitDurum) {\n          this.$toast.add({\n            severity: \"success\",\n            summary: \"Bilgi Ekranı\",\n            detail: \"Ürün Kartı Değiştirildi.\",\n            life: 5000\n          });\n          socket.siparis.emit(\"urunkart_guncelleme_event\", data.data);\n          socket.siparis.emit(\"anaSayfaDegisiklikEvent\", data.anaSayfaDegisiklik);\n        } else {\n          let mesaj = \"Sunucu Güncelleme İşlemini Yapamadı . Sunucudan dönen hata : \" + data.hataMesaj;\n          this.$toast.add({\n            severity: \"error\",\n            summary: \"Uyarı Ekranı\",\n            detail: mesaj,\n            life: 5000\n          });\n          console.log(\"Hata Mesajı: \", data.hataMesaj);\n        }\n      });\n    }\n  },\n  mounted() {\n    socket.siparis.on(\"urun_kart_silme_emit\", data => {\n      this.$store.dispatch(\"urunKartMenuAct\", data);\n    });\n    this.username = this.$store.getters.__getUsername.toUpperCase();\n    this.emitter.on(\"seleksiyonKasaKontrol\", data => {\n      this.seleksiyonKasaKontrol = data;\n    });\n    if (!this.yeniKayit) {\n      urunKartService.getUrunKart(this.urunKartId).then(data => {\n        this.urunKart = data;\n      });\n      urunKartService.getUrunDetayList(this.urunKartId).then(data => {\n        this.kategoriList = data.kategoriList;\n        this.musteriSatisListesi = data.musteriSatisList;\n        this.urunList = data.urunList;\n        this.yuzeyIslemList = data.yuzeyList;\n        this.enList = [];\n        this.boyList = [];\n        this.kenarList = [];\n        for (let key in data.olcuList) {\n          const item = data.olcuList[key];\n          let _en = this.enList.find(x => x.en == item.en);\n          let _boy = this.boyList.find(x => x.boy == item.boy);\n          let _kenar = this.kenarList.find(x => x.kenar == item);\n          if (_en == null) this.enList.push(item);\n          if (_boy == null) this.boyList.push(item);\n          if (_kenar == null) this.kenarList.push(item);\n        }\n        //ilgili alanların doldurulması\n        this.kategori = this.kategoriList.find(x => x.id == this.urunKart.kategoriId);\n        this.urun = this.urunList.find(x => x.id == this.urunKart.urunId);\n        this.en = this.enList.find(x => x.id == this.urunKart.olcuId);\n        this.boy = this.boyList.find(x => x.id == this.urunKart.olcuId);\n        this.kenar = this.kenarList.find(x => x.id == this.urunKart.olcuId);\n        if (this.en == null || this.boy == null) {\n          this.en = this.kenar.en;\n          this.boy = this.kenar.boy;\n        }\n        this.yuzeyIslem = this.yuzeyIslemList.find(x => x.id == this.urunKart.yuzeyId);\n      });\n    } else {\n      urunKartService.getUrunKartModel().then(data => {\n        this.urunKart = data;\n      });\n      urunKartService.getUrunDetayListYeni().then(data => {\n        this.kategoriList = data.kategoriList;\n        this.urunList = data.urunList;\n        this.yuzeyIslemList = data.yuzeyList;\n        this.enList = [];\n        this.boyList = [];\n        this.kenarList = [];\n        for (let key in data.olcuList) {\n          const item = data.olcuList[key];\n          let _en = this.enList.find(x => x.en == item.en);\n          let _boy = this.boyList.find(x => x.boy == item.boy);\n          let _kenar = this.kenarList.find(x => x.kenar == item);\n          if (_en == null) this.enList.push(item);\n          if (_boy == null) this.boyList.push(item);\n          if (_kenar == null) this.kenarList.push(item);\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["urunKartService","socket","useVuelidate","required","setup","v$","validations","kategori","urun","en","boy","kenar","yuzeyIslem","data","submitted","kontrolText","kategoriList","filterKategoriList","urunKart","musteriSatisListesi","filterUrunList","urunList","filterEnList","enList","filterBoyList","boyList","filterKenarList","kenarList","filterYuzeyIslemList","yuzeyIslemList","seleksiyonKasaKontrol","username","props","yeniKayit","type","Boolean","default","urunKartId","Number","isMobile","methods","formatDecimal","value","val","toFixed","replace","toString","isChangeEn","event","trim","isChangeBoy","isChangeKenar","isYuzeyBosluk","aramaKategori","setTimeout","result","query","length","filter","x","kategoriAdi","toLowerCase","startsWith","kategoriDegisim","kategoriId","id","aramaUrun","urunAdi","urunDegisim","urunId","aramaEn","aramaBoy","aramaKenar","kenarDegisim","console","log","kenarUnSelect","aramaYuzeyIslem","yuzeyIslemAdi","yuzeyIslemDegisim","yuzeyId","urunKartKayitIslemi","$invalid","$toast","add","severity","summary","detail","life","yeniKayitIslem","guncellemeIslem","setUrunKaydet","then","kayitDurum","siparis","emit","anaSayfaDegisiklik","mesaj","hataMesaj","setUrunGuncelle","mounted","on","$store","dispatch","getters","__getUsername","toUpperCase","emitter","getUrunKart","getUrunDetayList","musteriSatisList","yuzeyList","key","olcuList","item","_en","find","_boy","_kenar","push","olcuId","getUrunKartModel","getUrunDetayListYeni"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\urunkart\\UrunKartGiris.vue"],"sourcesContent":["<template>\r\n  <br />\r\n  <Card>\r\n    <template #header\r\n      ><div\r\n        v-if=\"seleksiyonKasaKontrol\"\r\n        style=\"background-color: red; color: white; text-align: center\"\r\n      >\r\n        {{ kontrolText }}\r\n      </div>\r\n    </template>\r\n    <template #content>\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <span class=\"p-float-label\">\r\n            <AutoComplete\r\n              id=\"kategori\"\r\n              v-model=\"kategori\"\r\n              :suggestions=\"filterKategoriList\"\r\n              field=\"kategoriAdi\"\r\n              :dropdown=\"true\"\r\n              @complete=\"aramaKategori($event)\"\r\n              @item-select=\"kategoriDegisim\"\r\n              :class=\"{ 'p-invalid': v$.kategori.$invalid && submitted }\"\r\n            />\r\n            <label for=\"kategori\">Kategori Adı</label>\r\n          </span>\r\n        </div>\r\n        <div class=\"column\">\r\n          <span class=\"p-float-label\">\r\n            <AutoComplete\r\n              id=\"urun\"\r\n              v-model=\"urun\"\r\n              :suggestions=\"filterUrunList\"\r\n              field=\"urunAdi\"\r\n              :dropdown=\"true\"\r\n              @complete=\"aramaUrun($event)\"\r\n              @item-select=\"urunDegisim\"\r\n              :class=\"{ 'p-invalid': v$.urun.$invalid && submitted }\"\r\n            />\r\n            <label for=\"urun\">Ürün Adı</label>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"columns\">\r\n        <div class=\"column is-2\">\r\n          <span class=\"p-float-label\">\r\n            <AutoComplete\r\n              id=\"en\"\r\n              v-model=\"en\"\r\n              :suggestions=\"filterEnList\"\r\n              field=\"en\"\r\n              :dropdown=\"true\"\r\n              @complete=\"aramaEn($event)\"\r\n              @input=\"isChangeEn\"\r\n              :class=\"{ 'p-invalid': v$.en.$invalid && submitted }\"\r\n            />\r\n            <label for=\"en\">En</label>\r\n          </span>\r\n        </div>\r\n        <div class=\"column is-2\">\r\n          <span class=\"p-float-label\">\r\n            <AutoComplete\r\n              id=\"boy\"\r\n              v-model=\"boy\"\r\n              :suggestions=\"filterBoyList\"\r\n              field=\"boy\"\r\n              @input=\"isChangeBoy\"\r\n              :dropdown=\"true\"\r\n              @complete=\"aramaBoy($event)\"\r\n              :class=\"{ 'p-invalid': v$.boy.$invalid && submitted }\"\r\n            />\r\n            <label for=\"boy\">Boy</label>\r\n          </span>\r\n        </div>\r\n        <div class=\"column is-2\">\r\n          <span class=\"p-float-label\">\r\n            <AutoComplete\r\n              id=\"kenar\"\r\n              v-model=\"kenar\"\r\n              :suggestions=\"filterKenarList\"\r\n              field=\"kenar\"\r\n              :dropdown=\"true\"\r\n              @complete=\"aramaKenar($event)\"\r\n              @item-select=\"kenarDegisim\"\r\n              @item-unselect=\"kenarUnSelect\"\r\n              @input=\"isChangeKenar\"\r\n              :class=\"{ 'p-invalid': v$.kenar.$invalid && submitted }\"\r\n            />\r\n            <label for=\"kenar\">Kenar</label>\r\n          </span>\r\n        </div>\r\n        <div class=\"column is-6\">\r\n          <span class=\"p-float-label\">\r\n            <AutoComplete\r\n              id=\"yuzey\"\r\n              v-model=\"yuzeyIslem\"\r\n              :suggestions=\"filterYuzeyIslemList\"\r\n              field=\"yuzeyIslemAdi\"\r\n              :dropdown=\"true\"\r\n              @complete=\"aramaYuzeyIslem($event)\"\r\n              @item-select=\"yuzeyIslemDegisim\"\r\n              @input=\"isYuzeyBosluk\"\r\n              :class=\"{ 'p-invalid': v$.yuzeyIslem.$invalid && submitted }\"\r\n            />\r\n            <label for=\"yuzey\">Yüzey İşlem</label>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <Button label=\"KAYDET\" @click=\"urunKartKayitIslemi\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"columns\">\r\n        <div class=\"column is-12\">\r\n          <DataTable\r\n            v-model:value=\"musteriSatisListesi\"\r\n            :paginator=\"false\"\r\n            dataKey=\"id\"\r\n            :scrollable=\"true\"\r\n            scrollHeight=\"310px\"\r\n          >\r\n            <Column field=\"musteriAdi\" header=\"Firma\">\r\n              <template #body=\"slotProps\">\r\n                {{ slotProps.data.musteriAdi }}\r\n              </template>\r\n            </Column>\r\n            <Column\r\n              field=\"siparisNo\"\r\n              header=\"Po\"\r\n              bodyStyle=\"text-align:center\"\r\n              headerStyle=\"width:100px;\"\r\n            >\r\n              <template #body=\"slotProps\">\r\n                {{ slotProps.data.siparisNo }}\r\n              </template>\r\n            </Column>\r\n            <Column\r\n              field=\"satisFiyati\"\r\n              header=\"Fiyat\"\r\n              bodyStyle=\"text-align:center\"\r\n              headerStyle=\"width:90px;\"\r\n            >\r\n              <template #body=\"slotProps\">\r\n                {{ formatDecimal(slotProps.data.satisFiyati) }}\r\n              </template>\r\n            </Column>\r\n            <Column\r\n              field=\"miktar\"\r\n              header=\"Miktar\"\r\n              bodyStyle=\"text-align:center\"\r\n              headerStyle=\"width:90px;\"\r\n            >\r\n              <template #body=\"slotProps\">\r\n                {{ formatDecimal(slotProps.data.miktar) }}\r\n              </template>\r\n            </Column>\r\n            <Column\r\n              field=\"tarih\"\r\n              header=\"Sevk Tarih\"\r\n              bodyStyle=\"text-align:center\"\r\n              headerStyle=\"width:120px;\"\r\n            >\r\n              <template #body=\"slotProps\">\r\n                {{ slotProps.data.tarih }}\r\n              </template>\r\n            </Column>\r\n          </DataTable>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </Card>\r\n</template>\r\n<script>\r\nimport urunKartService from \"@/service/UrunKartService\";\r\nimport socket from \"@/service/SocketService\";\r\nimport { useVuelidate } from \"@vuelidate/core\";\r\nimport { required } from \"@vuelidate/validators\";\r\nexport default {\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n  validations() {\r\n    return {\r\n      kategori: { required },\r\n      urun: { required },\r\n      en: { required },\r\n      boy: { required },\r\n      kenar: { required },\r\n      yuzeyIslem: { required },\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      submitted: false,\r\n      kontrolText: \"Bu ürün kartına ait kasa bulunmaktadır!\",\r\n      kategori: null,\r\n      kategoriList: null,\r\n      filterKategoriList: null,\r\n      urunKart: null,\r\n      musteriSatisListesi: null,\r\n      urun: null,\r\n      filterUrunList: null,\r\n      urunList: null,\r\n      en: null,\r\n      filterEnList: null,\r\n      enList: null,\r\n      boy: null,\r\n      filterBoyList: null,\r\n      boyList: null,\r\n      kenar: null,\r\n      filterKenarList: null,\r\n      kenarList: null,\r\n      yuzeyIslem: null,\r\n      filterYuzeyIslemList: null,\r\n      yuzeyIslemList: null,\r\n      seleksiyonKasaKontrol: null,\r\n      username: null,\r\n    };\r\n  },\r\n  props: {\r\n    yeniKayit: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    urunKartId: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    isMobile: {\r\n      type: Number,\r\n    },\r\n  },\r\n  methods: {\r\n    formatDecimal(value) {\r\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\r\n      return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n    },\r\n    isChangeEn(event) {\r\n      this.en = event.replace(\".\", \",\").trim();\r\n    },\r\n    isChangeBoy(event) {\r\n      this.boy = event.replace(\".\", \",\").trim();\r\n    },\r\n    isChangeKenar(event) {\r\n      this.kenar = event.replace(\".\", \",\").trim();\r\n    },\r\n    isYuzeyBosluk(event) {\r\n      this.yuzeyIslem = event.trim();\r\n    },\r\n    aramaKategori(event) {\r\n      setTimeout(() => {\r\n        let result;\r\n        if (event.query.length == 0) result = this.kategoriList;\r\n        else {\r\n          result = this.kategoriList.filter((x) => {\r\n            return x.kategoriAdi\r\n              .toLowerCase()\r\n              .startsWith(event.query.toLowerCase());\r\n          });\r\n        }\r\n        this.filterKategoriList = result;\r\n      }, 250);\r\n    },\r\n    kategoriDegisim() {\r\n      this.urunKart.kategoriId = this.kategori.id;\r\n    },\r\n    aramaUrun(event) {\r\n      setTimeout(() => {\r\n        let result;\r\n        if (event.query.length == 0) result = [...this.urunList];\r\n        else {\r\n          result = this.urunList.filter((x) => {\r\n            return x.urunAdi\r\n              .toLowerCase()\r\n              .startsWith(event.query.toLowerCase());\r\n          });\r\n        }\r\n        this.filterUrunList = result;\r\n      }, 250);\r\n    },\r\n    urunDegisim() {\r\n      this.urunKart.urunId = this.urun.id;\r\n    },\r\n    aramaEn(event) {\r\n      setTimeout(() => {\r\n        let result;\r\n        if (event.query.length == 0) result = [...this.enList];\r\n        else {\r\n          result = this.enList.filter((x) => {\r\n            return x.en.toLowerCase().startsWith(event.query.toLowerCase());\r\n          });\r\n        }\r\n        this.filterEnList = result;\r\n      }, 250);\r\n    },\r\n    aramaBoy(event) {\r\n      setTimeout(() => {\r\n        let result;\r\n        if (event.query.length == 0) result = [...this.boyList];\r\n        else {\r\n          result = this.boyList.filter((x) => {\r\n            return x.boy.toLowerCase().startsWith(event.query.toLowerCase());\r\n          });\r\n        }\r\n        this.filterBoyList = result;\r\n      }, 250);\r\n    },\r\n    aramaKenar(event) {\r\n      setTimeout(() => {\r\n        let result;\r\n        if (event.query.length == 0) result = [...this.kenarList];\r\n        else {\r\n          result = this.kenarList.filter((x) => {\r\n            return x.kenar.toLowerCase().startsWith(event.query.toLowerCase());\r\n          });\r\n        }\r\n        this.filterKenarList = result;\r\n      }, 250);\r\n    },\r\n    kenarDegisim(event) {\r\n      console.log(\"Kenar Değişim : \", event.value);\r\n    },\r\n    kenarUnSelect(event) {\r\n      console.log(\"Kenar item-unselect event\", event);\r\n    },\r\n    aramaYuzeyIslem(event) {\r\n      setTimeout(() => {\r\n        let result;\r\n        if (event.query.length == 0) result = [...this.yuzeyIslemList];\r\n        else {\r\n          result = this.yuzeyIslemList.filter((x) => {\r\n            return x.yuzeyIslemAdi\r\n              .toLowerCase()\r\n              .startsWith(event.query.toLowerCase());\r\n          });\r\n        }\r\n        this.filterYuzeyIslemList = result;\r\n      }, 250);\r\n    },\r\n    yuzeyIslemDegisim() {\r\n      this.urunKart.yuzeyId = this.yuzeyIslem.id;\r\n    },\r\n    urunKartKayitIslemi() {\r\n      this.submitted = true;\r\n      if (this.v$.$invalid) {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Zorunlu Alanlar\",\r\n          detail: \"Zorunlu alanları doldurunuz!\",\r\n          life: 3000,\r\n        });\r\n      } else {\r\n        this.urunKart.en = this.en.en ? this.en.en : this.en;\r\n        this.urunKart.boy = this.boy.boy ? this.boy.boy : this.boy;\r\n        this.urunKart.kategoriAdi = this.kategori.kategoriAdi\r\n          ? this.kategori.kategoriAdi\r\n          : this.kategori;\r\n        this.urunKart.yuzeyIslem = this.yuzeyIslem.yuzeyIslemAdi\r\n          ? this.yuzeyIslem.yuzeyIslemAdi\r\n          : this.yuzeyIslem;\r\n        this.urunKart.urunAdi = this.urun.urunAdi\r\n          ? this.urun.urunAdi\r\n          : this.urun;\r\n        if (this.kenar) {\r\n          this.urunKart.kenar = this.kenar.kenar\r\n            ? this.kenar.kenar\r\n            : this.kenar;\r\n        }\r\n        if (this.yeniKayit) this.yeniKayitIslem();\r\n        else this.guncellemeIslem();\r\n      }\r\n    },\r\n    yeniKayitIslem() {\r\n      this.urunKart.username = this.username;\r\n      urunKartService.setUrunKaydet(this.urunKart).then((data) => {\r\n        if (data.kayitDurum) {\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Bilgi Ekranı\",\r\n            detail: \"Ürün Kartı Kaydedildi.\",\r\n            life: 5000,\r\n          });\r\n          socket.siparis.emit(\"urunkart_yeni_event\", data.data);\r\n          socket.siparis.emit(\r\n            \"anaSayfaDegisiklikEvent\",\r\n            data.anaSayfaDegisiklik\r\n          );\r\n        } else {\r\n          let mesaj =\r\n            \"Sunucu Kayıt İşlemini Yapamadı . Sunucudan dönen hata : \" +\r\n            data.hataMesaj;\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Uyarı Ekranı\",\r\n            detail: mesaj,\r\n            life: 5000,\r\n          });\r\n        }\r\n      });\r\n    },\r\n    guncellemeIslem() {\r\n      this.urunKart.username = this.username;\r\n      urunKartService.setUrunGuncelle(this.urunKart).then((data) => {\r\n        if (data.kayitDurum) {\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Bilgi Ekranı\",\r\n            detail: \"Ürün Kartı Değiştirildi.\",\r\n            life: 5000,\r\n          });\r\n          socket.siparis.emit(\"urunkart_guncelleme_event\", data.data);\r\n          socket.siparis.emit(\r\n            \"anaSayfaDegisiklikEvent\",\r\n            data.anaSayfaDegisiklik\r\n          );\r\n        } else {\r\n          let mesaj =\r\n            \"Sunucu Güncelleme İşlemini Yapamadı . Sunucudan dönen hata : \" +\r\n            data.hataMesaj;\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Uyarı Ekranı\",\r\n            detail: mesaj,\r\n            life: 5000,\r\n          });\r\n          console.log(\"Hata Mesajı: \", data.hataMesaj);\r\n        }\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    socket.siparis.on(\"urun_kart_silme_emit\", (data) => {\r\n      this.$store.dispatch(\"urunKartMenuAct\", data);\r\n    });\r\n    this.username = this.$store.getters.__getUsername.toUpperCase();\r\n    this.emitter.on(\"seleksiyonKasaKontrol\", (data) => {\r\n      this.seleksiyonKasaKontrol = data;\r\n    });\r\n    if (!this.yeniKayit) {\r\n      urunKartService.getUrunKart(this.urunKartId).then((data) => {\r\n        this.urunKart = data;\r\n      });\r\n      urunKartService.getUrunDetayList(this.urunKartId).then((data) => {\r\n        this.kategoriList = data.kategoriList;\r\n        this.musteriSatisListesi = data.musteriSatisList;\r\n        this.urunList = data.urunList;\r\n        this.yuzeyIslemList = data.yuzeyList;\r\n        this.enList = [];\r\n        this.boyList = [];\r\n        this.kenarList = [];\r\n        for (let key in data.olcuList) {\r\n          const item = data.olcuList[key];\r\n          let _en = this.enList.find((x) => x.en == item.en);\r\n          let _boy = this.boyList.find((x) => x.boy == item.boy);\r\n          let _kenar = this.kenarList.find((x) => x.kenar == item);\r\n          if (_en == null) this.enList.push(item);\r\n          if (_boy == null) this.boyList.push(item);\r\n          if (_kenar == null) this.kenarList.push(item);\r\n        }\r\n        //ilgili alanların doldurulması\r\n        this.kategori = this.kategoriList.find(\r\n          (x) => x.id == this.urunKart.kategoriId\r\n        );\r\n        this.urun = this.urunList.find((x) => x.id == this.urunKart.urunId);\r\n        this.en = this.enList.find((x) => x.id == this.urunKart.olcuId);\r\n        this.boy = this.boyList.find((x) => x.id == this.urunKart.olcuId);\r\n        this.kenar = this.kenarList.find((x) => x.id == this.urunKart.olcuId);\r\n        if (this.en == null || this.boy == null) {\r\n          this.en = this.kenar.en;\r\n          this.boy = this.kenar.boy;\r\n        }\r\n        this.yuzeyIslem = this.yuzeyIslemList.find(\r\n          (x) => x.id == this.urunKart.yuzeyId\r\n        );\r\n      });\r\n    } else {\r\n      urunKartService.getUrunKartModel().then((data) => {\r\n        this.urunKart = data;\r\n      });\r\n      urunKartService.getUrunDetayListYeni().then((data) => {\r\n        this.kategoriList = data.kategoriList;\r\n        this.urunList = data.urunList;\r\n        this.yuzeyIslemList = data.yuzeyList;\r\n        this.enList = [];\r\n        this.boyList = [];\r\n        this.kenarList = [];\r\n        for (let key in data.olcuList) {\r\n          const item = data.olcuList[key];\r\n          let _en = this.enList.find((x) => x.en == item.en);\r\n          let _boy = this.boyList.find((x) => x.boy == item.boy);\r\n          let _kenar = this.kenarList.find((x) => x.kenar == item);\r\n          if (_en == null) this.enList.push(item);\r\n          if (_boy == null) this.boyList.push(item);\r\n          if (_kenar == null) this.kenarList.push(item);\r\n        }\r\n      });\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\nlabel {\r\n  justify-content: center;\r\n  display: flex;\r\n  font-weight: bold;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}