{"ast":null,"code":"import { createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-d196d7fe\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"columns\"\n};\nconst _hoisted_2 = {\n  class: \"column is-12\"\n};\nconst _hoisted_3 = {\n  class: \"p-caritem\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  style: {\n    \"margin-left\": \"25px\"\n  }\n};\nconst _hoisted_6 = {\n  class: \"columns is-centered\"\n};\nconst _hoisted_7 = {\n  class: \"column is-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_PickList = _resolveComponent(\"PickList\");\n  const _component_b_button = _resolveComponent(\"b-button\");\n  return _openBlock(), _createElementBlock(\"section\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_PickList, {\n    modelValue: $data.fotolist,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.fotolist = $event),\n    listStyle: \"height:342px\",\n    dataKey: \"id\",\n    onMoveToTarget: _cache[1] || (_cache[1] = $event => $options.fotoSilEkle($event)),\n    onMoveAllToTarget: _cache[2] || (_cache[2] = $event => $options.fotoSilEkleHepsi($event)),\n    onReorder: _cache[3] || (_cache[3] = $event => $options.fotoSiraDegisim($event)),\n    onMoveToSource: _cache[4] || (_cache[4] = $event => $options.fotoGeriAl($event)),\n    onMoveAllToSource: _cache[5] || (_cache[5] = $event => $options.fotoGeriAlHepsi($event))\n  }, {\n    sourceHeader: _withCtx(() => [_createTextVNode(\" Foto Listesi \")]),\n    targetHeader: _withCtx(() => [_createTextVNode(\" Silinecek Foto Listesi \")]),\n    item: _withCtx(slotProps => [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n      src: slotProps.item.nocdn\n    }, null, 8 /* PROPS */, _hoisted_4), _createElementVNode(\"div\", null, _toDisplayString(slotProps.item.name), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_5, _toDisplayString(slotProps.item.sira), 1 /* TEXT */)])]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_b_button, {\n    onClick: $options.fotoDataDegisim,\n    loading: $data.loading,\n    disabled: $data.iskaydet,\n    type: \"is-success\",\n    expanded: \"\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" KAYDET \")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\", \"loading\", \"disabled\"])])])]);\n}","map":{"version":3,"mappings":";;;EAESA,KAAK,EAAC;AAAS;;EACXA,KAAK,EAAC;AAAc;;EAkBRA,KAAK,EAAC;AAAW;;;EAGXC,KAAyB,EAAzB;IAAA;EAAA;AAAyB;;EAM/CD,KAAK,EAAC;AAAqB;;EACnBA,KAAK,EAAC;AAAa;;;;uBA9BpCE,oBAqCU,kBApCNC,oBA2BM,OA3BNC,UA2BM,GA1BFD,oBAyBM,OAzBNE,UAyBM,GAxBFC,aAuBWC;gBAtBFC,cAAQ;+DAARA,cAAQ;IACjBC,SAAS,EAAC,cAAc;IACxBC,OAAO,EAAC,IAAI;IACXC,cAAc,sCAAEC,oBAAW,CAACC,MAAM;IAClCC,iBAAkB,sCAAEF,yBAAgB,CAACC,MAAM;IAC3CE,SAAO,sCAAEH,wBAAe,CAACC,MAAM;IAC/BG,cAAc,sCAAEJ,mBAAU,CAACC,MAAM;IACjCI,iBAAkB,sCAAEL,wBAAe,CAACC,MAAM;;IAE5BK,YAAY,WAAC,MAExB,kBAFwB,gBAExB;IACWC,YAAY,WAAC,MAExB,kBAFwB,0BAExB;IACWC,IAAI,WAAEC,SAAS,KACtBlB,oBAIM,OAJNmB,UAIM,GAHFnB,oBAAiC;MAA3BoB,GAAG,EAAEF,SAAS,CAACD,IAAI,CAACI;yCAC1BrB,oBAAmC,8BAA5BkB,SAAS,CAACD,IAAI,CAACK,IAAI,kBACzBtB,oBAA8D,QAA9DuB,UAA8D,mBAA5BL,SAAS,CAACD,IAAI,CAACO,IAAI;;;yCAM1ExB,oBAOU,OAPVyB,UAOU,GANFzB,oBAKM,OALN0B,UAKM,GAJFvB,aAG8CwB;IAHnCC,OAAK,EAAEnB,wBAAe;IAChCoB,OAAO,EAAExB,aAAO;IAChByB,QAAQ,EAAEzB,cAAQ;IACnB0B,IAAI,EAAC,YAAY;IAACC,QAAQ,EAAR;;sBAAS,MAAQ,kBAAR,UAAQ","names":["class","style","_createElementBlock","_createElementVNode","_hoisted_1","_hoisted_2","_createVNode","_component_PickList","$data","listStyle","dataKey","onMoveToTarget","$options","$event","onMoveAllToTarget","onReorder","onMoveToSource","onMoveAllToSource","sourceHeader","targetHeader","item","slotProps","_hoisted_3","src","nocdn","name","_hoisted_5","sira","_hoisted_6","_hoisted_7","_component_b_button","onClick","loading","disabled","type","expanded"],"sourceRoot":"","sources":["C:\\PROJELER\\NewProjects\\gitPull\\newprojectweb\\src\\components\\mekmarcom\\UrunFotoList.vue"],"sourcesContent":["<template>\r\n<section>\r\n    <div class=\"columns\">\r\n        <div class=\"column is-12\">\r\n            <PickList \r\n            v-model=\"fotolist\" \r\n            listStyle=\"height:342px\" \r\n            dataKey=\"id\" \r\n            @move-to-target=\"fotoSilEkle($event)\"\r\n            @move-all-to-target=\"fotoSilEkleHepsi($event)\"\r\n            @reorder=\"fotoSiraDegisim($event)\"\r\n            @move-to-source=\"fotoGeriAl($event)\"\r\n            @move-all-to-source=\"fotoGeriAlHepsi($event)\"\r\n            >\r\n                <template #sourceHeader>\r\n                    Foto Listesi\r\n                </template>\r\n                <template #targetHeader>\r\n                    Silinecek Foto Listesi\r\n                </template>\r\n                <template #item=\"slotProps\">\r\n                    <div class=\"p-caritem\">\r\n                        <img :src=\"slotProps.item.nocdn\">\r\n                        <div>{{slotProps.item.name}} </div>\r\n                         <span style=\"margin-left:25px;\">{{slotProps.item.sira}}</span>\r\n                    </div>\r\n                </template>\r\n            </PickList>\r\n        </div>\r\n    </div>\r\n    <div class=\"columns is-centered\">\r\n            <div class=\"column is-3\">\r\n                <b-button @click=\"fotoDataDegisim\" \r\n                :loading=\"loading\" \r\n                :disabled=\"iskaydet\" \r\n                type=\"is-success\" expanded> KAYDET </b-button>\r\n            </div>\r\n        </div>\r\n</section>\r\n</template>\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport mekmarService from '../../service/MekmarService';\r\nimport service from '../../service/MekmarPanelService';\r\n\r\nexport default {\r\n    \r\n    computed : {\r\n\r\n        ...mapGetters([\r\n            'pickfotolist'\r\n        ])\r\n    },\r\n    props : ['urunid'],\r\n    data(){\r\n\r\n        return {\r\n\r\n            fotolist : null,\r\n            fotosillist : [],\r\n            fotodegisimlist:[],\r\n            iskaydet : true,\r\n            loading : false\r\n        }\r\n    },\r\n    created(){ \r\n\r\n        this.fotolist = [...this.pickfotolist]; \r\n        console.log('Foto list : ', this.fotolist)\r\n        \r\n    },\r\n    methods : {\r\n\r\n        fotoSilEkle(event){\r\n\r\n            \r\n\r\n            for(let key in event.items){\r\n\r\n                const item = event.items[key];\r\n\r\n                this.fotosillist.push(item)\r\n            }\r\n\r\n            this.kayitKontrol();\r\n\r\n           \r\n        },\r\n        fotoSilEkleHepsi(event){\r\n\r\n            \r\n             for(let key in event.items){\r\n\r\n                const item = event.items[key];\r\n\r\n                this.fotosillist.push(item)\r\n            }\r\n            this.kayitKontrol();\r\n           \r\n        },\r\n        fotoSiraDegisim(event){\r\n\r\n           \r\n            let sira = 1;\r\n            for(let key in event.value[0]){\r\n\r\n                const item = event.value[0][key]\r\n\r\n                this.fotodegisimlist.push({...item,sira : sira})\r\n\r\n                sira  += 1\r\n\r\n            }\r\n            this.kayitKontrol();\r\n            \r\n        },\r\n        fotoGeriAl(event){\r\n            \r\n\r\n            for(let key in event.items){\r\n\r\n                const item = event.items[key]\r\n\r\n                for(let key1 in this.fotosillist){\r\n\r\n                    if(this.fotosillist[key1]._id == item._id){\r\n                        \r\n                        this.fotosillist.splice(key1,1)\r\n                    }\r\n                }\r\n            }\r\n            this.kayitKontrol();\r\n            \r\n        },\r\n        fotoGeriAlHepsi(event){\r\n\r\n           for(let key in event.items){\r\n\r\n                const item = event.items[key]\r\n\r\n                for(let key1 in this.fotosillist){\r\n\r\n                    if(this.fotosillist[key1]._id == item._id){\r\n                        \r\n                        this.fotosillist.splice(key1,1)\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.kayitKontrol();\r\n\r\n        },\r\n        kayitKontrol(){\r\n\r\n            this.iskaydet = true;\r\n            let urunsil = this.fotosillist.length;\r\n            let urundegisim = this.fotodegisimlist.length\r\n\r\n            if(urunsil > 0 || urundegisim > 0) this.iskaydet = false;\r\n        },\r\n        fotoDataDegisim(){\r\n\r\n            this.loading = true;\r\n            const fotodata = { 'fotoSilList' : this.fotosillist,'fotoSiraDegisim' : this.fotodegisimlist };\r\n           \r\n            mekmarService.fotoListDegisim(fotodata).then(res => {\r\n               \r\n                 if(res.status)  this.getProductDetailData()\r\n                \r\n            })\r\n        },\r\n        getProductDetailData(){\r\n\r\n            service.getProductDetailData(this.urunid).then(data => {\r\n\r\n                 this.$store.dispatch('loadUrun',data)\r\n                 this.loading = false\r\n            })\r\n        }\r\n    }\r\n    \r\n  \r\n}\r\n</script>\r\n<style scoped>\r\n  img {\r\n\r\n      width: 50px;\r\n      height: 50px;\r\n      vertical-align: middle;\r\n  }\r\n  .p-caritem div {\r\n\r\n      float:right;\r\n      vertical-align: middle;\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}